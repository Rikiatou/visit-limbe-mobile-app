<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visit Limbe - Secure Tourism Platform</title>
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' https://fcmdwakctnthedasowne.supabase.co https://www.googleapis.com https://www.facebook.com https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com https://fonts.gstatic.com; img-src 'self' data: https:; font-src 'self' https://fonts.googleapis.com https://fonts.gstatic.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="robots" content="index, follow">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Visit Limbe">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined:wght@300;400;500;600;700&display=swap">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Supabase JavaScript Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Advanced Features Script -->
    <script type="module" src="js/advanced-supabase-services.js"></script>
    <style>
        /* Mobile First Design System */
        :root {
            --primary: #6366f1; /* Indigo */
            --secondary: #8b5cf6; /* Violet */
            --accent: #06b6d4; /* Cyan */
            --success: #10b981; /* Emerald */
            --warning: #f59e0b; /* Amber */
            --error: #ef4444; /* Red */
            --background: #f8fafc;
            --surface: #ffffff;
            --surface-variant: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius: 12px;
            --radius-lg: 16px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
        }

        /* Global Styles */
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.5;
            margin: 0;
            padding: 0;
        }

        /* Card Component */
        .card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .card-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border);
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .card-body {
            padding: var(--spacing-lg);
        }

        .card-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border);
            background: var(--surface-variant);
        }

        /* Button Component */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: var(--spacing-md) var(--spacing-lg);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.24s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 44px; /* touch target */
            text-decoration: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* Alert animations */
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Modern User Dashboard Styles */
        .dashboard-container {
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px 16px;
            color: white;
            border-radius: 0 0 24px 24px;
            margin-bottom: 16px;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
            border: 3px solid rgba(255,255,255,0.3);
        }

        .user-info h4 {
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }

        .user-info .location {
            margin: 4px 0 0 0;
            opacity: 0.9;
            font-size: 14px;
        }

        .weather-widget {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.15);
            padding: 8px 12px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .weather-icon {
            font-size: 24px;
        }

        .weather-info .temp {
            font-size: 16px;
            font-weight: 600;
            display: block;
        }

        .weather-info .desc {
            font-size: 12px;
            opacity: 0.8;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .stat-card {
            background: rgba(255,255,255,0.15);
            padding: 12px;
            border-radius: 16px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .stat-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.8;
        }

        .quick-actions, .modules-section, .recent-section, .offers-section {
            margin: 0 16px 20px 16px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        .action-btn {
            background: white;
            border: none;
            border-radius: 16px;
            padding: 16px 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .action-btn .material-icons {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .action-btn span:last-child {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .module-category {
            margin-bottom: 24px;
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .category-header .material-icons {
            color: var(--primary);
        }

        .category-header h6 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }

        .module-cards {
            display: grid;
            gap: 12px;
        }

        .module-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .module-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .module-card.featured {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .module-icon {
            font-size: 32px;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
        }

        .module-card.featured .module-icon {
            background: rgba(255,255,255,0.2);
        }

        .module-content {
            flex: 1;
        }

        .module-content h6 {
            margin: 0 0 4px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .module-content p {
            margin: 0;
            font-size: 13px;
            opacity: 0.7;
        }

        .module-badge {
            background: rgba(255,255,255,0.9);
            color: var(--primary);
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 12px;
            font-weight: 600;
            margin-top: 8px;
            display: inline-block;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 12px;
            background: white;
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        }

        .activity-icon {
            font-size: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--surface-variant);
            border-radius: 50%;
        }

        .activity-content {
            flex: 1;
        }

        .activity-content h6 {
            margin: 0 0 2px 0;
            font-size: 14px;
            font-weight: 600;
        }

        .activity-content p {
            margin: 0;
            font-size: 12px;
            color: var(--text-secondary);
        }

        .activity-time {
            font-size: 11px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .offer-card {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            border-radius: 16px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .offer-content {
            flex: 1;
        }

        .offer-badge {
            background: rgba(255,255,255,0.9);
            color: #ff6b6b;
            font-size: 12px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 8px;
            margin-bottom: 8px;
            display: inline-block;
        }

        .offer-content h6 {
            margin: 0 0 4px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .offer-content p {
            margin: 0 0 8px 0;
            font-size: 13px;
            opacity: 0.9;
        }

        .offer-price {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .current-price {
            font-size: 18px;
            font-weight: bold;
        }

        .original-price {
            font-size: 14px;
            text-decoration: line-through;
            opacity: 0.7;
        }

        .offer-image {
            font-size: 40px;
        }

        /* ============== MOBILE-FIRST RESPONSIVE DESIGN ============== */
        
        /* Real-time notification */
        .real-time-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            box-shadow: var(--shadow-lg);
            transform: translateX(100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .real-time-notification.show {
            transform: translateX(0);
        }

        .real-time-notification .material-icons {
            font-size: 18px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Mobile-first module grid */
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--spacing-lg);
            padding: var(--spacing-lg);
            margin: 0;
        }

        /* Mobile-optimized module cards */
        .module-card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 120px;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }

        .module-card:hover,
        .module-card:focus {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .module-card-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .module-card-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            flex-shrink: 0;
        }

        .module-card-content {
            flex: 1;
        }

        .module-card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 4px 0;
            line-height: 1.3;
        }

        .module-card-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin: 0;
            line-height: 1.4;
        }

        .module-card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: auto;
        }

        .module-card-stats {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            font-size: 12px;
            color: var(--text-secondary);
        }

        .module-card-arrow {
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .module-card:hover .module-card-arrow {
            transform: translateX(4px);
        }

        /* Mobile-optimized buttons */
        .btn-mobile {
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 500;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 48px;
            touch-action: manipulation;
        }

        .btn-mobile:hover,
        .btn-mobile:focus {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-mobile:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text-primary);
            border: 2px solid var(--border);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--error), #dc2626);
            color: white;
        }

        /* Mobile-first modal system */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-lg);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--surface);
            border-radius: var(--radius-lg);
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9) translateY(20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-lg);
        }

        .modal.show .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            padding: var(--spacing-lg);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--surface-variant);
            color: var(--text-primary);
        }

        .modal-body {
            padding: var(--spacing-lg);
        }

        .modal-footer {
            padding: var(--spacing-lg);
            border-top: 1px solid var(--border);
            display: flex;
            gap: var(--spacing-md);
            justify-content: flex-end;
        }

        /* Mobile-optimized forms */
        .form-group {
            margin-bottom: var(--spacing-lg);
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            font-size: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--surface);
            color: var(--text-primary);
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-control::placeholder {
            color: var(--text-secondary);
        }

        /* Mobile navigation improvements */
        .mobile-nav-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            border-top: 1px solid var(--border);
            padding: var(--spacing-sm) var(--spacing-md);
            z-index: 1000;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }

        .mobile-nav-items {
            display: flex;
            justify-content: space-around;
            align-items: center;
            max-width: 500px;
            margin: 0 auto;
        }

        .mobile-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 12px;
            border-radius: 12px;
            text-decoration: none;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            flex: 1;
            max-width: 80px;
        }

        .mobile-nav-item.active,
        .mobile-nav-item:hover {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .mobile-nav-item .material-icons {
            font-size: 20px;
        }

        .mobile-nav-item span {
            font-size: 10px;
            font-weight: 500;
            text-align: center;
        }

        /* ============== MODAL SYSTEM STYLES ============== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            max-width: 90vw;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s ease;
            animation: modalEnter 0.3s ease-out forwards;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        @keyframes modalEnter {
            from {
                transform: scale(0.9) translateY(20px);
                opacity: 0;
            }
            to {
                transform: scale(1) translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid #e0e0e0;
            background: #f8f9fa;
        }

        .modal-title {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 600;
            color: #333;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: #e0e0e0;
            color: #333;
        }

        .modal-body {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 1px solid #e0e0e0;
            background: #f8f9fa;
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        /* ============== ITEM DETAILS STYLES ============== */
        .item-details {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .item-details-image {
            width: 100%;
            height: 200px;
            border-radius: 8px;
            overflow: hidden;
        }

        .item-details-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .item-details-content h2 {
            margin: 0 0 8px 0;
            font-size: 1.5rem;
            color: #333;
        }

        .vendor, .company {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .stars {
            color: #ffa500;
            font-size: 1.2rem;
        }

        .rating-value {
            color: #666;
            font-size: 0.9rem;
        }

        .price-info {
            margin: 12px 0;
        }

        .price {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2e7d32;
        }

        .original-price {
            font-size: 1rem;
            color: #999;
            text-decoration: line-through;
            margin-left: 8px;
        }

        .job-meta {
            display: flex;
            gap: 12px;
            margin: 12px 0;
        }

        .job-type, .salary {
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .details-grid {
            display: grid;
            gap: 12px;
            margin: 16px 0;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
        }

        .detail-item i {
            color: #1976d2;
            font-size: 20px;
        }

        .detail-item span {
            color: #333;
            font-size: 0.9rem;
        }

        .amenities, .requirements, .agenda {
            margin-top: 20px;
        }

        .amenities h3, .requirements h3, .agenda h3 {
            margin: 0 0 12px 0;
            font-size: 1.1rem;
            color: #333;
        }

        .amenities-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .amenity-tag {
            background: #f0f0f0;
            color: #333;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.85rem;
        }

        .requirements ul {
            margin: 0;
            padding-left: 20px;
        }

        .requirements li {
            margin-bottom: 6px;
            color: #555;
        }

        /* ============== FORM STYLES ============== */
        .booking-form, .application-form, .rsvp-form, .contact-form {
            max-width: 100%;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #333;
            font-size: 0.9rem;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }

        .form-control:focus {
            outline: none;
            border-color: #1976d2;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .form-text {
            font-size: 0.8rem;
            color: #666;
            margin-top: 4px;
        }

        .price-summary {
            background: #f8f9fa;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }

        .price-item, .price-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .price-total {
            font-weight: 600;
            font-size: 1.1rem;
            border-top: 1px solid #e0e0e0;
            padding-top: 8px;
            margin-top: 8px;
            margin-bottom: 0;
        }

        /* ============== NOTIFICATION SYSTEM ============== */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4caf50;
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 10001;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 300px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #f44336;
        }

        .notification.warning {
            background: #ff9800;
        }

        .notification.info {
            background: #2196f3;
        }

        .notification i {
            font-size: 20px;
        }

        /* Responsive breakpoints */
        @media (max-width: 768px) {
            .modules-grid {
                grid-template-columns: 1fr;
                padding: var(--spacing-md);
                gap: var(--spacing-md);
            }
            
            .modal {
                padding: var(--spacing-md);
                align-items: flex-end;
            }
            
            .modal-content {
                border-radius: var(--radius-lg) var(--radius-lg) 0 0;
                max-height: 80vh;
                max-width: 95vw;
                margin: 20px;
            }

            .modal-header, .modal-body, .modal-footer {
                padding: 16px;
            }

            .modal-title {
                font-size: 1.1rem;
            }

            .item-details {
                gap: 16px;
            }

            .item-details-image {
                height: 160px;
            }

            .item-details-content h2 {
                font-size: 1.25rem;
            }

            .details-grid {
                gap: 8px;
            }

            .modal-footer {
                flex-direction: column-reverse;
            }

            .modal-footer button {
                width: 100%;
                margin-bottom: 8px;
            }

            .form-control {
                padding: 14px 16px;
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .notification {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
                width: auto;
            }
            
            .btn-mobile {
                font-size: 14px;
                padding: 10px 20px;
            }
        }

        @media (max-width: 480px) {
            .modal-content {
                max-width: 100vw;
                max-height: 100vh;
                border-radius: 0;
                margin: 0;
            }

            .modal-header, .modal-body, .modal-footer {
                padding: 12px;
            }

            .item-details-image {
                height: 140px;
            }

            .amenities-list {
                gap: 6px;
            }

            .amenity-tag {
                font-size: 0.8rem;
                padding: 4px 8px;
            }

            .modules-grid {
                padding: var(--spacing-sm);
                gap: var(--spacing-sm);
            }
            
            .module-card {
                padding: var(--spacing-md);
                min-height: 100px;
            }
            
            .module-card-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }
            
            .module-card-title {
                font-size: 16px;
            }
            
            .module-card-description {
                font-size: 13px;
            }
        }

        /* Loading states */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-xl);
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-top: 2px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: var(--spacing-sm);
        }

        /* ============== MODULE SYSTEM STYLES ============== */

        .module-container {
            padding: var(--spacing-lg);
            max-width: 1200px;
            margin: 0 auto;
        }

        .module-header {
            margin-bottom: var(--spacing-xl);
        }

        .module-header-content {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }

        .btn-back {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 8px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.3s ease;
        }

        .btn-back:hover {
            background: var(--surface-variant);
            color: var(--text-primary);
        }

        .module-header-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            flex: 1;
        }

        .module-header-icon {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
        }

        .module-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
            line-height: 1.2;
        }

        .module-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin: 4px 0 0 0;
            line-height: 1.4;
        }

        .module-actions {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
        }

        .btn-module-action {
            background: var(--surface);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 8px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: all 0.3s ease;
        }

        .btn-module-action:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .module-content {
            min-height: 400px;
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: var(--spacing-lg);
        }

        /* Item card styles */
        .item-card {
            background: var(--surface);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .item-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .item-card-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .item-card-image img,
        .item-card-image video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .item-card:hover .item-card-image img,
        .item-card:hover .item-card-image video {
            transform: scale(1.05);
        }

        .item-card-badge {
            position: absolute;
            top: var(--spacing-md);
            right: var(--spacing-md);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .item-card-header {
            padding: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .item-card-content {
            padding: var(--spacing-lg);
        }

        .item-card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0 0 var(--spacing-sm) 0;
            line-height: 1.3;
        }

        .item-card-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin: 0 0 var(--spacing-md) 0;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .item-card-meta {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }

        .item-card-meta > div {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            font-size: 12px;
            color: var(--text-secondary);
        }

        .item-card-meta .material-icons {
            font-size: 16px;
        }

        .item-card-actions {
            padding: var(--spacing-md) var(--spacing-lg) var(--spacing-lg);
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
        }

        .btn-action {
            flex: 1;
            min-width: 100px;
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
            text-decoration: none;
        }

        .btn-action .material-icons {
            font-size: 16px;
        }

        .btn-action.btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-action.btn-secondary {
            background: var(--surface-variant);
            color: var(--text-secondary);
        }

        .btn-action.btn-success {
            background: var(--success);
            color: white;
        }

        .btn-action.btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-action.btn-danger {
            background: var(--error);
            color: white;
        }

        .btn-action:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Module-specific badges */
        .hotel-card .item-card-badge {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .product-card .discount-badge {
            position: absolute;
            top: var(--spacing-md);
            left: var(--spacing-md);
            background: var(--error);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .job-card .job-type-badge,
        .property-card .property-type-badge,
        .service-card .service-category-badge,
        .finance-card .finance-type-badge,
        .health-card .facility-type-badge,
        .education-card .education-type-badge,
        .transport-card .transport-type-badge,
        .culture-card .culture-type-badge,
        .map-card .location-type-badge,
        .gallery-card .media-type-badge,
        .smartgro-card .organic-badge,
        .streaming-card .duration-badge {
            position: absolute;
            top: var(--spacing-md);
            left: var(--spacing-md);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }

        .smartgro-card .organic-badge {
            background: var(--success);
            top: calc(var(--spacing-md) + 32px);
        }

        .event-card .event-date-badge {
            position: absolute;
            top: var(--spacing-md);
            left: var(--spacing-md);
            background: white;
            color: var(--text-primary);
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            box-shadow: var(--shadow);
            min-width: 48px;
        }

        .event-date-badge .day {
            display: block;
            font-size: 16px;
            font-weight: 700;
            line-height: 1;
        }

        .event-date-badge .month {
            display: block;
            font-size: 10px;
            font-weight: 500;
            text-transform: uppercase;
            line-height: 1;
        }

        .support-card .ticket-number {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .support-card .status-badge {
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            color: white;
            text-transform: uppercase;
        }

        .gallery-card .play-button,
        .streaming-card .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-card .play-button:hover,
        .streaming-card .play-button:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: translate(-50%, -50%) scale(1.1);
        }

        .gallery-card .play-button .material-icons,
        .streaming-card .play-button .material-icons {
            font-size: 32px;
        }

        /* Rating stars */
        .rating {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .stars {
            color: #fbbf24;
            font-size: 14px;
        }

        .rating-value {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Company/provider names */
        .company,
        .provider,
        .farmer,
        .institution {
            font-size: 13px;
            color: var(--primary);
            font-weight: 500;
            margin: 0 0 var(--spacing-sm) 0;
        }

        /* Mobile responsiveness for cards */
        @media (max-width: 768px) {
            .module-container {
                padding: var(--spacing-md);
            }
            
            .module-header-content {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-md);
            }
            
            .module-header-info {
                width: 100%;
            }
            
            .module-title {
                font-size: 20px;
            }
            
            .module-grid {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }
            
            .item-card-actions {
                padding: var(--spacing-md);
            }
            
            .btn-action {
                padding: 10px 8px;
                font-size: 11px;
                min-width: 80px;
            }
        }

        @media (max-width: 480px) {
            .module-container {
                padding: var(--spacing-sm);
            }
            
            .module-header-content {
                gap: var(--spacing-sm);
            }
            
            .module-header-icon {
                width: 48px;
                height: 48px;
                font-size: 24px;
            }
            
            .module-title {
                font-size: 18px;
            }
            
            .item-card-image {
                height: 160px;
            }
            
            .item-card-content {
                padding: var(--spacing-md);
            }
            
            .item-card-title {
                font-size: 16px;
            }
            
            .item-card-actions {
                flex-direction: column;
                gap: var(--spacing-xs);
            }
            
            .btn-action {
                width: 100%;
                justify-content: center;
            }
        }

        .bottom-navigation .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            text-decoration: none;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .bottom-navigation .nav-item.active {
            color: var(--primary);
        }

        .bottom-navigation .nav-item .material-icons {
            font-size: 20px;
            margin-bottom: 2px;
        }

        .bottom-navigation .nav-item span:last-child {
            font-size: 11px;
            font-weight: 500;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .dashboard-container {
                background: var(--background);
            }
            
            .dashboard-header {
                border-radius: 0 0 20px 20px;
                padding: 16px;
            }
            
            .profile-section {
                margin-bottom: 16px;
            }
            
            .user-avatar {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .user-info h4 {
                font-size: 18px;
            }
        }

        .btn .material-icons {
            font-size: 20px;
            line-height: 1;
            margin-right: 8px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn.btn-icon {
            padding: 0;
            width: 44px;
            height: 44px;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--surface-variant);
            transform: translateY(-1px);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
            color: white;
        }

        .btn-icon {
            width: 44px;
            height: 44px;
            padding: 0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Icon Component */
        .icon {
            font-size: 20px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-lg {
            font-size: 24px;
            width: 24px;
            height: 24px;
        }

        .icon-xl {
            font-size: 32px;
            width: 32px;
            height: 32px;
        }

        /* Grid System */
        .grid {
            display: grid;
            gap: var(--spacing-lg);
        }

        .grid-1 {
            grid-template-columns: 1fr;
        }

        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }

        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }

        .grid-4 {
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }

        /* Spacing Utilities */
        .p-xs { padding: var(--spacing-xs); }
        .p-sm { padding: var(--spacing-sm); }
        .p-md { padding: var(--spacing-md); }
        .p-lg { padding: var(--spacing-lg); }
        .p-xl { padding: var(--spacing-xl); }

        .m-xs { margin: var(--spacing-xs); }
        .m-sm { margin: var(--spacing-sm); }
        .m-md { margin: var(--spacing-md); }
        .m-lg { margin: var(--spacing-lg); }
        .m-xl { margin: var(--spacing-xl); }

        /* Text Utilities */
        .text-truncate {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Truncate long titles in module and card headers */
        .module-info h6, .card-header h6, .featured-content h6, .module-info h6 {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .text-primary { color: var(--primary); }
        .text-secondary { color: var(--text-secondary); }
        .text-success { color: var(--success); }
        .text-warning { color: var(--warning); }
        .text-error { color: var(--error); }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f1f5f9;
            color: #334155;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        .app-container {
            max-width: 400px;
            margin: 0 auto;
            min-height: 100vh;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            position: relative;
        }
        
        /* Full-screen layout for admin dashboard */
        .app-container.admin-fullscreen {
            max-width: 100%;
            margin: 0;
            box-shadow: none;
        }
        
        /* Mobile and Tablet Responsive App Container */
        @media (max-width: 1024px) {
            .app-container {
                max-width: 100%;
                box-shadow: none;
            }
        }
        
        @media (max-width: 768px) {
            .app-container {
                max-width: 100%;
                margin: 0;
                box-shadow: none;
            }
        }
        
        /* Welcome Page - Full Background */
        /* Mobile Welcome Page - App-style Layout */
        .mobile-welcome-page {
            background-image: url('assets/images/welcome-limbe.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            height: 100vh;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .mobile-welcome-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                180deg, 
                rgba(0, 0, 0, 0.4) 0%, 
                rgba(0, 0, 0, 0.2) 50%, 
                rgba(0, 0, 0, 0.6) 100%
            );
            z-index: 1;
        }
        
        /* Mobile Header */
        .mobile-header {
            position: relative;
            z-index: 10;
            padding: 1rem;
            display: flex;
            justify-content: flex-end;
        }
        
        /* Mobile Content Overlay */
        .mobile-content-overlay {
            position: relative;
            z-index: 5;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 1rem;
            text-align: center;
            color: white;
        }
        
        /* Mobile App Header */
        .mobile-app-header {
            margin-bottom: 3rem;
        }
        
        .app-logo {
            width: 100px;
            height: 100px;
            border-radius: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            margin: 0 auto 1.5rem auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            border: 3px solid rgba(255,255,255,0.2);
        }
        
        .mobile-app-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin: 0 0 0.5rem 0;
            text-shadow: 0 4px 20px rgba(0,0,0,0.8);
            letter-spacing: -1px;
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .mobile-app-subtitle {
            font-size: 1.1rem;
            font-weight: 400;
            margin: 0;
            opacity: 0.9;
            text-shadow: 0 2px 10px rgba(0,0,0,0.7);
        }
        
        /* Mobile Main Actions */
        .mobile-main-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
            max-width: 280px;
            margin-bottom: 2rem;
        }
        
        .mobile-btn {
            padding: 16px 24px;
            border: none;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
            min-height: 56px;
        }
        
        .mobile-btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .mobile-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }
        
        .mobile-btn-secondary {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .mobile-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }
        
        /* Mobile Quick Stats */
        .mobile-quick-stats {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-top: 1rem;
        }
        
        .mobile-stat-item {
            text-align: center;
        }
        
        .mobile-stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.7);
        }
        
        .mobile-stat-label {
            display: block;
            font-size: 0.85rem;
            opacity: 0.8;
            margin-top: 0.25rem;
        }
        
        /* Mobile Bottom Actions */
        .mobile-bottom-actions {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 5;
            padding: 1rem 1.25rem calc(1rem + env(safe-area-inset-bottom));
            display: flex;
            gap: 1rem;
            background: linear-gradient(
                180deg,
                rgba(0,0,0,0) 0%,
                rgba(0,0,0,0.75) 40%,
                rgba(0,0,0,0.9) 100%
            );
            backdrop-filter: blur(20px);
        }
        
        .mobile-bottom-btn {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 52px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        
        .mobile-bottom-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
        }
        
        .mobile-admin-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            border: none;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.3);
        }
        
        .mobile-admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.5);
        }
        
        /* Mobile Floating Contact Buttons (On Background) */
        .mobile-floating-contacts {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 10;
        }
        
        .mobile-contact-btn {
            width: 56px;
            height: 56px;
            border-radius: 16px;
            border: none;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2px;
            font-size: 16px;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .mobile-contact-btn .material-icons {
            font-size: 20px;
        }
        
        .contact-label {
            font-size: 8px;
            font-weight: 600;
            line-height: 1;
        }
        
        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }
        
        .call-btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
        }
        
        .email-btn {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        
        .mobile-contact-btn:hover {
            transform: scale(1.05) translateX(-5px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.4);
        }
        
        /* Mobile Responsive Adjustments */
        @media (max-width: 480px) {
            .mobile-app-title {
                font-size: 2rem;
            }
            
            .mobile-quick-stats {
                gap: 1.5rem;
            }
            
            .mobile-stat-number {
                font-size: 1.3rem;
            }
            
            .mobile-floating-contacts {
                right: 15px;
                gap: 10px;
            }
            
            .mobile-contact-btn {
                width: 48px;
                height: 48px;
            }
            
            .mobile-bottom-actions {
                flex-direction: column;
                gap: 12px;
            }
        }
        
        @media (max-width: 360px) {
            .app-logo {
                width: 80px;
                height: 80px;
                font-size: 40px;
            }
            
            .mobile-app-title {
                font-size: 1.8rem;
            }
        }
        
        .welcome-subtitle {
            font-size: 1.1rem;
            font-weight: 400;
            margin: 0 0 2rem 0;
            opacity: 0.95;
            text-shadow: 0 1px 4px rgba(0,0,0,0.6);
            line-height: 1.4;
            max-width: 300px;
        }
        
        .welcome-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            width: 100%;
            max-width: 280px;
            margin-top: 1rem;
        }
        
        .btn-primary-cta {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }
        
        .btn-secondary-cta {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 0.9rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-secondary-cta:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-1px);
        }
        
        /* Mobile Responsive Adjustments */
        @media (max-width: 480px) {
            .welcome-title {
                font-size: 1.5rem;
                line-height: 1.4;
                letter-spacing: 0.3px;
            }
            
            .welcome-subtitle {
                font-size: 0.95rem;
                line-height: 1.5;
            }
            
            .app-logo {
                width: 65px;
                height: 65px;
                font-size: 26px;
                margin-bottom: 1rem;
            }
            
            .btn-primary-cta, .btn-secondary-cta {
                padding: 0.9rem 1.5rem;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 360px) {
            .welcome-title {
                font-size: 1.3rem;
                line-height: 1.4;
                letter-spacing: 0.2px;
            }
            
            .welcome-subtitle {
                font-size: 0.85rem;
                margin-bottom: 1.5rem;
                line-height: 1.5;
            }
            
            .welcome-actions {
                max-width: 260px;
            }
        }
        
        /* Language Switch - Updated for mobile */
        .language-switch {
            position: relative;
            z-index: 1000;
        }
        
        .language-btn {
            appearance: none;
            background: rgba(0,0,0,0.4);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.3);
            font-weight: 600;
            padding: 0.5rem 1rem;
            cursor: pointer;
            text-shadow: 0 2px 6px rgba(0,0,0,0.7);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .language-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }
        
        /* Module Manager Login - Better positioned */
        .module-manager-access {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.25);
            border-radius: 10px;
            padding: 0.8rem 1.2rem;
            backdrop-filter: blur(15px);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .module-manager-access:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.05);
        }
        
        .welcome-content {
            position: relative;
            z-index: 100;
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            max-width: 90%;
        }
        
        /* Introduction Video Section */
        .intro-video-section {
            position: relative;
            z-index: 2;
            width: 100%;
            padding: 2rem;
            text-align: center;
            background: rgba(0,0,0,0.4);
            backdrop-filter: blur(10px);
        }
        
        /* Introduction Video in Dashboard */
        .intro-video-dashboard {
            margin: 1rem 0;
            padding: 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 15px;
            color: white;
        }
        
        .intro-video-card {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .intro-video-dashboard .video-play-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        
        .intro-video-dashboard .video-play-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }
        
        .video-info {
            text-align: left;
            flex: 1;
        }
        
        .video-info h6 {
            margin: 0;
            font-weight: 600;
        }
        
        .video-info p {
            margin: 0.3rem 0 0 0;
            opacity: 0.9;
            font-size: 0.85rem;
        }
        
        .welcome-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            text-shadow: 
                0 2px 8px rgba(0,0,0,0.7),
                2px 2px 8px rgba(0,0,0,0.6);
            color: white;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            background-clip: text;
        }
        
        .welcome-subtitle {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            text-shadow: 0 2px 6px rgba(0,0,0,0.7);
            color: rgba(255,255,255,0.95);
            font-weight: 300;
        }
        
        .btn-get-started {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-top: 1rem;
            text-shadow: 0 2px 6px rgba(0,0,0,0.6);
        }
        
        .btn-get-started:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(37, 99, 235, 0.5);
            color: white;
        }
        
        /* Welcome Footer */
        .welcome-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.8) 100%);
            padding: 2rem 1rem 1rem;
            color: white;
            text-align: center;
        }
        
        /* Modern Welcome Page Styles */
        .hero-section {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 2rem;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .hero-content {
            max-width: 600px;
            animation: fadeInUp 1s ease;
        }
        
        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #ffffff;
            font-size: 0.9rem;
            margin-bottom: 2rem;
            animation: slideInDown 1s ease 0.2s both;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.8);
            font-weight: 600;
        }
        
        .hero-title {
            font-size: 5rem;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 10px rgba(0,0,0,0.9), 0 0 20px rgba(0,0,0,0.8);
            animation: slideInUp 1s ease 0.4s both;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.8));
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            color: #f8f9fa;
            margin-bottom: 3rem;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.9), 0 0 15px rgba(0,0,0,0.7);
            animation: slideInUp 1s ease 0.6s both;
            font-weight: 500;
        }
        
        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            animation: slideInUp 1s ease 0.8s both;
        }
        
        .btn-primary-cta, .btn-secondary-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1.25rem 3rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            cursor: pointer;
            outline: none;
            box-sizing: border-box;
        }

        .btn-primary-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-primary-cta:hover::before {
            left: 100%;
        }

        .btn-primary-cta {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            animation: pulse-glow 2s infinite;
        }

        .btn-primary-cta:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.6);
            color: white;
        }

        .btn-primary-cta:active, .btn-secondary-cta:active {
            transform: scale(0.98) translateY(-2px);
        }

        .btn-secondary-cta {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            color: #ffffff;
            border-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
            font-weight: 600;
        }

        .btn-secondary-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-secondary-cta:hover::before {
            left: 100%;
        }

        .btn-secondary-cta:hover {
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            border-color: white;
            transform: translateY(-3px) scale(1.01);
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
            box-shadow: 0 15px 35px rgba(255, 255, 255, 0.2);
        }

        /* Enhanced Button Animations */
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            }
            50% {
                box-shadow: 0 10px 40px rgba(102, 126, 234, 0.6);
            }
        }

        @keyframes button-float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-2px);
            }
        }

        @keyframes enhanced-glow {
            0%, 100% {
                box-shadow:
                    0 10px 30px rgba(102, 126, 234, 0.4),
                    0 0 20px rgba(102, 126, 234, 0.3);
            }
            50% {
                box-shadow:
                    0 10px 40px rgba(102, 126, 234, 0.6),
                    0 0 30px rgba(102, 126, 234, 0.4),
                    0 0 50px rgba(102, 126, 234, 0.3);
            }
        }

        @keyframes success-burst {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 20px 5px rgba(16, 185, 129, 0.4);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 30px 10px rgba(16, 185, 129, 0);
            }
        }

        .btn-primary-cta {
            animation: enhanced-glow 3s ease-in-out infinite, button-float 3s ease-in-out infinite;
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669) !important;
            animation: success-burst 0.6s ease-in-out !important;
            box-shadow: 0 0 30px rgba(16, 185, 129, 0.6) !important;
        }

        /* Enhanced Icon Animations */
        .btn-primary-cta svg, .btn-secondary-cta svg {
            transition: transform 0.3s ease;
        }

        .btn-primary-cta:hover svg, .btn-secondary-cta:hover svg {
            transform: scale(1.1) rotate(5deg);
        }

        /* Button Ripple Effect */
        .btn-primary-cta, .btn-secondary-cta {
            position: relative;
            overflow: hidden;
        }

        .btn-primary-cta::after, .btn-secondary-cta::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary-cta:active::after, .btn-secondary-cta:active::after {
            width: 300px;
            height: 300px;
        }

        /* Enhanced Text Effects */
        .btn-primary-cta span, .btn-secondary-cta span {
            position: relative;
            z-index: 2;
            background: linear-gradient(45deg, currentColor, rgba(255,255,255,0.8));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-primary-cta:hover span {
            background: linear-gradient(45deg, white, rgba(255,255,255,0.9));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Loading State */
        .btn-loading {
            pointer-events: none;
            position: relative;
        }

        .btn-loading::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid transparent;
            border-top-color: currentColor;
            border-radius: 50%;
            animation: button-loading-spinner 1s ease-in-out infinite;
        }

        @keyframes button-loading-spinner {
            to {
                transform: rotate(360deg);
            }
        }

        /* Bottom Navigation */
        .user-bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            border-top: 1px solid var(--border);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: var(--spacing-sm) 0;
            z-index: 1000;
        }

        .user-bottom-nav .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-xs);
            padding: var(--spacing-sm);
            text-decoration: none;
            color: var(--text-secondary);
            transition: all 0.3s ease;
            border-radius: var(--radius);
            min-width: 60px;
        }

        .user-bottom-nav .nav-item:hover {
            color: var(--primary);
            background: var(--surface-variant);
        }

        .user-bottom-nav .nav-item.active {
            color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .user-bottom-nav .nav-item span {
            font-size: 12px;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .user-dashboard-wrapper {
                padding-bottom: 80px; /* Space for bottom nav */
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }

            .grid-3 {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .grid-4 {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .card-body {
                padding: var(--spacing-md);
            }

            .card-header {
                padding: var(--spacing-md);
            }

            .btn {
                font-size: 13px;
                padding: var(--spacing-sm) var(--spacing-md);
            }

            .grid-3 {
                grid-template-columns: 1fr;
            }

            .grid-4 {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Dashboard Specific Styles */
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 24px;
            color: white;
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            font-size: 12px;
            font-weight: 500;
            border-radius: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge.bg-success {
            background: var(--success);
            color: white;
        }

        .badge.bg-warning {
            background: var(--warning);
            color: white;
        }

        .badge.bg-primary {
            background: var(--primary);
            color: white;
        }

        /* Enhanced Card Hover Effects */
        .card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Material Icons Specific */
        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-smoothing: antialiased;
            text-rendering: optimizeLegibility;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Flex Utilities */
        .d-flex {
            display: flex !important;
        }

        .align-items-center {
            align-items: center !important;
        }

        .justify-content-between {
            justify-content: space-between !important;
        }

        .justify-content-center {
            justify-content: center !important;
        }

        .flex-grow-1 {
            flex-grow: 1 !important;
        }

        .gap-2 {
            gap: 8px !important;
        }

        .gap-3 {
            gap: 16px !important;
        }

        .p-2 {
            padding: 8px !important;
        }

        .p-3 {
            padding: 16px !important;
        }

        .mt-2 {
            margin-top: 8px !important;
        }

        .mb-0 {
            margin-bottom: 0 !important;
        }

        .mb-1 {
            margin-bottom: 4px !important;
        }

        .me-2 {
            margin-right: 8px !important;
        }

        .text-center {
            text-align: center !important;
        }

        .text-decoration-line-through {
            text-decoration: line-through !important;
        }

        .fw-bold {
            font-weight: bold !important;
        }

        .fs-4 {
            font-size: 1.5rem !important;
        }

        .border {
            border: 1px solid var(--border) !important;
        }

        .rounded {
            border-radius: var(--radius) !important;
        }

        .bg-light {
            background-color: var(--surface-variant) !important;
        }

        /* Text Colors */
        .text-success {
            color: var(--success) !important;
        }

        .text-warning {
            color: var(--warning) !important;
        }

        .text-primary {
            color: var(--primary) !important;
        }

        .text-secondary {
            color: var(--text-secondary) !important;
        }

        .text-white {
            color: white !important;
        }
        
        /* Enhanced Welcome Page Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            }
            50% {
                box-shadow: 0 10px 40px rgba(102, 126, 234, 0.6);
            }
        }

        @keyframes button-float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-2px);
            }
        }

        /* Apply animations to buttons */
        .btn-primary-cta {
            animation: pulse-glow 2s infinite, button-float 3s ease-in-out infinite;
        }

        /* Enhanced Glassmorphism Effect */
        .welcome-page {
            backdrop-filter: blur(1px);
        }

        /* Enhanced Button Hover Effects */
        .btn-primary-cta:hover {
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
        }

        .btn-secondary-cta:hover {
            background: linear-gradient(135deg, rgba(255,255,255,0.25), rgba(255,255,255,0.15));
        }

        /* Enhanced Mobile Responsiveness */
        @media (max-width: 768px) {
            .cta-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .btn-primary-cta, .btn-secondary-cta {
                width: 100%;
                max-width: 300px;
                justify-content: center;
                padding: 1rem 2rem;
                font-size: 1rem;
            }

            .action-buttons {
                flex-direction: column;
                gap: 1rem;
            }

            .btn-action-primary, .btn-action-secondary {
                width: 100%;
                max-width: 280px;
                justify-content: center;
            }
        }

        /* Enhanced Focus States for Accessibility */
        .btn-primary-cta:focus, .btn-secondary-cta:focus,
        .btn-action-primary:focus, .btn-action-secondary:focus {
            outline: 3px solid rgba(255, 255, 255, 0.5);
            outline-offset: 2px;
        }

        /* Enhanced Loading States */
        .btn-loading {
            pointer-events: none;
            opacity: 0.7;
        }

        /* Floating Contact Buttons */
        .floating-contact-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 1000;
        }

        .floating-contact-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .floating-contact-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .floating-contact-btn:hover::before {
            left: 100%;
        }

        .floating-contact-btn:hover {
            transform: scale(1.1) translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .floating-contact-btn:active {
            transform: scale(0.95) translateY(-1px);
        }

        .whatsapp-float {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
        }

        .call-float {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
        }

        .email-float {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .contact-tooltip {
            position: absolute;
            right: 70px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .floating-contact-btn:hover .contact-tooltip {
            opacity: 1;
            visibility: visible;
            right: 75px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .floating-contact-buttons {
                bottom: 20px;
                right: 20px;
                gap: 10px;
            }

            .floating-contact-btn {
                width: 50px;
                height: 50px;
                font-size: 18px;
            }

            .contact-tooltip {
                display: none;
            }
        }

        .btn-loading::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid transparent;
            border-top-color: currentColor;
            border-radius: 50%;
            animation: button-loading-spinner 1s ease-in-out infinite;
        }

        @keyframes button-loading-spinner {
            to {
                transform: rotate(360deg);
            }
        }
        
        .quick-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            animation: slideInUp 1s ease 1s both;
        }
        
        .stat-item {
            text-align: center;
            color: #ffffff;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
        }
        
        .stat-number {
            display: block;
            font-size: 2rem;
            font-weight: 800;
            color: #ffffff;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.9);
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 1;
            color: #f8f9fa;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.8);
            font-weight: 500;
        }
        
        /* Quick Stats Mobile & Tablet Responsive */
        @media (max-width: 1024px) {
            .quick-stats {
                gap: 4rem;
            }
            
            .stat-number {
                font-size: 2.25rem;
            }
            
            .stat-label {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .quick-stats {
                gap: 2.5rem;
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .stat-item {
                min-width: 120px;
            }
            
            .stat-number {
                font-size: 2rem;
            }
            
            .stat-label {
                font-size: 0.9rem;
            }
        }
        
        @media (max-width: 480px) {
            .quick-stats {
                gap: 1.5rem;
                flex-direction: row;
                justify-content: space-around;
            }
            
            .stat-item {
                min-width: 80px;
            }
            
            .stat-number {
                font-size: 1.75rem;
            }
            
            .stat-label {
                font-size: 0.8rem;
            }
        }
        
        /* Features Section */
        .features-section {
            padding: 5rem 2rem;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            position: relative;
            z-index: 2;
        }
        
        .features-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .features-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 3rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            text-align: center;
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            border-color: rgba(59, 130, 246, 0.3);
        }
        
        .feature-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }
        
        .feature-card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1rem;
        }
        
        .feature-card p {
            color: #64748b;
            line-height: 1.6;
        }
        
        /* Action Section */
        .action-section {
            padding: 5rem 2rem;
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            text-align: center;
            color: white;
        }
        
        .action-content {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .action-section h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
        }
        
        .action-section p {
            font-size: 1.125rem;
            opacity: 0.9;
            margin-bottom: 3rem;
        }
        
        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn-action-primary, .btn-action-secondary {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 2rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .btn-action-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn-action-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn-action-primary:hover::before {
            left: 100%;
        }

        .btn-action-primary:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(59, 130, 246, 0.6);
            color: white;
        }

        .btn-action-secondary {
            background: transparent;
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .btn-action-secondary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-action-secondary:hover::before {
            left: 100%;
        }

        .btn-action-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: white;
            color: white;
            transform: translateY(-2px) scale(1.01);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
        }

        /* Enhanced Icon Animations for Action Buttons */
        .btn-action-primary i, .btn-action-secondary i {
            transition: transform 0.3s ease;
        }

        .btn-action-primary:hover i, .btn-action-secondary:hover i {
            transform: scale(1.1) rotate(5deg);
        }

        /* Ripple Effect for Action Buttons */
        .btn-action-primary::after, .btn-action-secondary::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-action-primary:active::after, .btn-action-secondary:active::after {
            width: 300px;
            height: 300px;
        }
        
        /* Modern Footer */
        .welcome-footer-modern {
            background: #0f172a;
            color: white;
            padding: 3rem 2rem 1rem;
        }
        
        .footer-main {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 3rem;
            margin-bottom: 2rem;
        }
        
        .footer-brand h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #60a5fa;
            margin-bottom: 1rem;
        }
        
        .footer-brand p {
            opacity: 0.8;
            line-height: 1.6;
        }
        
        .footer-links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        
        .footer-column h4 {
            font-weight: 600;
            margin-bottom: 1rem;
            color: #60a5fa;
        }
        
        .footer-column a {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            margin-bottom: 0.5rem;
            transition: color 0.3s ease;
        }
        
        .footer-column a:hover {
            color: #60a5fa;
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.8;
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .quick-stats {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-main {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
        
        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .footer-content p {
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
            opacity: 0.9;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
        }
        
        .footer-features {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }
        
        .feature-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            opacity: 0.9;
        }
        
        .feature-item i {
            font-size: 1.5rem;
            color: #60a5fa;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            font-size: 0.8rem;
            opacity: 0.8;
        }
        
        .footer-links a {
            color: #60a5fa;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: white;
        }
        
        @media (max-width: 768px) {
            .footer-features {
                gap: 1rem;
            }
            
            .feature-item {
                font-size: 0.75rem;
            }
            
            .feature-item i {
                font-size: 1.2rem;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
        
        /* Decorative Elements */
        
        /* SmartGro Agricultural Module Styles */
        .weather-card {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        
        .price-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        
        .price-card h6 {
            color: var(--primary);
            font-weight: 700;
            margin: 0;
        }
        
        /* Watch & Earn Module Styles */
        .video-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .video-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .video-thumbnail {
            background: linear-gradient(135deg, #1f2937, #374151);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            position: relative;
            margin-bottom: 1rem;
        }
        
        .video-overlay {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        
        .points-reward {
            background: #059669;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .points-badge {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            margin-right: 1rem;
        }
        
        .points-history {
            background: #f8fafc;
            border-radius: 10px;
            padding: 1rem;
        }
        
        .points-item {
            padding: 0.8rem 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .points-item:last-child {
            border-bottom: none;
        }
        
        /* Payment Integration Styles */
        .payment-method {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method:hover,
        .payment-method.selected {
            border-color: var(--primary);
            background: #eff6ff;
        }
        
        .payment-method .payment-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        
        .mtn-payment {
            border-color: #ffcb00;
            background: #fff8e1;
        }
        
        .orange-payment {
            border-color: #ff6600;
            background: #fff3e0;
        }
        
        .flutterwave-payment {
            border-color: #f5a623;
            background: #fefcf3;
        }
        
        /* Module Manager Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .stat-card h3 {
            color: var(--primary);
            font-size: 2rem;
            font-weight: 800;
            margin: 0.5rem 0;
        }
        
        .stat-card h6 {
            color: #64748b;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .management-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .module-settings {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        
        .analytics-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 1.5rem;
        }
        
        .chart-placeholder {
            text-align: center;
            color: #64748b;
        }
        .welcome-decorations {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }
        
        .decoration-circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            animation: float 4s ease-in-out infinite;
        }
        
        .decoration-circle:nth-child(1) {
            width: 60px;
            height: 60px;
            top: 20%;
            left: 10%;
            animation-delay: -2s;
        }
        
        .decoration-circle:nth-child(2) {
            width: 40px;
            height: 40px;
            top: 60%;
            right: 15%;
            animation-delay: -1s;
        }
        
        .decoration-circle:nth-child(3) {
            width: 80px;
            height: 80px;
            bottom: 20%;
            left: 5%;
            animation-delay: -3s;
        }
        
        /* Auth Pages - Mobile-First Design */
        .auth-page {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            box-sizing: border-box;
        }
        
        .auth-container {
            width: 100%;
            max-width: 400px;
            background: white;
            border-radius: 20px;
            padding: 2rem 1.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin: 1rem auto;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .auth-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .auth-header h2 {
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1.6rem;
            line-height: 1.3;
        }
        
        .auth-header p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 0;
            line-height: 1.5;
        }
        
        .form-group {
            position: relative;
            margin-bottom: 1.25rem;
        }
        
        .form-control {
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 1rem 1rem;
            width: 100%;
            box-sizing: border-box;
            transition: all 0.3s ease;
            font-size: 1rem;
            background: #fafafa;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
            background: white;
            outline: none;
        }
        
        .form-control.error {
            border-color: var(--error);
            background: #fef2f2;
        }
        
        .password-toggle {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.25rem;
            font-size: 1.1rem;
        }
        
        .password-toggle:hover {
            color: var(--primary);
        }
        
        .error-message {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 0.5rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .btn-auth {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 1.2rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            width: 100%;
            margin-top: 1rem;
            transition: all 0.3s ease;
            font-size: 1.05rem;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn-auth:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }
        
        .btn-auth:active {
            transform: translateY(0);
        }
        
        .btn-auth:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-auth .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }
        
        .btn-auth.loading .loading-spinner {
            display: inline-block;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .remember-me {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin: 1rem 0;
            user-select: none;
        }
        
        .remember-me input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary);
            cursor: pointer;
        }
        
        .remember-me label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            cursor: pointer;
            line-height: 1.4;
        }
        
        /* Mobile Responsive Auth Styles */
        @media (max-width: 480px) {
            .auth-container {
                padding: 1.5rem 1.25rem;
                max-width: 95%;
                margin: 0.5rem auto;
            }
            
            .auth-header h2 {
                font-size: 1.4rem;
            }
            
            .auth-header p {
                font-size: 0.85rem;
            }
            
            .form-control {
                padding: 0.9rem 1rem;
                font-size: 0.95rem;
            }
            
            .btn-auth {
                padding: 1rem 1.5rem;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 360px) {
            .auth-container {
                padding: 1.25rem 1rem;
            }
            
            .auth-header {
                margin-bottom: 1.5rem;
            }
            
            .form-group {
                margin-bottom: 1rem;
            }
        }
        
        /* Social Login Styles */
        .social-divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
        }
        
        .social-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e2e8f0;
        }
        
        .social-divider span {
            background: white;
            padding: 0 1rem;
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .social-login-buttons {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            color: #374151;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            width: 100%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        .social-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,0,0,0.05), transparent);
            transition: left 0.5s;
        }

        .social-btn:hover::before {
            left: 100%;
        }

        .social-btn:hover {
            transform: translateY(-2px) scale(1.01);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .google-btn {
            border-color: #dadce0;
            color: #3c4043;
        }

        .google-btn:hover {
            background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
            color: white;
            border-color: #4285f4;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(66, 133, 244, 0.3);
        }

        .facebook-btn {
            border-color: #dadce0;
            color: #3c4043;
        }

        .facebook-btn:hover {
            background: linear-gradient(135deg, #1877f2 0%, #42a5f5 100%);
            color: white;
            border-color: #1877f2;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(24, 119, 242, 0.3);
        }
        
        .social-btn i {
            font-size: 1.125rem;
        }

        /* User Status Message Styles */
        .user-status-message {
            padding: 0.75rem 1rem;
            border-radius: 10px;
            margin: 0.5rem 0 1rem 0;
            font-size: 0.875rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideDown 0.3s ease-out;
        }

        .user-status-message.success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .user-status-message.info {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .user-status-message a {
            color: #007bff;
            text-decoration: underline;
            font-weight: 600;
        }

        .user-status-message a:hover {
            color: #0056b3;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .password-toggle {
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: #64748b;
        }
        
        /* Auth Pages Mobile & Tablet Responsive */
        @media (max-width: 1024px) {
            .auth-page {
                padding: 1rem;
            }
            
            .auth-container {
                max-width: 500px;
                padding: 2.5rem 2rem;
            }
            
            .auth-header h2 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 768px) {
            .auth-page {
                padding: 0.75rem;
                justify-content: flex-start;
                padding-top: 2rem;
            }
            
            .auth-container {
                max-width: 100%;
                padding: 2rem 1.5rem;
                margin: 1rem 0;
                box-shadow: none;
                border-radius: 0;
            }
            
            .auth-header h2 {
                font-size: 1.75rem;
                line-height: 1.3;
            }
            
            .form-control {
                padding: 1.25rem 1rem;
                font-size: 1rem;
                margin-bottom: 1.25rem;
            }
            
            .btn-auth {
                padding: 1.25rem;
                font-size: 1rem;
            }
            
            .social-btn {
                padding: 1.125rem 1rem;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .auth-page {
                padding: 0.5rem;
                padding-top: 1rem;
            }
            
            .auth-container {
                padding: 1.5rem 1rem;
                border-radius: 10px;
                margin: 0.5rem 0;
            }
            
            .auth-header h2 {
                font-size: 1.5rem;
                line-height: 1.4;
                margin-bottom: 0.75rem;
            }
            
            .auth-header p {
                font-size: 0.9rem;
                line-height: 1.4;
            }
            
            .form-control {
                padding: 1rem 0.875rem;
                font-size: 0.95rem;
            }
            
            .social-login-buttons {
                gap: 1rem;
            }
            
            .social-btn {
                padding: 1rem 0.875rem;
                font-size: 0.9rem;
            }
        }
        
        /* Dashboard */
        .dashboard {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .top-bar {
            background: white;
            padding: 1rem 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        .dashboard-content {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }
        
        .welcome-dashboard {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .points-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .points-number {
            font-size: 2rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .module-card {
            background: white;
            border-radius: 12px;
            padding: 1.2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            border: 2px solid transparent;
            cursor: pointer;
        }
        
        .module-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }
        
        .module-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.1rem;
            margin: 0 auto 1rem;
            position: relative;
            overflow: hidden;
        }

        .module-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        /* Enhanced styles for category images */
        .module-icon .category-image {
            width: 40px;
            height: 40px;
            object-fit: contain;
            border-radius: 8px;
            background: transparent;
            padding: 2px;
        }

        .module-icon i {
            position: absolute;
            z-index: 1;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .module-card h6 {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }
        
        .module-card p {
            font-size: 0.75rem;
            color: #64748b;
            margin: 0;
        }
        
        /* Dashboard Mobile & Tablet Responsive */
        @media (max-width: 1024px) {
            .top-bar {
                padding: 1rem 1rem;
            }
            
            .modules-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 1.25rem;
                margin-top: 1.5rem;
            }
            
            .module-card {
                padding: 1.5rem 1rem;
            }
            
            .module-icon {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .module-card h6 {
                font-size: 1rem;
            }
            
            .module-card p {
                font-size: 0.8rem;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard {
                min-height: 100vh;
            }
            
            .top-bar {
                padding: 0.875rem 1rem;
                flex-wrap: wrap;
                gap: 0.5rem;
            }
            
            .user-info {
                flex: 1;
                min-width: 200px;
            }
            
            .modules-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                margin-top: 1rem;
                padding: 0 1rem;
            }
            
            .module-card {
                padding: 1.25rem 0.875rem;
            }
            
            .module-icon {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
            
            .module-card h6 {
                font-size: 0.9rem;
                margin-bottom: 0.25rem;
            }
            
            .module-card p {
                font-size: 0.75rem;
                line-height: 1.3;
            }
        }
        
        @media (max-width: 480px) {
            .top-bar {
                padding: 0.75rem 0.875rem;
            }
            
            .user-info h4 {
                font-size: 1rem;
            }
            
            .modules-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.875rem;
                padding: 0 0.875rem;
            }
            
            .module-card {
                padding: 1rem 0.75rem;
            }
            
            .module-icon {
                width: 40px;
                height: 40px;
                font-size: 1rem;
                margin-bottom: 0.75rem;
            }
            
            .module-card h6 {
                font-size: 0.85rem;
                line-height: 1.2;
            }
            
            .module-card p {
                font-size: 0.7rem;
                line-height: 1.2;
            }
        }
        
        .bottom-nav {
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 0.8rem 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #64748b;
            text-decoration: none;
            font-size: 0.7rem;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-item i {
            font-size: 1rem;
            margin-bottom: 0.3rem;
        }
        
        /* Bottom Navigation Mobile & Tablet Responsive */
        @media (max-width: 1024px) {
            .bottom-nav {
                padding: 1rem 0;
            }
            
            .nav-item {
                font-size: 0.8rem;
            }
            
            .nav-item i {
                font-size: 1.125rem;
                margin-bottom: 0.4rem;
            }
        }
        
        @media (max-width: 768px) {
            .bottom-nav {
                padding: 0.875rem 0.5rem;
                justify-content: space-around;
            }
            
            .nav-item {
                font-size: 0.75rem;
                flex: 1;
                max-width: none;
            }
            
            .nav-item i {
                font-size: 1.1rem;
                margin-bottom: 0.35rem;
            }
        }
        
        @media (max-width: 480px) {
            .bottom-nav {
                padding: 0.75rem 0.25rem;
            }
            
            .nav-item {
                font-size: 0.7rem;
                padding: 0.25rem;
            }
            
            .nav-item i {
                font-size: 1rem;
                margin-bottom: 0.25rem;
            }
        }
        
        /* Admin Dashboard - Professional Modern Design */
        .admin-dashboard-wrapper {
            display: flex;
            height: 100vh;
            background: #f1f5f9;
        }
        
        .admin-sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 0;
            display: flex;
            flex-direction: column;
            box-shadow: 4px 0 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .admin-sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 100%;
            background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
        }
        
        .admin-sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .admin-sidebar-header h4 {
            margin: 0;
            font-weight: 800;
            font-size: 1.25rem;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .admin-sidebar-header .admin-logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }
        
        .admin-sidebar-nav {
            flex: 1;
            padding: 1rem 0;
            overflow-y: auto;
        }
        
        .admin-nav-section {
            margin-bottom: 2rem;
        }
        
        .admin-nav-section-title {
            padding: 0 1.5rem 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            font-weight: 700;
            color: rgba(255,255,255,0.5);
            letter-spacing: 0.1em;
        }
        
        .admin-nav-item {
            display: flex;
            align-items: center;
            padding: 0.875rem 1.5rem;
            color: rgba(255,255,255,0.75);
            text-decoration: none;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
            font-weight: 500;
        }
        
        .admin-nav-item:hover {
            background: rgba(255,255,255,0.08);
            color: white;
            border-left-color: #60a5fa;
            transform: translateX(2px);
        }
        
        .admin-nav-item.active {
            background: rgba(255,255,255,0.12);
            color: white;
            border-left-color: #3b82f6;
        }
        
        .admin-nav-item i {
            width: 20px;
            margin-right: 0.875rem;
            font-size: 1rem;
        }
        
        .admin-main-content {
            flex: 1;
            overflow-y: auto;
            background: #f1f5f9;
        }
        
        .admin-top-bar {
            background: white;
            color: #1f2937;
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        
        .admin-top-bar h3 {
            margin: 0;
            color: #1f2937;
            font-weight: 800;
            font-size: 1.75rem;
        }
        
        .admin-breadcrumb {
            display: flex;
            align-items: center;
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .admin-content-area {
            padding: 2rem;
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }
        
        .admin-stat-card {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .admin-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
        }
        
        .admin-stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.1);
        }
        
        .admin-stat-card h6 {
            color: #64748b;
            margin-bottom: 0.75rem;
            font-size: 0.875rem;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 0.05em;
        }
        
        .admin-stat-card .stat-number {
            font-size: 2.75rem;
            font-weight: 900;
            color: #1e293b;
            margin-bottom: 0.5rem;
            line-height: 1;
        }
        
        .admin-stat-card small {
            color: #10b981;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .admin-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .admin-section-header {
            padding: 2rem 2rem 1.5rem;
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
            border-bottom: 1px solid #e2e8f0;
        }
        
        .admin-section-header h5 {
            margin: 0;
            color: #1e293b;
            font-weight: 800;
            font-size: 1.25rem;
        }
        
        .admin-section-header p {
            margin: 0.5rem 0 0 0;
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        .admin-section-content {
            padding: 2rem;
        }
        
        .admin-modules {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .admin-module-card {
            background: white;
            padding: 2rem;
            border-radius: 16px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
        }
        
        .admin-module-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .admin-module-card:hover::before {
            transform: scaleX(1);
        }
        
        .admin-module-card:hover {
            transform: translateY(-6px);
            border-color: #3b82f6;
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.15);
        }
        
        .admin-module-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.25rem;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .admin-module-icon i {
            font-size: 1.75rem;
            color: white;
        }
        
        .admin-module-card h6 {
            margin: 0 0 0.5rem 0;
            color: #1e293b;
            font-weight: 700;
            font-size: 1.125rem;
        }
        
        .admin-module-card p {
            margin: 0;
            color: #64748b;
            font-size: 0.875rem;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .admin-quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .admin-quick-action {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 1.75rem;
            border-radius: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            text-decoration: none;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.25);
        }
        
        .admin-quick-action:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(16, 185, 129, 0.35);
            color: white;
        }
        
        .admin-quick-action i {
            font-size: 2.25rem;
            margin-bottom: 0.75rem;
            display: block;
        }
        
        .admin-quick-action h6 {
            margin: 0;
            font-weight: 700;
            font-size: 1rem;
        }
        
        /* Module Assignment Cards */
        .assignment-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .assignment-card:hover {
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        
        .assignment-card.unassigned {
            border-style: dashed;
            border-color: #cbd5e1;
            background: #f8fafc;
        }
        
        .assignment-card.unassigned:hover {
            border-color: #10b981;
            background: #f0fdf4;
        }
        
        @media (max-width: 1024px) {
            .admin-sidebar {
                width: 240px;
            }
            
            .admin-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        
        /* Category Management Styling */
        .category-management-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .category-management-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        
        .category-management-item:hover::before {
            transform: scaleX(1);
        }
        
        .category-management-item:hover {
            transform: translateY(-4px);
            border-color: #3b82f6;
            box-shadow: 0 12px 25px rgba(59, 130, 246, 0.15);
        }
        
        .category-preview {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            border-radius: 16px;
            overflow: hidden;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .current-category-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .category-management-item:hover .current-category-image {
            transform: scale(1.1);
        }
        
        .category-management-item h6 {
            margin: 0 0 1rem 0;
            color: #1e293b;
            font-weight: 700;
        }
        
        .category-management-item .btn {
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .category-management-item .btn:hover {
            transform: translateY(-2px);
        }
        
        
        /* Media Upload and Content Management Styling */
        .media-upload-zone {
            margin-bottom: 2rem;
        }
        
        .upload-area {
            border: 3px dashed #cbd5e1;
            border-radius: 16px;
            padding: 3rem 2rem;
            text-align: center;
            background: #f8fafc;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #3b82f6;
            background: #eff6ff;
            transform: translateY(-2px);
        }
        
        .upload-area i {
            color: #64748b;
            margin-bottom: 1rem;
        }
        
        .upload-area:hover i {
            color: #3b82f6;
        }
        
        /* Enhanced Module Management Features */
        .special-features-grid {
            margin-top: 20px;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid #dee2e6;
            height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        }
        
        .feature-card .feature-icon {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 8px;
        }
        
        .feature-card h6 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #495057;
        }
        
        .feature-card .btn {
            font-size: 12px;
            padding: 4px 12px;
        }
        
        /* Module Analytics Styles */
        .analytics-dashboard {
            background: #fff;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
        }
        
        .analytics-dashboard .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .analytics-dashboard .metric:last-child {
            border-bottom: none;
        }
        
        .metric-label {
            font-weight: 500;
            color: #6c757d;
        }
        
        .metric-value {
            font-weight: 600;
            color: #495057;
        }
        
        /* Professional Button Enhancements */
        .btn-group .btn {
            border-radius: 6px !important;
            margin-right: 5px;
        }
        
        .admin-section-header h5 {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .admin-section-header p {
            color: #6c757d;
            margin-bottom: 0;
        }
        
        .media-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .media-item {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .media-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        .media-preview {
            height: 150px;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .media-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .media-preview video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .media-preview i {
            font-size: 3rem;
            color: #64748b;
        }
        
        .media-item-info {
            padding: 1rem;
        }
        
        .media-item-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        .media-item-size {
            font-size: 0.75rem;
            color: #64748b;
            margin-bottom: 1rem;
        }
        
        .media-item-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .media-item-actions .btn {
            flex: 1;
            font-size: 0.75rem;
            padding: 0.375rem 0.5rem;
        }
        
        .media-overlay {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(0,0,0,0.7);
            color: white;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .media-item:hover .media-overlay {
            opacity: 1;
        }
        
        /* Form enhancements */
        .form-control-lg {
            padding: 0.875rem 1rem;
            font-size: 1rem;
            border-radius: 12px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        
        .form-control-lg:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .form-check-input {
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }
        
        .form-check-input:checked {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        /* Table enhancements */
        .table-hover tbody tr:hover {
            background-color: #f8fafc;
        }
        
        .table th {
            border-top: none;
            font-weight: 700;
            color: #1e293b;
            padding: 1rem 0.75rem;
        }
        
        .table td {
            padding: 1rem 0.75rem;
            vertical-align: middle;
        }
        
        .table-dark th {
            background-color: #1e293b;
            border-color: #334155;
        }
        
        /* Button groups */
        .btn-group .btn {
            border-radius: 12px;
            margin-right: 0.5rem;
        }
        
        .btn-group .btn:not(:last-child) {
            margin-right: 0.5rem;
        }
        
        /* Cards with enhanced styling */
        .card {
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .card-header {
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            border-radius: 16px 16px 0 0 !important;
            padding: 1.25rem 1.5rem;
        }
        
        .card-header h6 {
            margin: 0;
            color: #1e293b;
            font-weight: 700;
        }
        
        .card-body {
            padding: 1.5rem;
        }
        
        /* Language Centers Styles */
        .language-centers-section {
            margin: 2rem 0;
        }

        .language-centers-section h3 {
            color: #2d3748;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .centers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .center-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .center-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .center-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .center-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .center-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .center-details {
            padding: 1.5rem;
        }

        .center-details h4 {
            color: #2d3748;
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .center-meta {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .center-meta .location,
        .center-meta .languages {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #4a5568;
            font-size: 0.9rem;
        }

        .center-meta i {
            color: #667eea;
            width: 16px;
        }

        .center-description {
            color: #718096;
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .center-stats {
            display: flex;
            justify-content: space-around;
            margin: 1rem 0;
            padding: 1rem 0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }

        .center-stats .stat {
            text-align: center;
        }

        .center-stats .number {
            display: block;
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .center-stats .label {
            font-size: 0.8rem;
            color: #718096;
        }

        .courses-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .course-tag {
            background: #f7fafc;
            color: #4a5568;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            border: 1px solid #e2e8f0;
        }

        .center-actions {
            display: flex;
            gap: 0.5rem;
        }

        .view-courses-btn {
            flex: 1;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 0.7rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-courses-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(240, 147, 251, 0.4);
        }

        .enroll-btn {
            flex: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.7rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .enroll-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        /* Language Center Modal Styles */
        .center-detail-view {
            max-width: 600px;
        }
        
        .center-header h3 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        
        .center-location {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #4a5568;
            margin-bottom: 1rem;
        }
        
        .center-description {
            margin-bottom: 1.5rem;
        }
        
        .center-languages h4 {
            color: #2d3748;
            margin-bottom: 0.75rem;
        }
        
        .language-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }
        
        .language-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .center-info-grid {
            display: grid;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .info-item strong {
            color: #2d3748;
        }
        
        .info-item span {
            color: #4a5568;
        }
        
        .courses-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .course-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 0.75rem;
            background: #f8fafc;
        }
        
        .course-info h4 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }
        
        .course-details {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .course-level,
        .course-duration,
        .course-price {
            background: white;
            padding: 0.25rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            border: 1px solid #e2e8f0;
        }
        
        .course-price {
            color: #667eea;
            font-weight: 600;
        }
        
        .enroll-course-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .enroll-course-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .courses-footer {
            text-align: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }
        
        @media (max-width: 768px) {
            .category-management-item {
                padding: 1rem;
            }
            
            .category-preview {
                width: 60px;
                height: 60px;
            }
            
            .centers-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .center-actions {
                flex-direction: column;
            }
            
            .center-meta {
                font-size: 0.85rem;
            }
        }
        
        .assignment-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15);
        }
        
        .assignment-card.unassigned {
            border: 2px dashed #cbd5e1;
            background: #f8fafc;
        }
        
        .assignment-card.unassigned:hover {
            border-color: var(--secondary);
            background: #f0fdf4;
        }
        
        .assignment-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary);
        }
        
        .assignment-manager {
            font-size: 0.9rem;
        }
        
        .assignment-manager strong {
            color: var(--dark);
        }
        
        .assignment-manager small {
            color: var(--secondary);
            font-weight: 600;
        }
        
        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-footer {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #64748b;
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
        
        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 8px;
            transition: background 0.3s ease;
        }
        
        .checkbox-group label:hover {
            background: #f1f5f9;
        }
        
        /* Module Pages */
        .booking-card, .health-facility, .school-card, .transport-card, .culture-card, .festival-card {
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
        }
        
        .transport-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
        }
        
        .culture-card {
            text-align: center;
        }
        
        .culture-image {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .map-container {
            margin-bottom: 1.5rem;
        }
        
        .map-placeholder {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            color: #64748b;
        }
        
        .location-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .location-item {
            display: flex;
            align-items: center;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 1rem;
        }
        
        .location-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 1rem;
        }
        
        .location-info {
            flex: 1;
        }
        
        .location-info h6 {
            margin: 0;
            font-size: 0.9rem;
        }
        
        .location-info p {
            margin: 0;
            font-size: 0.75rem;
            color: #64748b;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .gallery-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            background: white;
            border: 1px solid #e2e8f0;
        }
        
        .gallery-image {
            height: 120px;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
        }
        
        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 1rem;
            text-align: center;
        }
        
        .gallery-overlay h6 {
            margin: 0;
            font-size: 0.8rem;
        }
        
        .gallery-overlay p {
            margin: 0;
            font-size: 0.7rem;
            opacity: 0.9;
        }
        
        /* Module-specific styles */
        .property-card, .service-card, .finance-card, .media-card, .culture-card, .maps-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .property-icon, .service-icon, .finance-icon, .culture-icon, .maps-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .media-thumbnail {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            color: #6c757d;
            margin-bottom: 1rem;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .quick-action-btn {
            flex: 1;
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 0.75rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-action-btn:hover {
            background: #f8f9fa;
            border-color: #3b82f6;
        }
        
        .quick-action-btn i {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
            color: #3b82f6;
        }
        
        .quick-action-btn span {
            font-size: 0.8rem;
            color: #64748b;
        }
        
        /* Ads Carousel */
        .ads-carousel {
            margin: 1.5rem 0;
        }
        
        .ads-carousel h6 {
            margin-bottom: 1rem;
            color: #374151;
        }
        
        .ad-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            margin: 0 0.25rem;
        }
        
        .ad-content i {
            margin-bottom: 0.5rem;
        }
        
        .ad-content h6 {
            margin: 0.5rem 0;
            font-weight: 600;
        }
        
        .ad-content p {
            margin: 0.5rem 0;
            opacity: 0.9;
            font-size: 0.9rem;
        }
        
        .carousel-control-prev,
        .carousel-control-next {
            width: 8%;
        }
        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: rgba(0,0,0,0.5);
            border-radius: 50%;
            width: 30px;
            height: 30px;
        }
        
        /* Media Management Styles */
        .media-management-section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1rem;
        }
        
        .media-upload-area {
            margin-bottom: 1.5rem;
        }
        
        .upload-zone {
            border: 2px dashed #d1d5db;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }
        
        .upload-zone:hover {
            border-color: #3b82f6;
            background: #f0f9ff;
        }
        
        .upload-zone i {
            color: #6b7280;
            margin-bottom: 0.5rem;
        }
        
        .upload-zone p {
            margin: 0.5rem 0;
            font-weight: 600;
            color: #374151;
        }
        
        .upload-zone small {
            color: #6b7280;
        }
        
        .media-gallery h6 {
            margin-bottom: 1rem;
            color: #374151;
            font-weight: 600;
        }
        
        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }
        
        .media-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .media-preview {
            background: #f3f4f6;
            padding: 1.5rem;
            color: #6b7280;
        }
        
        .media-item p {
            padding: 0.5rem;
            margin: 0;
            font-size: 0.8rem;
            font-weight: 500;
            color: #374151;
            word-break: break-all;
        }
        
        .media-item .btn {
            margin: 0.5rem;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 1rem;
        }
        
        .product-card, .booking-card, .health-facility, .school-card, .shopping-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e3f2fd;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .product-card:hover, .booking-card:hover, .health-facility:hover, .school-card:hover, .shopping-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .product-card {
            overflow: hidden;
            text-align: center;
        }
        
        .product-image {
            height: 100px;
            background: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #64748b;
        }
        
        .category-card {
            background: white;
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #f0f0f0;
            transition: all 0.2s ease;
            cursor: pointer;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .category-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            border-color: #2196F3;
        }
        
        .category-card h6 {
            margin: 8px 0 4px 0;
            font-weight: 600;
            font-size: 14px;
        }
        
        .category-card small {
            color: #666;
            font-size: 11px;
            line-height: 1.2;
        }
        
        /* Hidden by default */
        .page {
            display: none;
            min-height: 100vh;
            box-sizing: border-box;
        }
        
        .page.active {
            display: block;
        }
        
        /* Mobile and Tablet Page Responsive */
        @media (max-width: 1024px) {
            .page {
                padding: 0;
                margin: 0;
            }
        }
        
        @media (max-width: 768px) {
            .page {
                min-height: 100vh;
                width: 100%;
                overflow-x: hidden;
            }
        }

        /* Gallery Module Styles */
        .upload-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 1rem;
            color: white;
            text-align: center;
        }

        .upload-area {
            background: rgba(255,255,255,0.1);
            border: 2px dashed rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
        }

        .gallery-categories {
            margin-bottom: 1rem;
        }

        .category-btn {
            white-space: nowrap;
            font-size: 0.9rem;
            padding: 0.4rem 1rem;
            border-radius: 20px;
        }

        .category-btn.active {
            background-color: #007bff !important;
            border-color: #007bff !important;
            color: white !important;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .gallery-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 1rem 0.5rem 0.5rem;
            text-align: center;
        }

        .gallery-overlay h6 {
            margin: 0 0 0.2rem 0;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .gallery-overlay p {
            margin: 0;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .gallery-stats {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
        }

        .stat-item h4 {
            color: #007bff;
            margin: 0;
            font-weight: bold;
        }

        .stat-item small {
            color: #666;
            font-size: 0.8rem;
        }

        /* Maps Module Styles */
        .map-container {
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .maps-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }

        .maps-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e3f2fd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1976d2;
        }

        /* Culture Module Styles */
        .culture-card {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 4px solid #9c27b0;
        }

        .culture-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f3e5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #7b1fa2;
        }
        
        /* Terms and Conditions Styles */
        .terms-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 1rem;
        }

        .terms-header {
            border-bottom: 2px solid #007bff;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }

        .terms-section {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }

        .terms-section h5 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .terms-section h5 i {
            margin-right: 0.5rem;
        }

        .terms-section ul {
            padding-left: 1.5rem;
        }

        .terms-section li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .developer-section {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 2rem;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .terms-actions {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 1rem;
            border-top: 1px solid #e0e0e0;
            margin-top: 2rem;
        }
        
        /* Enhanced Admin Content Management Styles */
        .upload-zone {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .upload-zone:hover {
            border-color: #007bff;
            background: #e7f3ff;
            transform: translateY(-2px);
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .media-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .media-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .media-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }

        .media-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .media-item:hover .media-overlay {
            opacity: 1;
        }

        .media-actions {
            display: flex;
            gap: 0.5rem;
        }

        .content-section {
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .dashboard-content {
            padding: 1rem;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }

        .btn-group-vertical .btn {
            border-radius: 10px !important;
            margin-bottom: 0.25rem;
            text-align: left;
        }

        .btn-group-vertical .btn:first-child {
            border-radius: 10px !important;
        }

        .btn-group-vertical .btn:last-child {
            border-radius: 10px !important;
        }
        
        /* Mobile responsive */
        @media (max-width: 480px) {
            .app-container {
                max-width: 100%;
            }
            
            .media-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 0.5rem;
            }
            
            .upload-zone {
                padding: 1rem;
            }
        }
        
        /* Category Images Management Styles */
        .category-management-item {
            text-align: center;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .category-management-item:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
        }
        
        .category-preview {
            width: 60px;
            height: 60px;
            margin: 0 auto 0.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .current-category-image {
            width: 50px;
            height: 50px;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .category-management-item h6 {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #374151;
        }
        
        .category-management-item .btn {
            font-size: 0.75rem;
            padding: 0.3rem 0.8rem;
        }
        /* User Dashboard Professional Styles */
        .user-dashboard-wrapper {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            padding: 0;
            position: relative;
            overflow-y: auto;
        }

        .user-dashboard-wrapper::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 226, 0.2) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }
        
        .user-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .user-header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .user-branding {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .user-logo {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .app-title {
            margin: 0;
            color: #2d3748;
            font-weight: 700;
            font-size: 1.25rem;
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #4299e1 0%, #667eea 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
        }
        
        .user-details {
            display: flex;
            flex-direction: column;
        }
        
        .user-name {
            font-weight: 600;
            color: #2d3748;
            font-size: 0.9rem;
        }
        
        .user-status {
            font-size: 0.8rem;
            color: #718096;
        }
        
        .user-points {
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 600;
            box-shadow: 0 3px 10px rgba(255, 140, 0, 0.3);
        }
        
        .user-welcome-section {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .welcome-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .welcome-content h4 {
            color: #2d3748;
            font-weight: 700;
            margin: 0 0 0.5rem 0;
            font-size: 1.5rem;
        }
        
        .welcome-subtitle {
            color: #718096;
            margin: 0;
            font-size: 1rem;
        }
        
        .weather-widget {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: linear-gradient(135deg, #ffa726 0%, #ff7043 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(255, 167, 38, 0.3);
        }
        
        .weather-icon {
            font-size: 1.5rem;
        }
        
        .weather-info {
            display: flex;
            flex-direction: column;
        }
        
        .temperature {
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        .weather-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .user-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            padding: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .user-stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .user-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .user-stat-card:hover::before {
            left: 100%;
        }

        .user-stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);
        }

        .stat-icon {
            width: 55px;
            height: 55px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            position: relative;
            z-index: 2;
        }

        .stat-icon::after {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 18px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            z-index: -1;
            opacity: 0.3;
        }        .stat-content h6 {
            margin: 0;
            color: #718096;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .stat-number {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0.25rem 0;
        }
        
        .stat-change {
            color: #48bb78;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .user-quick-actions {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            color: #ffffff;
            font-weight: 700;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.8);
        }
        
        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .quick-action-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border: none;
            border-radius: 20px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .quick-action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .quick-action-card:hover::before {
            left: 100%;
        }

        .quick-action-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);
        }

        .action-icon {
            width: 65px;
            height: 65px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.6rem;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .action-icon::after {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 21px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            z-index: -1;
            opacity: 0.3;
        }

        .action-icon:hover {
            transform: scale(1.1) rotate(5deg);
        }        .quick-action-card h6 {
            color: #2d3748;
            font-weight: 600;
            margin: 0 0 0.5rem 0;
        }
        
        .quick-action-card p {
            color: #718096;
            font-size: 0.9rem;
            margin: 0;
        }
        
        .featured-section {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .featured-carousel {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }
        
        .featured-card {
            min-width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .featured-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
        }
        
        .featured-image {
            position: relative;
            height: 150px;
            overflow: hidden;
        }
        
        .featured-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .featured-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
        }
        
        .featured-content {
            padding: 1rem;
        }
        
        .featured-content h6 {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-weight: 600;
        }
        
        .featured-content p {
            color: #718096;
            font-size: 0.9rem;
            margin: 0 0 1rem 0;
        }
        
        .featured-price {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .current-price {
            font-weight: 700;
            color: #48bb78;
            font-size: 1.1rem;
        }
        
        .original-price {
            text-decoration: line-through;
            color: #a0aec0;
            font-size: 0.9rem;
        }
        
        .intro-video-section {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .intro-video-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .intro-video-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
        }
        
        .video-thumbnail {
            position: relative;
            width: 120px;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            flex-shrink: 0;
        }
        
        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .video-play-btn:hover {
            background: white;
            transform: translate(-50%, -50%) scale(1.1);
        }
        
        .video-info h6 {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-weight: 600;
        }
        
        .video-info p {
            color: #718096;
            margin: 0 0 0.75rem 0;
            font-size: 0.9rem;
        }
        
        .video-stats {
            display: flex;
            gap: 1rem;
            font-size: 0.8rem;
            color: #a0aec0;
        }
        
        .modules-section {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .module-category {
            margin-bottom: 3rem;
        }
        
        .category-title {
            color: white;
            font-weight: 600;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .modules-grid-detailed {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .module-card-detailed {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .module-card-detailed::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .module-card-detailed:hover::before {
            left: 100%;
        }

        .module-card-detailed:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.2);
        }        .module-header {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .module-icon-detailed {
            width: 65px;
            height: 65px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            color: white;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            flex-shrink: 0;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .module-icon-detailed::after {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 21px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            z-index: -1;
            opacity: 0.3;
        }

        .module-icon-detailed:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .module-info {
            flex: 1;
        }
        
        .module-info h6 {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-weight: 600;
            font-size: 1.6rem;
        }
        
        .module-info p {
            margin: 0 0 0.75rem 0;
            color: #718096;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .module-stats {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .module-stats span {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            font-size: 0.8rem;
            color: #4a5568;
            background: rgba(102, 126, 234, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
        }
        
        .module-stats i {
            font-size: 0.7rem;
            color: #667eea;
        }
        
        .secure-tag {
            background: rgba(72, 187, 120, 0.1) !important;
            color: #2f855a !important;
        }
        
        .secure-tag i {
            color: #48bb78 !important;
        }
        
        .module-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .feature-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }
        
        .traditional-modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }
        
        /* Module Category Icons - Different Colors */
        .module-category:nth-child(1) .module-icon-detailed {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }
        
        .module-category:nth-child(2) .module-icon-detailed {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3);
        }
        
        .module-category:nth-child(3) .module-icon-detailed {
            background: linear-gradient(135deg, #45b7d1 0%, #96c93d 100%);
            box-shadow: 0 5px 15px rgba(69, 183, 209, 0.3);
        }
        
        .module-category:nth-child(4) .module-icon-detailed {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.3);
        }
        
        .module-category:nth-child(5) .module-icon-detailed {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }
        
        /* Responsive Design for Detailed Modules */
        @media (max-width: 768px) {
            .modules-grid-detailed {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .module-card-detailed {
                padding: 1rem;
            }
            
            .module-header {
                flex-direction: column;
                text-align: center;
                gap: 0.75rem;
            }
            
            .module-stats {
                justify-content: center;
            }
            
            .module-features {
                justify-content: center;
            }
        }
        
        .recent-activity {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .activity-item {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .activity-item:hover {
            transform: translateX(5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex-shrink: 0;
        }
        
        .activity-content h6 {
            margin: 0 0 0.25rem 0;
            color: #2d3748;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .activity-content p {
            margin: 0 0 0.25rem 0;
            color: #718096;
            font-size: 0.85rem;
        }
        
        .activity-content small {
            color: #a0aec0;
            font-size: 0.8rem;
        }
        
        .user-bottom-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1rem;
            display: flex;
            justify-content: space-around;
            position: sticky;
            bottom: 0;
            z-index: 100;
        }
        
        .user-bottom-nav .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: #718096;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            padding: 0.5rem;
            border-radius: 10px;
            min-width: 60px;
        }
        
        .user-bottom-nav .nav-item:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .user-bottom-nav .nav-item.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.15);
        }
        
        .nav-icon {
            margin-bottom: 0.25rem;
            font-size: 1.1rem;
        }
        
        /* Responsive Design for User Dashboard */
        @media (max-width: 768px) {
            .user-header-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .welcome-container {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
            }
            
            .user-stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .quick-actions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .intro-video-card {
                flex-direction: column;
                text-align: center;
            }
            
            .video-thumbnail {
                width: 100%;
                height: 200px;
            }
        }
        
        /* Real Estate Module Styles */
        .real-estate-wrapper {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
        }
        
        .module-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .back-btn {
            background: rgba(102, 126, 234, 0.1);
            border: none;
            border-radius: 10px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateX(-2px);
        }
        
        .module-title h3 {
            margin: 0;
            color: #2d3748;
            font-weight: 700;
            font-size: 1.3rem;
        }
        
        .module-title p {
            margin: 0;
            color: #718096;
            font-size: 0.9rem;
        }
        
        .header-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .admin-panel {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            margin: 1rem;
            padding: 1rem;
        }
        
        .admin-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .admin-badge {
            background: #ffc107;
            color: #212529;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .admin-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .search-filters {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 1rem;
            padding: 1rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .search-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .search-input {
            flex: 1;
            position: relative;
        }
        
        .search-input i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #718096;
        }
        
        .search-input input {
            width: 100%;
            padding: 0.75rem 0.75rem 0.75rem 2.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 0.9rem;
        }
        
        .map-toggle-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .filter-tab {
            background: white;
            border: 2px solid #e2e8f0;
            color: #4a5568;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .filter-tab.active {
            background: #667eea;
            border-color: #667eea;
            color: white;
        }
        
        .advanced-filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .filter-select {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 0.9rem;
            min-width: 150px;
        }
        
        .clear-filters-btn {
            background: #e53e3e;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1rem;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.2rem;
        }
        
        .stat-info h6 {
            margin: 0;
            color: #718096;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0.25rem 0 0 0;
        }
        
        .featured-section {
            margin: 1rem;
        }
        
        .featured-section h5 {
            color: white;
            font-weight: 600;
            margin-bottom: 1rem;
        }
        
        .featured-properties {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }
        
        .featured-property {
            min-width: 250px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .featured-property img {
            width: 100%;
            height: 120px;
            object-fit: cover;
        }
        
        .featured-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: #f56565;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .featured-info {
            padding: 1rem;
        }
        
        .featured-info h6 {
            margin: 0 0 0.25rem 0;
            color: #2d3748;
            font-weight: 600;
        }
        
        .featured-info p {
            margin: 0;
            color: #48bb78;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .properties-section {
            margin: 1rem;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .section-header h5 {
            color: white;
            font-weight: 600;
            margin: 0;
        }
        
        .view-options {
            display: flex;
            gap: 0.25rem;
        }
        
        .view-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .view-btn.active {
            background: white;
            color: #667eea;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        
        .property-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        .property-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }
        
        .property-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .property-type-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 600;
        }
        
        .property-type-badge.sale {
            background: #48bb78;
            color: white;
        }
        
        .property-type-badge.rent {
            background: #4299e1;
            color: white;
        }
        
        .virtual-tour-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .save-property-btn {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: #e53e3e;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .property-details {
            padding: 1rem;
        }
        
        .property-title {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .property-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #48bb78;
            margin-bottom: 0.5rem;
        }
        
        .property-location {
            color: #718096;
            font-size: 0.9rem;
            margin-bottom: 0.75rem;
        }
        
        .property-features {
            display: flex;
            gap: 1rem;
            margin-bottom: 0.75rem;
            font-size: 0.85rem;
            color: #4a5568;
        }
        
        .property-amenities {
            display: flex;
            flex-wrap: wrap;
            gap: 0.25rem;
            margin-bottom: 0.75rem;
        }
        
        .amenity-tag {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-size: 0.7rem;
        }
        
        .amenity-more {
            color: #718096;
            font-size: 0.7rem;
        }
        
        .property-agent {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #4a5568;
            font-size: 0.85rem;
        }
        
        .contact-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .bottom-actions {
            display: flex;
            gap: 1rem;
            margin: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .action-btn {
            flex: 1;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 1rem;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #2d3748;
            font-weight: 500;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .action-btn i {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: #667eea;
        }
        
        /* Mobile Responsive for Real Estate */
        @media (max-width: 768px) {
            .module-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .search-row {
                flex-direction: column;
            }
            
            .advanced-filters {
                flex-direction: column;
            }
            
            .filter-select {
                min-width: auto;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .bottom-actions {
                flex-direction: column;
            }
        }

        /* Real Estate Admin Styles */
        .property-admin-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .property-admin-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .property-admin-image {
            position: relative;
            margin-right: 1rem;
        }

        .property-admin-image img {
            width: 150px;
            height: 100px;
            border-radius: 8px;
            object-fit: cover;
        }

        .property-status {
            position: absolute;
            top: 5px;
            right: 5px;
            padding: 0.2rem 0.5rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .property-status.active {
            background: #48bb78;
            color: white;
        }

        .property-status.pending {
            background: #ed8936;
            color: white;
        }

        .property-status.sold {
            background: #e53e3e;
            color: white;
        }

        .property-admin-details {
            flex: 1;
            margin-right: 1rem;
        }

        .property-admin-details h6 {
            margin: 0 0 0.5rem 0;
            color: #2d3748;
            font-weight: 600;
        }

        .property-type {
            color: #718096;
            font-size: 0.9rem;
            margin: 0 0 0.25rem 0;
        }

        .property-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #48bb78;
            margin: 0 0 0.5rem 0;
        }

        .property-agent {
            color: #4a5568;
            font-size: 0.9rem;
            margin: 0 0 0.5rem 0;
        }

        .property-stats {
            display: flex;
            gap: 1rem;
            font-size: 0.8rem;
            color: #718096;
        }

        .property-admin-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .agent-admin-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .agent-avatar {
            margin-right: 1rem;
        }

        .avatar-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 1.2rem;
        }

        .agent-details {
            flex: 1;
            margin-right: 1rem;
        }

        .agent-details h6 {
            margin: 0 0 0.25rem 0;
            color: #2d3748;
            font-weight: 600;
        }

        .agent-email, .agent-phone {
            color: #718096;
            font-size: 0.9rem;
            margin: 0 0 0.25rem 0;
        }

        .agent-stats {
            display: flex;
            gap: 1.5rem;
            margin-right: 1rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item strong {
            display: block;
            font-size: 1.2rem;
            color: #2d3748;
        }

        .stat-item small {
            color: #718096;
            font-size: 0.8rem;
        }

        .agent-actions {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .inquiry-admin-item {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .inquiry-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .inquiry-customer strong {
            color: #2d3748;
            font-weight: 600;
        }

        .inquiry-customer small {
            display: block;
            color: #718096;
            font-size: 0.8rem;
        }

        .inquiry-status {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .inquiry-status.new {
            background: #fed7d7;
            color: #c53030;
        }

        .inquiry-status.contacted {
            background: #feebc8;
            color: #c05621;
        }

        .inquiry-status.scheduled {
            background: #c6f6d5;
            color: #22543d;
        }

        .inquiry-property, .inquiry-agent {
            font-size: 0.9rem;
            color: #4a5568;
            margin: 0 0 0.25rem 0;
        }

        .inquiry-message {
            font-style: italic;
            color: #718096;
            margin: 0 0 0.75rem 0;
            padding: 0.5rem;
            background: #f7fafc;
            border-radius: 5px;
        }

        .inquiry-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .form-section {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .form-section h6 {
            color: #2d3748;
            font-weight: 600;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
        }

        .image-upload-area {
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-upload-area:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .upload-placeholder {
            color: #718096;
        }

        .upload-placeholder i {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .image-preview-item {
            position: relative;
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
        }

        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .features-checklist {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }

        .analytics-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .analytics-card h6 {
            color: #718096;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .analytics-number {
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.25rem;
        }

        .chart-container {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chart-placeholder {
            height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #718096;
            background: #f7fafc;
            border-radius: 8px;
        }

        .top-properties {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .property-performance-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .performance-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .property-thumb {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
        }

        .property-stats strong {
            display: block;
            color: #2d3748;
            font-size: 0.9rem;
        }

        .property-stats small {
            color: #718096;
            font-size: 0.8rem;
        }

        /* Hotel Detail Page Styles */
        .hotel-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .hotel-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 0;
            border-bottom: 2px solid #f0f0f0;
        }

        .back-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .hotel-actions {
            display: flex;
            gap: 15px;
        }

        .whatsapp-btn, .call-btn, .email-btn {
            padding: 14px 24px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
        }

        .whatsapp-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .whatsapp-btn:hover::before {
            left: 100%;
        }

        .call-btn {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
        }

        .call-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .call-btn:hover::before {
            left: 100%;
        }

        .email-btn {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
            color: white;
        }

        .email-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .email-btn:hover::before {
            left: 100%;
        }

        .whatsapp-btn:hover, .call-btn:hover, .email-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .whatsapp-btn:active, .call-btn:active, .email-btn:active {
            transform: translateY(-1px) scale(0.98);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .hotel-images-gallery {
            margin-bottom: 30px;
        }

        .main-image {
            width: 100%;
            height: 400px;
            margin-bottom: 15px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-thumbnails {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
        }

        .image-thumbnails img {
            width: 120px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .image-thumbnails img:hover,
        .image-thumbnails img.active {
            border-color: #007bff;
            transform: scale(1.05);
        }

        .hotel-main-info {
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
        }

        .hotel-title-section h2 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .hotel-rating {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .stars {
            font-size: 20px;
        }

        .rating-score {
            font-size: 18px;
            color: #007bff;
            font-weight: 600;
        }

        .hotel-location {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #6c757d;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .hotel-description {
            font-size: 18px;
            line-height: 1.6;
            color: #495057;
        }

        .section-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab-btn {
            padding: 15px 25px;
            border: none;
            background: transparent;
            color: #6c757d;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-btn.active,
        .tab-btn:hover {
            color: #007bff;
            border-bottom-color: #007bff;
        }

        .hotel-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .hotel-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .rooms-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .room-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .room-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .room-info h4 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .room-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .feature {
            background: #e7f3ff;
            color: #0066cc;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .room-price {
            margin-bottom: 20px;
        }

        .price {
            font-size: 28px;
            font-weight: 700;
            color: #28a745;
        }

        .per-night {
            color: #6c757d;
            margin-left: 10px;
        }

        .room-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .book-whatsapp-btn, .call-book-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .book-whatsapp-btn {
            background: #25D366;
            color: white;
        }

        .call-book-btn {
            background: #007bff;
            color: white;
        }

        .book-whatsapp-btn:hover, .call-book-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .facilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .facility-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #007bff;
        }

        .facility-item h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .facility-item p {
            color: #6c757d;
            line-height: 1.5;
        }

        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .amenity-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .amenity-item i {
            color: #28a745;
            font-size: 18px;
        }

        .contact-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .contact-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: all 0.3s ease;
        }

        .contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .contact-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .contact-icon i {
            font-size: 24px;
            color: white;
        }

        .contact-details h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .contact-details p {
            color: #6c757d;
            margin-bottom: 10px;
        }

        .contact-number {
            font-weight: 600;
            color: #007bff !important;
            font-size: 16px;
        }

        .contact-action-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .contact-action-btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .view-details-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .view-details-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .hotel-detail-header {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }

            .hotel-actions {
                justify-content: center;
            }

            .main-image {
                height: 250px;
            }

            .hotel-title-section h2 {
                font-size: 24px;
            }

            .section-tabs {
                flex-wrap: wrap;
            }

            .tab-btn {
                flex: 1;
                min-width: 120px;
            }

            .room-actions {
                flex-direction: column;
            }

            .contact-info-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Restaurant Detail Page Styles */
        .restaurant-detail-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: 100vh;
        }

        .restaurant-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 15px 0;
            border-bottom: 2px solid #f0f0f0;
        }

        .restaurant-actions {
            display: flex;
            gap: 15px;
        }

        .restaurant-images-gallery {
            margin-bottom: 30px;
        }

        .restaurant-main-info {
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #fff5ee 0%, #ffeee6 100%);
            border-radius: 15px;
        }

        .restaurant-title-section h2 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .restaurant-rating {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .restaurant-location, .restaurant-cuisine, .restaurant-hours {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #6c757d;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .restaurant-description {
            font-size: 18px;
            line-height: 1.6;
            color: #495057;
            margin-bottom: 20px;
        }

        .specialties {
            margin-top: 15px;
        }

        .specialties h4 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .specialty-tag {
            background: #ff6b35;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin-right: 8px;
            margin-bottom: 8px;
            display: inline-block;
        }

        .restaurant-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .restaurant-section.active {
            display: block;
        }

        .menu-categories {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .menu-category {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #ff6b35;
        }

        .category-title {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .dishes-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dish-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .dish-item:last-child {
            border-bottom: none;
        }

        .dish-info h5 {
            font-size: 18px;
            color: #2c3e50;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .dish-description {
            color: #6c757d;
            font-size: 14px;
            line-height: 1.4;
            margin: 0;
        }

        .dish-price-action {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-shrink: 0;
        }

        .dish-price {
            font-size: 20px;
            font-weight: 700;
            color: #28a745;
            min-width: 120px;
            text-align: right;
        }

        .order-btn {
            background: #25D366;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }

        .order-btn:hover {
            background: #1ea952;
            transform: translateY(-2px);
        }

        .view-details-btn {
            background: #ff6b35;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .view-details-btn:hover {
            background: #e55a2b;
            transform: translateY(-2px);
        }

        .reserve-btn {
            background: #25D366;
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }

        .reserve-btn:hover {
            background: #1ea952;
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .restaurant-detail-header {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }

            .restaurant-actions {
                justify-content: center;
            }

            .restaurant-title-section h2 {
                font-size: 24px;
            }

            .dish-item {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .dish-price-action {
                justify-content: space-between;
            }

            .dish-price {
                text-align: left;
            }

            .menu-category {
                padding: 15px;
            }
        }

        /* Contact Widget Styles */
        .contact-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .contact-btn {
            width: 65px;
            height: 65px;
            border: none;
            border-radius: 20px;
            color: white;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .contact-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border-radius: 20px;
        }

        .contact-btn i {
            position: relative;
            z-index: 1;
        }

        .whatsapp-float {
            background: linear-gradient(135deg, #25D366, #128C7E);
        }

        .whatsapp-float:hover {
            background: linear-gradient(135deg, #128C7E, #25D366);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.4);
        }

        .call-float {
            background: linear-gradient(135deg, #2E7D32, #4CAF50);
        }

        .call-float:hover {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .email-float {
            background: linear-gradient(135deg, #1976D2, #42A5F5);
        }

        .email-float:hover {
            background: linear-gradient(135deg, #42A5F5, #1976D2);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 8px 25px rgba(66, 165, 245, 0.4);
        }

        /* Welcome Page Animation */
        #welcomePage {
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Loading Animation */
        .app-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Real-time Notification Styles */
        .realtime-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            z-index: 10000;
            max-width: 350px;
            animation: slideInRight 0.5s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .notification-content {
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .notification-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .notification-icon .spinning {
            animation: spinNotification 2s linear infinite;
        }
        
        .notification-text {
            flex: 1;
        }
        
        .notification-text strong {
            display: block;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }
        
        .notification-text p {
            margin: 0;
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .notification-action {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .notification-action:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }
        
        .notification-close {
            background: none;
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0.7;
        }
        
        .notification-close:hover {
            background: rgba(255, 255, 255, 0.2);
            opacity: 1;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes spinNotification {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .notification-pulse {
            animation: pulse 2s infinite;
        }
        
        /* Mobile responsive for notifications */
        @media (max-width: 768px) {
            .realtime-notification {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
            }
            
            .notification-content {
                padding: 0.8rem;
                gap: 0.8rem;
            }
            
            .notification-action {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }
        }

        /* Global Media Gallery Styles */
        .global-upload-zone {
            border: 3px dashed #007bff;
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.05) 0%, rgba(0, 123, 255, 0.1) 100%);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .global-upload-zone:hover {
            border-color: #0056b3;
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.1) 0%, rgba(0, 123, 255, 0.15) 100%);
            transform: translateY(-2px);
        }
        
        .upload-features {
            margin: 1rem 0;
        }
        
        .modules-assignment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .module-assignment-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .module-assignment-card:hover {
            border-color: #007bff;
            background: rgba(0, 123, 255, 0.05);
        }
        
        .module-assignment-card input[type="checkbox"] {
            display: none;
        }
        
        .module-assignment-card input[type="checkbox"]:checked + label {
            color: #007bff;
            font-weight: bold;
        }
        
        .module-assignment-card input[type="checkbox"]:checked ~ .module-assignment-card {
            border-color: #007bff;
            background: rgba(0, 123, 255, 0.1);
        }
        
        .module-assignment-card label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            margin: 0;
        }
        
        .module-assignment-card i {
            font-size: 1.2rem;
            width: 20px;
        }
        
        .global-media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }
        
        .global-media-item {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .global-media-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .media-preview {
            position: relative;
            height: 180px;
            overflow: hidden;
        }
        
        .media-preview img,
        .media-preview video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .media-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .media-preview:hover .media-overlay {
            opacity: 1;
        }
        
        .media-overlay .fa-play-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            z-index: 1;
        }
        
        .media-info {
            padding: 1rem;
        }
        
        .media-info h6 {
            margin: 0 0 0.5rem 0;
            font-weight: 600;
        }
        
        .add-media-item {
            border: 2px dashed #007bff;
            background: rgba(0, 123, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .add-media-item:hover {
            background: rgba(0, 123, 255, 0.1);
            border-color: #0056b3;
        }
        
        .add-media-content {
            text-align: center;
            color: #007bff;
        }
        
        .add-media-content i {
            margin-bottom: 1rem;
        }
        
        .add-media-content h6 {
            margin: 0.5rem 0;
            font-weight: 600;
        }
        
        .add-media-content p {
            margin: 0;
            opacity: 0.8;
        }
        
        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem auto;
            font-size: 1.5rem;
        }
        
        .stat-content h4 {
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
        }
        
        .stat-content p {
            margin: 0;
            color: #718096;
            font-weight: 500;
        }

        /* Enhanced Module Screens Styles */
        .module-header {
            display: flex;
            align-items: center;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.1);
        }

        .module-header h3 {
            flex: 1;
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 8px;
        }

        .filter-btn, .search-btn, .map-btn, .calendar-btn, .emergency-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 8px;
            padding: 8px 12px;
            color: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover, .search-btn:hover, .map-btn:hover, .calendar-btn:hover, .emergency-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .emergency-btn {
            background: #ff4757;
            font-weight: 600;
        }

        .emergency-btn:hover {
            background: #ff3838;
        }

        .module-content {
            padding: 16px;
            min-height: calc(100vh - 80px);
            background: var(--background);
        }

        .quick-filters, .event-categories, .shopping-categories, .job-filters {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .filter-chip, .category-btn, .filter-btn {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .filter-chip.active, .category-btn.active, .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .filter-chip:hover, .category-btn:hover, .filter-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        /* Hotel Cards */
        .hotels-grid {
            display: grid;
            gap: 16px;
        }

        .hotel-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .hotel-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .hotel-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .hotel-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hotel-rating {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .hotel-info {
            padding: 16px;
        }

        .hotel-info h5 {
            margin: 0 0 8px 0;
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .hotel-info p {
            margin: 0 0 12px 0;
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.4;
        }

        .hotel-price {
            font-size: 16px;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .hotel-amenities {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }

        .amenity {
            background: var(--surface-variant);
            color: var(--text-secondary);
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 11px;
        }

        /* Restaurant Cards */
        .restaurants-grid {
            display: grid;
            gap: 16px;
        }

        .restaurant-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .restaurant-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .restaurant-image {
            position: relative;
            height: 160px;
            overflow: hidden;
        }

        .restaurant-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .restaurant-rating {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .restaurant-info {
            padding: 16px;
        }

        .restaurant-info h5 {
            margin: 0 0 4px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .restaurant-info p {
            margin: 0 0 8px 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .restaurant-price, .restaurant-hours {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 4px 0;
        }

        /* Attraction Cards */
        .attractions-list {
            display: grid;
            gap: 16px;
        }

        .attraction-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .attraction-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .attraction-image {
            position: relative;
            height: 180px;
            overflow: hidden;
        }

        .attraction-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .attraction-type {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--primary);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .attraction-info {
            padding: 16px;
        }

        .attraction-info h5 {
            margin: 0 0 8px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .attraction-info p {
            margin: 0 0 12px 0;
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.4;
        }

        .attraction-location, .attraction-entry-fee {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 4px 0;
        }

        /* Event Cards */
        .events-timeline {
            display: grid;
            gap: 16px;
        }

        .event-card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            gap: 16px;
        }

        .event-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .event-date {
            background: var(--primary);
            color: white;
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            min-width: 60px;
            height: fit-content;
        }

        .date-day {
            font-size: 20px;
            font-weight: bold;
            line-height: 1;
        }

        .date-month {
            font-size: 12px;
            margin-top: 2px;
        }

        .event-info {
            flex: 1;
        }

        .event-info h5 {
            margin: 0 0 8px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .event-info p {
            margin: 0 0 12px 0;
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.4;
        }

        .event-location, .event-time, .event-price {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 4px 0;
        }

        /* Service Cards */
        .service-categories, .education-categories, .transport-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .service-card, .education-card, .transport-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .service-card:hover, .education-card:hover, .transport-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }

        .service-card i, .education-card i, .transport-card i {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .service-card h5, .education-card h5, .transport-card h5 {
            margin: 0 0 8px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .service-card p, .education-card p, .transport-card p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Healthcare, Education, Transportation, Shopping Lists */
        .healthcare-list, .education-list, .transport-live-updates, .shopping-grid, .jobs-list {
            display: grid;
            gap: 12px;
        }

        .healthcare-card, .education-card, .transport-card, .shopping-card, .job-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: flex-start;
            gap: 16px;
        }

        .healthcare-card:hover, .education-card:hover, .transport-card:hover, .shopping-card:hover, .job-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .service-icon {
            background: var(--surface-variant);
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .service-icon i {
            font-size: 24px;
            color: var(--primary);
        }

        .service-info, .school-info, .transport-info, .shop-info, .job-info {
            flex: 1;
        }

        .service-info h5, .school-info h5, .transport-info h5, .shop-info h5 {
            margin: 0 0 4px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .service-info p, .school-info p, .transport-info p, .shop-info p {
            margin: 0 0 8px 0;
            color: var(--text-secondary);
            font-size: 14px;
        }

        .service-location, .service-hours, .service-contact,
        .school-type, .school-location, .school-contact,
        .transport-route, .transport-price, .transport-contact,
        .shop-location, .shop-hours {
            font-size: 12px;
            color: var(--text-secondary);
            margin: 2px 0;
        }

        /* Job Cards */
        .job-card {
            flex-direction: column;
            align-items: stretch;
        }

        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .job-header h5 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
            flex: 1;
        }

        .job-type {
            background: var(--primary);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .job-info p {
            font-weight: 500;
            color: var(--text-primary);
        }

        .job-location, .job-salary, .job-posted {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 4px 0;
        }

        /* Shopping specific */
        .shop-image {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            flex-shrink: 0;
        }

        .shop-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .shop-type {
            position: absolute;
            top: 8px;
            left: 8px;
            background: var(--primary);
            color: white;
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 10px;
            font-weight: 600;
        }

        /* Loading and Error States */
        .loading-placeholder {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
            font-style: italic;
        }

        .error-message {
            text-align: center;
            padding: 40px 20px;
            color: #ff4757;
        }

        .error-message button {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            margin-top: 12px;
            cursor: pointer;
        }

        .no-data {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Featured sections */
        .featured-attraction {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .attraction-hero h4 {
            margin: 0 0 8px 0;
            font-size: 20px;
            font-weight: 600;
        }

        .attraction-hero p {
            margin: 0 0 16px 0;
            opacity: 0.9;
        }

        .explore-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 12px;
            padding: 8px 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .explore-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }

        /* Action buttons */
        .post-job-btn {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 8px 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .post-job-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        /* Responsive design for modules */
        @media (min-width: 768px) {
            .hotels-grid, .restaurants-grid, .attractions-list {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .shopping-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
            
            .service-categories, .education-categories, .transport-options {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .hotels-grid, .restaurants-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .attractions-list {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="appLoading" class="app-loading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Visit Limbe</h2>
            <p>Chargement de votre application touristique...</p>
        </div>
    </div>
    
    <!-- Emergency loading hide script -->
    <script>
        // Emergency function to hide loading screen
        function forceHideLoading() {
            const loading = document.getElementById('appLoading');
            if (loading) {
                loading.style.display = 'none';
            }
        }

        // Global error handler: log error and ensure loading screen is removed
        window.onerror = function(message, source, lineno, colno, error) {
            try {
                console.error('Global error caught:', { message, source, lineno, colno, error });
            } catch (e) {
                // swallow logging errors
            }
            // Try to unstick the loading screen so users can continue
            forceHideLoading();
            // Allow default handling to continue
            return false;
        };

        // Handle unhandled promise rejections similarly
        window.addEventListener('unhandledrejection', function(evt) {
            try {
                console.error('Unhandled promise rejection:', evt.reason);
            } catch (e) {}
            forceHideLoading();
        });

        // Fallback: force hide loading after 10s if something blocks initialization
        setTimeout(() => {
            forceHideLoading();
            console.warn('Fallback: appLoading hidden after timeout to avoid stuck loading screen');
        }, 10000);

        // Enhanced Button Handlers with Visual Feedback
        function handleGetStarted(e) {
            const ev = e || window.event;
            const target = ev && ev.target ? ev.target : null;
            const button = target ? target.closest('.btn-primary-cta') : document.querySelector('.btn-primary-cta');
            if (button) {
                // Add loading state
                button.classList.add('btn-loading');

                // Simulate processing time
                setTimeout(() => {
                    button.classList.remove('btn-loading');
                    button.classList.add('btn-success');

                    // Navigate after success animation
                    setTimeout(() => {
                        button.classList.remove('btn-success');
                        showLoginPage('user');
                    }, 600);
                }, 1000);
            }
        }

        function handleDiscoverMore(e) {
            const ev = e || window.event;
            const target = ev && ev.target ? ev.target : null;
            const button = target ? target.closest('.btn-secondary-cta') : document.querySelector('.btn-secondary-cta');
            if (button) {
                // Add visual feedback
                button.style.transform = 'scale(0.95)';

                setTimeout(() => {
                    button.style.transform = '';
                    scrollToFeatures();
                }, 150);
            }
        }

        // Enhanced scroll function with smooth animation
        function scrollToFeatures() {
            const featuresSection = document.getElementById('featuresSection');
            if (featuresSection) {
                featuresSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });

                // Add highlight effect to features section
                featuresSection.style.animation = 'none';
                setTimeout(() => {
                    featuresSection.style.animation = 'highlight 1s ease-in-out';
                }, 10);
            }
        }

        // Add highlight animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes highlight {
                0% { background-color: transparent; }
                50% { background-color: rgba(102, 126, 234, 0.1); }
                100% { background-color: transparent; }
            }
        `;
        document.head.appendChild(style);
    </script>

    <div class="app-container">
        <!-- Welcome Page -->
        <div id="welcomePage" class="page active">
            <div class="mobile-welcome-page">
                <!-- Mobile App Header -->
                <div class="mobile-header">
                    <!-- Language Switch (Top Right) -->
                    <div class="language-switch">
                        <button id="languageToggle" onclick="toggleLanguage()" class="language-btn">
                            <span id="currentLangFlag">🇫🇷</span>
                            <span id="currentLangText">FR</span>
                        </button>
                    </div>
                </div>
                
                <!-- Mobile App Content Overlay -->
                <div class="mobile-content-overlay">
                    <!-- App Logo & Title -->
                    <div class="mobile-app-header">
                        <div class="app-logo">
                            🏝️
                        </div>
                        <h1 class="mobile-app-title" data-translate="visit_limbe">Visit Limbe</h1>
                        <p class="mobile-app-subtitle" data-translate="explore_beauty">Explorez la beauté de la côte camerounaise</p>
                    </div>
                    
                    <!-- Mobile Main Actions -->
                    <div class="mobile-main-actions">
                        <button type="button" class="mobile-btn mobile-btn-primary" onclick="handleGetStarted()">
                            <span class="material-icons">rocket_launch</span>
                            <span data-translate="get_started">Commencer</span>
                        </button>

                        <button type="button" class="mobile-btn mobile-btn-secondary" onclick="handleDiscoverMore()">
                            <span class="material-icons">explore</span>
                            <span data-translate="discover_more">Découvrir Plus</span>
                        </button>
                    </div>
                    
                    <!-- Quick Stats -->
                    <div class="mobile-quick-stats">
                        <div class="mobile-stat-item">
                            <span class="mobile-stat-number">500+</span>
                            <span class="mobile-stat-label" data-translate="hotels_available">Hôtels</span>
                        </div>
                        <div class="mobile-stat-item">
                            <span class="mobile-stat-number">1000+</span>
                            <span class="mobile-stat-label" data-translate="local_businesses">Entreprises</span>
                        </div>
                        <div class="mobile-stat-item">
                            <span class="mobile-stat-number">24/7</span>
                            <span class="mobile-stat-label" data-translate="support">Support</span>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Bottom Actions -->
                <div class="mobile-bottom-actions">
                    <button type="button" class="mobile-bottom-btn" onclick="showLoginPage('user')">
                        <span class="material-icons">person_add</span>
                        <span data-translate="create_account">Créer un compte</span>
                    </button>
                    
                    <button type="button" class="mobile-bottom-btn mobile-admin-btn" onclick="showLoginPage('admin')">
                        <span class="material-icons">admin_panel_settings</span>
                        <span data-translate="admin_access">Admin</span>
                    </button>
                </div>
                
                <!-- Mobile Floating Contact Buttons (On Background) -->
                <div class="mobile-floating-contacts">
                    <button class="mobile-contact-btn whatsapp-btn" onclick="whatsappVisitLimbe('Bonjour ! Je souhaite obtenir des informations sur Visit Limbe.')" aria-label="WhatsApp">
                        <span class="material-icons">chat</span>
                        <span class="contact-label">WhatsApp</span>
                    </button>
                    
                    <button class="mobile-contact-btn call-btn" onclick="callVisitLimbe()" aria-label="Appeler">
                        <span class="material-icons">call</span>
                        <span class="contact-label">Appeler</span>
                    </button>
                    
                    <button class="mobile-contact-btn email-btn" onclick="emailVisitLimbe()" aria-label="Email">
                        <span class="material-icons">email</span>
                        <span class="contact-label">Email</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- User Login Page -->
                    <div class="features-container">
                        <h2 class="features-title" data-translate="what_we_offer">Ce que nous offrons</h2>
                        <div class="features-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-hotel"></i>
                                </div>
                                <h3 data-translate="hotels_booking">Réservation d'hôtels</h3>
                                <p data-translate="hotels_desc">Réservez les meilleurs hôtels de Limbe avec des tarifs compétitifs</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-map-marked-alt"></i>
                                </div>
                                <h3 data-translate="tourism_guide">Guide touristique</h3>
                                <p data-translate="tourism_desc">Découvrez les attractions incontournables et les sites cachés</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <h3 data-translate="job_opportunities">Opportunités d'emploi</h3>
                                <p data-translate="jobs_desc">Trouvez des emplois locaux et développez votre carrière</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-shopping-bag"></i>
                                </div>
                                <h3 data-translate="local_shopping">Shopping local</h3>
                                <p data-translate="shopping_desc">Achetez des produits locaux authentiques et artisanaux</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <h3 data-translate="events">Événements</h3>
                                <p data-translate="events_desc">Participez aux événements culturels et festivals locaux</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-headset"></i>
                                </div>
                                <h3 data-translate="support_24_7">Support 24/7</h3>
                                <p data-translate="support_desc">Assistance client disponible à tout moment</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Action Section -->
                <div class="action-section">
                    <div class="action-content">
                        <h2 data-translate="ready_to_start">Prêt à commencer votre aventure?</h2>
                        <p data-translate="join_community">Rejoignez notre communauté et découvrez tout ce que Limbe a à offrir</p>
                        <div class="action-buttons">
                            <a href="#" class="btn-action-primary" onclick="showLoginPage('user')">
                                <i class="fas fa-user-plus"></i>
                                <span data-translate="create_account">Créer un compte</span>
                            </a>
                            <a href="#" class="btn-action-secondary" onclick="showLoginPage('admin')">
                                <i class="fas fa-user-shield"></i>
                                <span data-translate="admin_access">Accès Admin</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Footer -->
                <div class="welcome-footer-modern">
                    <div class="footer-content">
                        <div class="footer-main">
                            <div class="footer-brand">
                                <h3>Visit Limbe</h3>
                                <p data-translate="footer_tagline">Votre porte d'entrée vers la beauté du Cameroun</p>
                            </div>
                            <div class="footer-links-grid">
                                <div class="footer-column">
                                    <h4 data-translate="quick_links">Liens rapides</h4>
                                    <a href="#" onclick="showTermsPage()" data-translate="terms_conditions">Conditions d'utilisation</a>
                                    <a href="#" onclick="showContactPage()" data-translate="contact_us">Contactez-nous</a>
                                    <a href="#" data-translate="privacy_policy">Politique de confidentialité</a>
                                </div>
                                <div class="footer-column">
                                    <h4 data-translate="services">Services</h4>
                                    <a href="#" data-translate="hotel_reservations">Réservations d'hôtels</a>
                                    <a href="#" data-translate="tour_guides">Guides touristiques</a>
                                    <a href="#" data-translate="local_experiences">Expériences locales</a>
                                </div>
                            </div>
                        </div>
                        <div class="footer-bottom">
                            <p>&copy; 2025 Visit Limbe. <span data-translate="all_rights_reserved">Tous droits réservés.</span></p>
                            <div class="footer-version">
                                <span data-translate="app_version">Version 2.0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Call Center Module Page -->
        <div id="callcenterModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3 data-translate="callcenter">Call Center</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                <div class="dashboard-content">
                    <div class="booking-card">
                        <h6 data-translate="emergency_services">Emergency Services</h6>
                        <p>Police: <strong>17</strong> • Fire: <strong>18</strong> • Medical: <strong>15</strong></p>
                        <button class="btn btn-danger btn-sm" onclick="dialNumber('17')"><i class="fas fa-phone"></i> Police</button>
                        <button class="btn btn-warning btn-sm" onclick="dialNumber('18')"><i class="fas fa-phone"></i> Fire</button>
                        <button class="btn btn-success btn-sm" onclick="dialNumber('15')"><i class="fas fa-phone"></i> Medical</button>
                    </div>
                    <div class="booking-card">
                        <h6 data-translate="tourist_support">Tourist Support</h6>
                        <p>Email: support@visitlimbe.cm • WhatsApp: +237 600 000 000</p>
                        <button class="btn btn-primary btn-sm" onclick="openSupportChat()"><i class="fas fa-comments"></i> Chat</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Intro Video Modal -->
        <div id="introVideoModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:9999;">
            <div style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:90%; max-width:600px;">
                <button onclick="closeIntroVideo()" style="position:absolute; top:-40px; right:0; background:white; border:none; border-radius:50%; width:30px; height:30px; cursor:pointer;">
                    <i class="fas fa-times"></i>
                </button>
                <video id="introVideo" width="100%" height="auto" controls autoplay>
                    <p style="color:white;">📹 Welcome to Visit Limbe! Your intro video would play here. Admin can upload/replace this video from the admin dashboard.</p>
                </video>
            </div>
        </div>
        <!-- Hidden file input for admin intro video upload -->
        <input id="introVideoFileInput" type="file" accept="video/*" style="display:none;" onchange="handleIntroVideoFileChange(event)" />

        <!-- User Login Page -->
        <div id="userLoginPage" class="page">
            <div class="auth-page">
                <div class="auth-container">
                    <div class="auth-header">
                        <h2 data-translate="login">Login to Your Account</h2>
                        <p data-translate="welcome_back_app">Welcome back to Visit Limbe</p>
                    </div>
                    <form id="userLoginForm" onsubmit="userLogin(event)">
                        <div class="form-group">
                            <input type="email" id="loginEmail" class="form-control" data-translate="email" placeholder="Email Address" required onblur="checkExistingUser(this.value)">
                            <div class="error-message" id="emailError"></div>
                        </div>
                        <div id="userStatusMessage" class="user-status-message" style="display: none;"></div>
                        <div class="form-group">
                            <input type="password" class="form-control" data-translate="password" placeholder="Password" id="loginPassword" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <div class="error-message" id="passwordError"></div>
                        </div>
                        
                        <div class="remember-me">
                            <input type="checkbox" id="rememberMe" name="rememberMe">
                            <label for="rememberMe">Remember me for 30 days</label>
                        </div>
                        
                        <button type="submit" class="btn-auth" data-translate="login">
                            <div class="loading-spinner"></div>
                            Login
                        </button>
                    </form>
                    <div class="auth-footer text-center mt-3">
                        <p><a href="#" onclick="showForgotPassword()" style="color: var(--primary); font-size: 0.9rem; text-decoration: none;">Forgot Password?</a></p>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">
                            <span data-translate="dont_have_account">Don't have an account?</span> 
                            <a href="#" onclick="showRegisterPage()" data-translate="register" style="color: var(--primary); text-decoration: none; font-weight: 500;">Register</a>
                        </p>
                        <a href="#" onclick="showWelcomePage()" data-translate="back_to_welcome" style="color: var(--text-secondary); font-size: 0.85rem; text-decoration: none;">← Back to Welcome</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Global Media Gallery Page -->
        <div id="globalMediaGalleryPage" class="page">
            <div class="dashboard">
                <div class="admin-top-bar">
                    <h3>🎬 Global Media Gallery</h3>
                    <div class="admin-breadcrumb">
                        <span onclick="showAdminDashboard()" style="cursor: pointer; color: #007bff;">Admin</span> / Media Gallery
                    </div>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-light" onclick="showAdminDashboard()">
                            <i class="fas fa-arrow-left"></i> Back to Admin
                        </button>
                        <div class="user-avatar">AD</div>
                        <span>Administrator</span>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Media Upload Section -->
                    <div class="admin-section">
                        <div class="admin-section-header">
                            <h5>📤 Upload Media</h5>
                            <p>Upload photos and videos for all modules from one central location</p>
                        </div>
                        <div class="admin-section-content">
                            <div class="row g-4">
                                <div class="col-12">
                                    <div class="global-upload-zone">
                                        <div class="upload-area" onclick="triggerGlobalMediaUpload()">
                                            <i class="fas fa-cloud-upload-alt fa-4x mb-3 text-primary"></i>
                                            <h4>Upload Photos & Videos</h4>
                                            <p>Drag & drop files here or click to browse your gallery</p>
                                            <div class="upload-features">
                                                <span class="badge bg-success me-2">📷 Photos (JPG, PNG, GIF)</span>
                                                <span class="badge bg-info me-2">🎬 Videos (MP4, MOV, AVI)</span>
                                                <span class="badge bg-warning">📄 Documents (PDF)</span>
                                            </div>
                                            <small class="text-muted mt-2 d-block">Maximum file size: 100MB per file</small>
                                        </div>
                                        <input type="file" id="globalMediaInput" accept="image/*,video/*,.pdf" multiple style="display:none;" onchange="handleGlobalMediaUpload(this.files)">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Module Assignment Section -->
                    <div class="admin-section">
                        <div class="admin-section-header">
                            <h5>🎯 Assign to Modules</h5>
                            <p>Choose which modules will receive your uploaded media</p>
                        </div>
                        <div class="admin-section-content">
                            <div class="modules-assignment-grid">
                                <div class="module-assignment-card" data-module="booking">
                                    <input type="checkbox" id="assign-booking" checked>
                                    <label for="assign-booking">
                                        <i class="fas fa-bed"></i>
                                        <span>Hotels & Booking</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="shopping">
                                    <input type="checkbox" id="assign-shopping" checked>
                                    <label for="assign-shopping">
                                        <i class="fas fa-shopping-cart"></i>
                                        <span>Shopping</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="restaurants">
                                    <input type="checkbox" id="assign-restaurants" checked>
                                    <label for="assign-restaurants">
                                        <i class="fas fa-utensils"></i>
                                        <span>Restaurants</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="events">
                                    <input type="checkbox" id="assign-events">
                                    <label for="assign-events">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span>Events</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="streaming">
                                    <input type="checkbox" id="assign-streaming">
                                    <label for="assign-streaming">
                                        <i class="fas fa-play-circle"></i>
                                        <span>Streaming</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="tourism">
                                    <input type="checkbox" id="assign-tourism">
                                    <label for="assign-tourism">
                                        <i class="fas fa-map-marked-alt"></i>
                                        <span>Tourism</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="gallery">
                                    <input type="checkbox" id="assign-gallery">
                                    <label for="assign-gallery">
                                        <i class="fas fa-images"></i>
                                        <span>Photo Gallery</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card" data-module="realestate">
                                    <input type="checkbox" id="assign-realestate">
                                    <label for="assign-realestate">
                                        <i class="fas fa-home"></i>
                                        <span>Real Estate</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Media Library -->
                    <div class="admin-section">
                        <div class="admin-section-header">
                            <h5>🖼️ Media Library</h5>
                            <p>Browse and manage all uploaded media files</p>
                            <div class="d-flex gap-2">
                                <button class="btn btn-outline-primary btn-sm" onclick="filterGlobalMedia('all')">All Media</button>
                                <button class="btn btn-outline-success btn-sm" onclick="filterGlobalMedia('images')">📷 Photos</button>
                                <button class="btn btn-outline-info btn-sm" onclick="filterGlobalMedia('videos')">🎬 Videos</button>
                                <button class="btn btn-outline-warning btn-sm" onclick="filterGlobalMedia('documents')">📄 Documents</button>
                            </div>
                        </div>
                        <div class="admin-section-content">
                            <div id="globalMediaLibrary" class="global-media-grid">
                                <!-- Sample media items -->
                                <div class="global-media-item" data-type="image">
                                    <div class="media-preview">
                                        <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop" alt="Limbe Beach">
                                        <div class="media-overlay">
                                            <button class="btn btn-sm btn-light" onclick="previewGlobalMedia(this)">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="assignMediaToModules(this)">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                            <button class="btn btn-sm btn-danger" onclick="deleteGlobalMedia(this)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="media-info">
                                        <h6>Limbe Beach</h6>
                                        <small class="text-muted">JPG • 2.3MB • Used in 3 modules</small>
                                    </div>
                                </div>
                                
                                <div class="global-media-item" data-type="video">
                                    <div class="media-preview">
                                        <video poster="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop">
                                            <source src="#" type="video/mp4">
                                        </video>
                                        <div class="media-overlay">
                                            <i class="fas fa-play-circle fa-2x"></i>
                                            <button class="btn btn-sm btn-light" onclick="previewGlobalMedia(this)">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="assignMediaToModules(this)">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                            <button class="btn btn-sm btn-danger" onclick="deleteGlobalMedia(this)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="media-info">
                                        <h6>Limbe Tourism Video</h6>
                                        <small class="text-muted">MP4 • 15.7MB • Used in 2 modules</small>
                                    </div>
                                </div>
                                
                                <div class="global-media-item" data-type="image">
                                    <div class="media-preview">
                                        <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=300&h=200&fit=crop" alt="Restaurant Food">
                                        <div class="media-overlay">
                                            <button class="btn btn-sm btn-light" onclick="previewGlobalMedia(this)">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-primary" onclick="assignMediaToModules(this)">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                            <button class="btn btn-sm btn-danger" onclick="deleteGlobalMedia(this)">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="media-info">
                                        <h6>Local Cuisine</h6>
                                        <small class="text-muted">JPG • 1.8MB • Used in 1 module</small>
                                    </div>
                                </div>
                                
                                <div class="global-media-item add-media-item" onclick="triggerGlobalMediaUpload()">
                                    <div class="add-media-content">
                                        <i class="fas fa-plus-circle fa-3x"></i>
                                        <h6>Add More Media</h6>
                                        <p>Upload photos & videos</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Usage Statistics -->
                    <div class="admin-section">
                        <div class="admin-section-header">
                            <h5>📊 Media Usage Statistics</h5>
                            <p>Track how your media is being used across different modules</p>
                        </div>
                        <div class="admin-section-content">
                            <div class="row g-3">
                                <div class="col-md-3">
                                    <div class="stat-card">
                                        <div class="stat-icon">
                                            <i class="fas fa-images"></i>
                                        </div>
                                        <div class="stat-content">
                                            <h4>247</h4>
                                            <p>Total Photos</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card">
                                        <div class="stat-icon">
                                            <i class="fas fa-video"></i>
                                        </div>
                                        <div class="stat-content">
                                            <h4>18</h4>
                                            <p>Total Videos</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card">
                                        <div class="stat-icon">
                                            <i class="fas fa-eye"></i>
                                        </div>
                                        <div class="stat-content">
                                            <h4>12.5K</h4>
                                            <p>Total Views</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="stat-card">
                                        <div class="stat-icon">
                                            <i class="fas fa-hdd"></i>
                                        </div>
                                        <div class="stat-content">
                                            <h4>2.8GB</h4>
                                            <p>Storage Used</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Register Page -->
        <div id="userRegisterPage" class="page">
            <div class="auth-page">
                <div class="auth-container">
                    <div class="auth-header">
                        <h2 data-translate="register">User Registration</h2>
                        <p data-translate="create_account_desc">Create your Visit Limbe account</p>
                    </div>
                    <form id="userRegisterForm" onsubmit="userRegister(event)">
                        <div class="form-group">
                            <input type="text" id="registerFullName" class="form-control" data-translate="full_name" placeholder="Full Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="registerEmail" class="form-control" data-translate="email" placeholder="Email Address" required>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" data-translate="password" placeholder="Password" id="registerPassword" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" placeholder="Confirm Password" id="confirmPassword" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="termsCheck" required>
                            <label class="form-check-label" for="termsCheck">
                                I accept the <a href="#" onclick="showTermsPage()" class="text-primary">Terms and Conditions</a>
                            </label>
                        </div>
                        <button type="submit" class="btn-auth">
                            <div class="loading-spinner"></div>
                            Register
                        </button>
                    </form>
                    
                    <div class="auth-footer text-center mt-3">
                        <p>Already have an account? <a href="#" onclick="showLoginPage('user')">Login</a></p>
                        <a href="#" onclick="showWelcomePage()">Back to Welcome</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terms and Conditions Page -->
        <div id="termsPage" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Terms & Conditions</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showLandingPage()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <div class="terms-container">
                        <div class="terms-header text-center mb-4">
                            <h2 class="text-primary">Visit Limbe Mobile App</h2>
                            <h4>Terms and Conditions</h4>
                            <p class="text-muted">Last updated: August 27, 2025</p>
                        </div>

                        <div class="terms-content">
                            <div class="terms-section">
                                <h5><i class="fas fa-info-circle text-primary"></i> 1. Acceptance of Terms</h5>
                                <p>By accessing and using the Visit Limbe Mobile App, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these Terms and Conditions, you should not use this application.</p>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-user-shield text-primary"></i> 2. Use License</h5>
                                <p>Permission is granted to temporarily use the Visit Limbe Mobile App for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:</p>
                                <ul>
                                    <li>Modify or copy the application materials</li>
                                    <li>Use the materials for commercial purposes or for any public display</li>
                                    <li>Attempt to reverse engineer any software contained in the application</li>
                                    <li>Remove any copyright or other proprietary notations from the materials</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-user-check text-primary"></i> 3. User Account Responsibilities</h5>
                                <p>When creating an account with Visit Limbe, you agree to:</p>
                                <ul>
                                    <li>Provide accurate and complete information</li>
                                    <li>Maintain the security of your account credentials</li>
                                    <li>Notify us immediately of any unauthorized use</li>
                                    <li>Use the services in compliance with all applicable laws</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-shield-alt text-primary"></i> 4. Privacy and Data Protection</h5>
                                <p>We are committed to protecting your privacy. Your personal information will be handled in accordance with our Privacy Policy. We collect and use information to provide better services to our users.</p>
                                <ul>
                                    <li>We collect only necessary information for service provision</li>
                                    <li>Your data is encrypted and securely stored</li>
                                    <li>We do not sell your personal information to third parties</li>
                                    <li>You can request data deletion at any time</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-handshake text-primary"></i> 5. Service Availability</h5>
                                <p>Visit Limbe strives to provide reliable services, however:</p>
                                <ul>
                                    <li>Services may be temporarily unavailable due to maintenance</li>
                                    <li>We reserve the right to modify or discontinue services</li>
                                    <li>Third-party service integrations may have their own availability</li>
                                    <li>We are not liable for service interruptions beyond our control</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-credit-card text-primary"></i> 6. Payment and Booking Terms</h5>
                                <p>When using our booking and payment services:</p>
                                <ul>
                                    <li>All prices are displayed in West African CFA Franc (XAF)</li>
                                    <li>Payment processing is handled by secure third-party providers</li>
                                    <li>Booking confirmations will be sent via email or SMS</li>
                                    <li>Cancellation policies vary by service provider</li>
                                    <li>Refunds are subject to individual merchant policies</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-exclamation-triangle text-primary"></i> 7. Content and Conduct</h5>
                                <p>Users must not upload or share content that is:</p>
                                <ul>
                                    <li>Illegal, harmful, or offensive</li>
                                    <li>Infringing on intellectual property rights</li>
                                    <li>Spam or misleading information</li>
                                    <li>Violating privacy of others</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-balance-scale text-primary"></i> 8. Limitation of Liability</h5>
                                <p>Visit Limbe shall not be liable for any damages arising from:</p>
                                <ul>
                                    <li>Use or inability to use the application</li>
                                    <li>Third-party services or content</li>
                                    <li>Data loss or security breaches beyond our control</li>
                                    <li>Actions of other users or service providers</li>
                                </ul>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-gavel text-primary"></i> 9. Governing Law</h5>
                                <p>These terms shall be interpreted in accordance with the laws of Cameroon. Any disputes shall be resolved in the courts of Cameroon.</p>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-edit text-primary"></i> 10. Changes to Terms</h5>
                                <p>We reserve the right to modify these terms at any time. Users will be notified of significant changes via the application. Continued use after changes constitutes acceptance of new terms.</p>
                            </div>

                            <div class="terms-section">
                                <h5><i class="fas fa-phone text-primary"></i> 11. Contact Information</h5>
                                <p>For questions about these Terms and Conditions, please contact us:</p>
                                <ul>
                                    <li><strong>Email:</strong> support@visitlimbe.com</li>
                                    <li><strong>Phone:</strong> +237 6XX XXX XXX</li>
                                    <li><strong>Address:</strong> Limbe, Southwest Region, Cameroon</li>
                                </ul>
                            </div>

                            <div class="developer-section mt-5 p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; color: white;">
                                <div class="text-center">
                                    <h5><i class="fas fa-code"></i> Application Development</h5>
                                    <p class="mb-2"><strong>Developed by:</strong></p>
                                    <h4 class="text-warning"><i class="fas fa-user-tie"></i> Rikiatou Hassan</h4>
                                    <p class="mb-0"><i class="fas fa-calendar-alt"></i> &copy; 2025 - All Rights Reserved</p>
                                    <small class="d-block mt-2 opacity-75">Full-Stack Developer & Mobile App Specialist</small>
                                </div>
                            </div>
                        </div>

                        <div class="terms-actions text-center mt-4">
                            <button class="btn btn-primary me-2" onclick="acceptTerms()">
                                <i class="fas fa-check"></i> I Accept These Terms
                            </button>
                            <button class="btn btn-outline-secondary" onclick="showLandingPage()">
                                <i class="fas fa-arrow-left"></i> Back to App
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Login Page -->
        <div id="adminLoginPage" class="page">
            <div class="auth-page">
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>Admin Login</h2>
                        <p>Administrator Access</p>
                    </div>
                    <form id="adminLoginForm" onsubmit="adminLogin(event)">
                        <input type="text" class="form-control" placeholder="Admin Username" id="adminUsername" required>
                        <div class="password-toggle">
                            <input type="password" class="form-control" placeholder="Admin Password" id="adminPassword" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('adminPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <button type="submit" class="btn-auth">Admin Login</button>
                    </form>
                    <div class="auth-footer text-center mt-3">
                        <a href="#" onclick="showWelcomePage()">Back to Welcome</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module Manager Login Page -->
        <div id="moduleManagerLoginPage" class="page">
            <div class="auth-page">
                <div class="auth-container">
                    <div class="auth-header">
                        <h2>Module Manager Login</h2>
                        <p>Access your assigned module</p>
                    </div>
                    <form id="moduleManagerLoginForm" onsubmit="moduleManagerLogin(event)">
                        <input type="email" class="form-control" placeholder="Manager Email" id="managerEmail" required>
                        <div class="password-toggle">
                            <input type="password" class="form-control" placeholder="Manager Password" id="managerPassword" required>
                            <button type="button" class="toggle-password" onclick="togglePassword('managerPassword')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <select class="form-control" id="moduleSelect" required>
                            <option value="">Select Your Module</option>
                            <option value="booking">Booking Manager</option>
                            <option value="shopping">Shopping Manager</option>
                            <option value="health">Health Manager</option>
                            <option value="education">Education Manager</option>
                            <option value="transport">Transport Manager</option>
                            <option value="culture">Culture Manager</option>
                            <option value="maps">Maps Manager</option>
                            <option value="gallery">Gallery Manager</option>
                            <option value="services">Services Manager</option>
                            <option value="finance">Finance Manager</option>
                            <option value="events">Events Manager</option>
                            <option value="jobs">Jobs Manager</option>
                            <option value="callcenter">Call Center Manager</option>
                            <option value="realestate">Real Estate Manager</option>
                            <option value="streaming">Streaming Manager</option>
                            <option value="ticketing">Ticketing Manager</option>
                        </select>
                        <button type="submit" class="btn-auth">Module Manager Login</button>
                    </form>
                    <div class="auth-footer text-center mt-3">
                        <a href="#" onclick="showWelcomePage()">Back to Welcome</a> |
                        <a href="#" onclick="showLoginPage('user')">User Login</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Dashboard - Redesigned -->
    <div id="userDashboard" class="page">
        <div class="dashboard-container">
            <!-- Header with Profile & Weather -->
            <div class="dashboard-header">
                <div class="profile-section">
                    <div class="user-avatar">
                        <span id="userAvatarInitials">GL</span>
                    </div>
                    <div class="user-info">
                        <h4 id="userDisplayName">Good morning, Explorer!</h4>
                        <p class="location">📍 Limbe, Southwest Region</p>
                    </div>
                    <div class="weather-widget">
                        <div class="weather-icon">☀️</div>
                        <div class="weather-info">
                            <span class="temp">28°C</span>
                            <span class="desc">Sunny</span>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Stats -->
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-icon">💰</div>
                        <div class="stat-info">
                            <span class="stat-value">1,250</span>
                            <span class="stat-label">Points</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">📍</div>
                        <div class="stat-info">
                            <span class="stat-value">12</span>
                            <span class="stat-label">Visited</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">🎯</div>
                        <div class="stat-info">
                            <span class="stat-value">5</span>
                            <span class="stat-label">Bookings</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <h6 class="section-title">Quick Actions</h6>
                <div class="action-grid">
                    <button class="action-btn" onclick="showSearchPage()">
                        <span class="material-icons">search</span>
                        <span>Search</span>
                    </button>
                    <button class="action-btn" onclick="showMap()">
                        <span class="material-icons">map</span>
                        <span>Navigate</span>
                    </button>
                    <button class="action-btn" onclick="showNotifications()">
                        <span class="material-icons">notifications</span>
                        <span>Alerts</span>
                    </button>
                    <button class="action-btn" onclick="showCallCenter()">
                        <span class="material-icons">phone</span>
                        <span>Emergency</span>
                    </button>
                </div>
            </div>

            <!-- Featured Modules -->
            <div class="modules-section">
                <h6 class="section-title">Explore Limbe</h6>
                
                <!-- Hospitality -->
                <div class="module-category">
                    <div class="category-header">
                        <span class="material-icons">hotel</span>
                        <h6>Hospitality & Dining</h6>
                    </div>
                    <div class="module-cards">
                        <div class="module-card featured" onclick="showModule('hotels')">
                            <div class="module-icon">🏨</div>
                            <div class="module-content">
                                <h6>Hotels & Accommodation</h6>
                                <p>150+ verified hotels and guesthouses</p>
                                <span class="module-badge">Popular</span>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModule('restaurants')">
                            <div class="module-icon">🍽️</div>
                            <div class="module-content">
                                <h6>Restaurants & Dining</h6>
                                <p>Authentic local cuisine & international food</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tourism & Attractions -->
                <div class="module-category">
                    <div class="category-header">
                        <span class="material-icons">landscape</span>
                        <h6>Tourism & Attractions</h6>
                    </div>
                    <div class="module-cards">
                        <div class="module-card featured" onclick="showModule('tourism')">
                            <div class="module-icon">🏔️</div>
                            <div class="module-content">
                                <h6>Natural Attractions</h6>
                                <p>Mount Cameroon, beaches & botanical gardens</p>
                                <span class="module-badge">Must Visit</span>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModule('events')">
                            <div class="module-icon">🎭</div>
                            <div class="module-content">
                                <h6>Events & Activities</h6>
                                <p>Cultural events, festivals & entertainment</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Services -->
                <div class="module-category">
                    <div class="category-header">
                        <span class="material-icons">business</span>
                        <h6>Essential Services</h6>
                    </div>
                    <div class="module-cards">
                        <div class="module-card" onclick="showModule('healthcare')">
                            <div class="module-icon">🏥</div>
                            <div class="module-content">
                                <h6>Healthcare</h6>
                                <p>Hospitals, clinics & medical services</p>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModule('education')">
                            <div class="module-icon">🎓</div>
                            <div class="module-content">
                                <h6>Education</h6>
                                <p>Schools, universities & learning centers</p>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModule('transportation')">
                            <div class="module-icon">🚗</div>
                            <div class="module-content">
                                <h6>Transportation</h6>
                                <p>Car rentals, taxis & delivery services</p>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModule('shopping')">
                            <div class="module-icon">🛍️</div>
                            <div class="module-content">
                                <h6>Shopping</h6>
                                <p>Local markets, crafts & souvenirs</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Entertainment -->
                <div class="module-category">
                    <div class="category-header">
                        <span class="material-icons">play_circle</span>
                        <h6>Entertainment & Finance</h6>
                    </div>
                    <div class="module-cards">
                        <div class="module-card" onclick="showModuleScreen('streaming')">
                            <div class="module-icon">
                                <i class="material-icons">play_arrow</i>
                            </div>
                            <div class="module-content">
                                <h6>Streaming & Media</h6>
                                <p>Entertainment content and local media</p>
                                <div class="module-badge">New Content</div>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModuleScreen('finance')">
                            <div class="module-icon">
                                <i class="material-icons">account_balance</i>
                            </div>
                            <div class="module-content">
                                <h6>Financial Services</h6>
                                <p>Banking, loans, and financial solutions</p>
                                <div class="module-badge">Secure</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Business & Development -->
                <div class="module-category">
                    <div class="category-header">
                        <span class="material-icons">business_center</span>
                        <h6>Business & Development</h6>
                    </div>
                    <div class="module-cards">
                        <div class="module-card" onclick="showModuleScreen('real-estate')">
                            <div class="module-icon">
                                <i class="material-icons">home</i>
                            </div>
                            <div class="module-content">
                                <h6>Real Estate</h6>
                                <p>Properties, rentals, and investments</p>
                                <div class="module-badge">Hot Deals</div>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModuleScreen('jobs')">
                            <div class="module-icon">
                                <i class="material-icons">work</i>
                            </div>
                            <div class="module-content">
                                <h6>Jobs & Careers</h6>
                                <p>Employment opportunities in Limbe</p>
                                <div class="module-badge">Hiring Now</div>
                            </div>
                        </div>
                        <div class="module-card" onclick="showModuleScreen('smartgro')">
                            <div class="module-icon">
                                <i class="material-icons">agriculture</i>
                            </div>
                            <div class="module-content">
                                <h6>SmartGro Agriculture</h6>
                                <p>Modern farming and agricultural tech</p>
                                <div class="module-badge">Innovation</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-section">
                <h6 class="section-title">Recent Activity</h6>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">📍</div>
                        <div class="activity-content">
                            <h6>Visited Limbe Botanical Garden</h6>
                            <p>Yesterday • Earned 50 points</p>
                        </div>
                        <span class="activity-time">1d</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">🏨</div>
                        <div class="activity-content">
                            <h6>Booked Ocean View Hotel</h6>
                            <p>3 days ago • Check-in tomorrow</p>
                        </div>
                        <span class="activity-time">3d</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">🎭</div>
                        <div class="activity-content">
                            <h6>Registered for Cultural Festival</h6>
                            <p>1 week ago • Event starts Friday</p>
                        </div>
                        <span class="activity-time">1w</span>
                    </div>
                </div>
            </div>

            <!-- Special Offers -->
            <div class="offers-section" id="offersList">
                <h6 class="section-title">Special Offers</h6>
                <div class="offer-card">
                    <div class="offer-content">
                        <div class="offer-badge">25% OFF</div>
                        <h6>Mount Cameroon Trek</h6>
                        <p>Professional guided tours with equipment included</p>
                        <div class="offer-price">
                            <span class="current-price">$75</span>
                            <span class="original-price">$100</span>
                        </div>
                    </div>
                    <div class="offer-image">🏔️</div>
                </div>
            </div>

            <!-- Bottom spacing for navigation -->
            <div style="height: 100px;"></div>
        </div>

        <!-- User Dashboard Content continues... -->
    </div>
            <!-- Profile Section (Priority 1) -->
            <div class="card m-lg">
                <div class="card-header">
                    <div class="d-flex align-items-center gap-3">
                        <div class="user-avatar bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 60px; height: 60px; font-size: 24px; font-weight: bold;">
                            <span id="userAvatar">--</span>
                        </div>
                        <div class="flex-grow-1">
                            <h5 class="mb-1" id="userDisplayName">User</h5>
                            <p class="text-secondary mb-0">Explorer</p>
                        </div>
                        <div class="text-end">
                            <div class="d-flex align-items-center gap-2">
                                <span class="material-icons icon text-warning">stars</span>
                                <span class="fw-bold">1,250</span>
                            </div>
                            <small class="text-secondary">Reward Points</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Weather Section (Priority 2) -->
            <div class="card m-lg">
                <div class="card-body">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <h6 class="mb-1">Today's Weather</h6>
                            <p class="text-secondary mb-0">Perfect day to explore!</p>
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <div class="text-center">
                                <span class="material-icons icon-xl text-warning">wb_sunny</span>
                                <div class="fw-bold fs-4">28°C</div>
                                <small class="text-secondary">Sunny</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Points & Stats Section (Priority 3) -->
            <div class="grid grid-2 m-lg">
                <div class="card">
                    <div class="card-body text-center">
                        <span class="material-icons icon-lg text-success">account_balance_wallet</span>
                        <h6 class="mt-2">Reward Points</h6>
                        <div class="fw-bold fs-4 text-success">1,250</div>
                        <small class="text-secondary">+50 today</small>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body text-center">
                        <span class="material-icons icon-lg text-primary">place</span>
                        <h6 class="mt-2">Places Visited</h6>
                        <div class="fw-bold fs-4 text-primary">12</div>
                        <small class="text-secondary">+2 this week</small>
                    </div>
                </div>
            </div>

            <!-- Visited Places Section (Priority 4) -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">place</span>
                        Recently Visited Places
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-1">
                        <div class="d-flex align-items-center gap-3 p-2 border rounded">
                            <span class="material-icons icon text-primary">location_on</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Limbe Botanical Garden</h6>
                                <small class="text-secondary">Visited yesterday</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded">
                            <span class="material-icons icon text-primary">location_on</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Mount Cameroon Viewpoint</h6>
                                <small class="text-secondary">Visited 3 days ago</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded">
                            <span class="material-icons icon text-primary">location_on</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Limbe Beach</h6>
                                <small class="text-secondary">Visited last week</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0">Quick Actions</h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-4">
                        <button class="btn btn-icon" onclick="showSearchPage()">
                            <span class="material-icons icon">search</span>
                        </button>
                        <button class="btn btn-icon" onclick="showNotifications()">
                            <span class="material-icons icon">notifications</span>
                        </button>
                        <button class="btn btn-icon" onclick="showCallCenter()">
                            <span class="material-icons icon">phone</span>
                        </button>
                        <button class="btn btn-icon" onclick="showMap()">
                            <span class="material-icons icon">map</span>
                        </button>
                    </div>
                    <div class="grid grid-4 mt-2">
                        <small class="text-center">Search</small>
                        <small class="text-center">Alerts</small>
                        <small class="text-center">Emergency</small>
                        <small class="text-center">Navigate</small>
                    </div>
                </div>
            </div>

            <!-- Hospitality Section -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">hotel</span>
                        Hospitality
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-2">
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('hotels')">
                            <span class="material-icons icon text-primary">hotel</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Hotels & Accommodation</h6>
                                <small class="text-secondary text-truncate">150+ hotels available</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('restaurants')">
                            <span class="material-icons icon text-success">restaurant</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Restaurants & Dining</h6>
                                <small class="text-secondary text-truncate">200+ restaurants</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Attractions Section -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">landscape</span>
                        Attractions
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-2">
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('tourism')">
                            <span class="material-icons icon text-primary">landscape</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Tourism & Attractions</h6>
                                <small class="text-secondary text-truncate">50+ natural wonders</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('events')">
                            <span class="material-icons icon text-warning">event</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Events & Activities</h6>
                                <small class="text-secondary text-truncate">200+ events</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Offers Section -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">local_offer</span>
                        Special Offers
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-1">
                        <div class="d-flex align-items-center gap-3 p-3 bg-light rounded">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">Mount Cameroon Trek</h6>
                                <p class="text-secondary mb-1">Special discount for guided tours</p>
                                <div class="d-flex align-items-center gap-2">
                                    <span class="fw-bold text-success">$75</span>
                                    <span class="text-decoration-line-through text-secondary">$100</span>
                                    <span class="badge bg-success">25% OFF</span>
                                </div>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Featured Section -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">star</span>
                        Featured
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-2">
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('booking-streaming')">
                            <span class="material-icons icon text-primary">play_circle</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Entertainment</h6>
                                <small class="text-secondary text-truncate">Movies & streaming</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('watch-earn')">
                            <span class="material-icons icon text-warning">monetization_on</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Watch & Earn</h6>
                                <small class="text-secondary text-truncate">Earn points watching</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Discover Section -->
            <div class="card m-lg">
                <div class="card-header">
                    <h6 class="mb-0 d-flex align-items-center gap-2">
                        <span class="material-icons icon">explore</span>
                        Discover More
                    </h6>
                </div>
                <div class="card-body">
                    <div class="grid grid-2">
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('shopping')">
                            <span class="material-icons icon text-success">shopping_cart</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Shopping</h6>
                                <small class="text-secondary text-truncate">Local products</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('healthcare')">
                            <span class="material-icons icon text-danger">local_hospital</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Healthcare</h6>
                                <small class="text-secondary text-truncate">Medical services</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('education')">
                            <span class="material-icons icon text-info">school</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Education</h6>
                                <small class="text-secondary text-truncate">Learning centers</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                        <div class="d-flex align-items-center gap-3 p-2 border rounded" onclick="showModule('transportation')">
                            <span class="material-icons icon text-secondary">directions_car</span>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">Transportation</h6>
                                <small class="text-secondary text-truncate">Rides & delivery</small>
                            </div>
                            <span class="material-icons icon text-secondary">chevron_right</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Navigation -->
            <div class="user-bottom-nav">
                <a href="#" class="nav-item active" onclick="showUserDashboard()">
                    <div class="nav-icon">
                        <span class="material-icons icon">home</span>
                    </div>
                    <span>Home</span>
                </a>
                <a href="#" class="nav-item" onclick="showExplore()">
                    <div class="nav-icon">
                        <span class="material-icons icon">explore</span>
                    </div>
                    <span>Explore</span>
                </a>
                <a href="#" class="nav-item" onclick="showSaved()">
                    <div class="nav-icon">
                        <span class="material-icons icon">bookmark</span>
                    </div>
                    <span>Saved</span>
                </a>
                <a href="#" class="nav-item" onclick="showProfile()">
                    <div class="nav-icon">
                        <span class="material-icons icon">person</span>
                    </div>
                    <span>Profile</span>
                </a>
                <a href="#" class="nav-item" onclick="logout()">
                    <div class="nav-icon">
                        <span class="material-icons icon">logout</span>
                    </div>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </div>        <!-- Real Estate Module -->
        <div id="realEstateModule" class="page" style="display: none;">
            <div class="real-estate-wrapper">
                <!-- Header -->
                <div class="module-header">
                    <button class="back-btn" onclick="showUserDashboard()">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="module-title">
                        <h3><i class="fas fa-home"></i> Real Estate</h3>
                        <p>Find your perfect property in Limbe</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline-primary btn-sm" onclick="showSavedProperties()">
                            <i class="fas fa-heart"></i> Saved (<span id="savedCount">0</span>)
                        </button>
                    </div>
                </div>

                <!-- Admin Controls (visible only for admin) -->
                <div id="realEstateAdminControls" class="admin-panel" style="display: none;">
                    <div class="admin-header">
                        <span class="admin-badge">ADMIN MODE</span>
                        <h6>Property Management</h6>
                    </div>
                    <div class="admin-actions">
                        <button class="btn btn-success btn-sm" onclick="addNewProperty()">
                            <i class="fas fa-plus"></i> Add Property
                        </button>
                        <button class="btn btn-info btn-sm" onclick="showPropertyAnalytics()">
                            <i class="fas fa-chart-bar"></i> Analytics
                        </button>
                        <button class="btn btn-warning btn-sm" onclick="manageAgents()">
                            <i class="fas fa-users"></i> Manage Agents
                        </button>
                        <button class="btn btn-primary btn-sm" onclick="exportProperties()">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                    </div>
                </div>

                <!-- Search & Filters -->
                <div class="search-filters">
                    <div class="search-row">
                        <div class="search-input">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search properties..." onkeyup="filterRealEstateProperties()">
                        </div>
                        <button class="map-toggle-btn" onclick="toggleMapView()">
                            <i class="fas fa-map"></i> Map View
                        </button>
                    </div>
                    
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-type="all" onclick="filterByType('all')">
                            All Properties
                        </button>
                        <button class="filter-tab" data-type="sale" onclick="filterByType('sale')">
                            For Sale
                        </button>
                        <button class="filter-tab" data-type="rent" onclick="filterByType('rent')">
                            For Rent
                        </button>
                        <button class="filter-tab" data-type="commercial" onclick="filterByType('commercial')">
                            Commercial
                        </button>
                    </div>

                    <div class="advanced-filters">
                        <select class="filter-select" onchange="filterRealEstateProperties()">
                            <option value="">Price Range</option>
                            <option value="0-5000000">0 - 5M XAF</option>
                            <option value="5000000-15000000">5M - 15M XAF</option>
                            <option value="15000000-50000000">15M - 50M XAF</option>
                            <option value="50000000+">50M+ XAF</option>
                        </select>
                        <select class="filter-select" onchange="filterRealEstateProperties()">
                            <option value="">Location</option>
                            <option value="limbe-town">Limbe Town</option>
                            <option value="limbe-beach">Limbe Beach</option>
                            <option value="mile-2">Mile 2</option>
                            <option value="down-beach">Down Beach</option>
                        </select>
                        <select class="filter-select" onchange="filterRealEstateProperties()">
                            <option value="">Bedrooms</option>
                            <option value="1+">1+ Bedrooms</option>
                            <option value="2+">2+ Bedrooms</option>
                            <option value="3+">3+ Bedrooms</option>
                            <option value="4+">4+ Bedrooms</option>
                        </select>
                        <button class="clear-filters-btn" onclick="clearAllFilters()">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </div>

                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="stat-info">
                            <h6>Total Properties</h6>
                            <div class="stat-number">1,247</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tag"></i>
                        </div>
                        <div class="stat-info">
                            <h6>For Sale</h6>
                            <div class="stat-number">892</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="stat-info">
                            <h6>For Rent</h6>
                            <div class="stat-number">355</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h6>Avg. Price</h6>
                            <div class="stat-number">18M XAF</div>
                        </div>
                    </div>
                </div>

                <!-- Featured Properties -->
                <div class="featured-section">
                    <h5>Featured Properties</h5>
                    <div class="featured-properties">
                        <div class="featured-property">
                            <img src="https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=300" alt="Featured Property">
                            <div class="featured-badge">FEATURED</div>
                            <div class="featured-info">
                                <h6>Luxury Beachfront Villa</h6>
                                <p>85M XAF • Limbe Beach</p>
                            </div>
                        </div>
                        <div class="featured-property">
                            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=300" alt="Featured Property">
                            <div class="featured-badge">HOT DEAL</div>
                            <div class="featured-info">
                                <h6>Modern Family Home</h6>
                                <p>35M XAF • Mile 2 Limbe</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Properties Grid -->
                <div class="properties-section">
                    <div class="section-header">
                        <h5>All Properties</h5>
                        <div class="view-options">
                            <button class="view-btn active" onclick="setGridView()">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="view-btn" onclick="setListView()">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="properties-grid" id="realEstateContainer">
                        <!-- Properties will be loaded here -->
                    </div>
                </div>

                <!-- Bottom Actions -->
                <div class="bottom-actions">
                    <button class="action-btn" onclick="requestPropertyValuation()">
                        <i class="fas fa-calculator"></i>
                        Property Valuation
                    </button>
                    <button class="action-btn" onclick="scheduleViewing()">
                        <i class="fas fa-calendar"></i>
                        Schedule Viewing
                    </button>
                    <button class="action-btn" onclick="mortgageCalculator()">
                        <i class="fas fa-chart-pie"></i>
                        Mortgage Calculator
                    </button>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard - Modern Professional Design -->
        <div id="adminDashboard" class="page">
            <div class="admin-dashboard-wrapper">
                <!-- Sidebar Navigation -->
                <div class="admin-sidebar">
                    <div class="admin-sidebar-header">
                        <div class="admin-logo">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h4 data-translate="admin_dashboard">Admin Control</h4>
                    </div>
                    
                    <div class="admin-sidebar-nav">
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">OVERVIEW</div>
                            <a href="#" class="admin-nav-item active" onclick="showAdminDashboard()">
                                <i class="fas fa-tachometer-alt"></i>
                                <span data-translate="dashboard">Dashboard</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSystemAdmin('analytics')">
                                <i class="fas fa-chart-line"></i>
                                <span data-translate="analytics">Analytics</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">CONTENT</div>
                            <a href="#" class="admin-nav-item" onclick="showAdminContentManagement()">
                                <i class="fas fa-edit"></i>
                                <span data-translate="content_manager">Content Manager</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSystemAdmin('icons')">
                                <i class="fas fa-icons"></i>
                                <span data-translate="icon_manager">Icon Manager</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="openTranslationManager()">
                                <i class="fas fa-language"></i>
                                <span data-translate="translations">Translations</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">SYSTEM</div>
                            <a href="#" class="admin-nav-item" onclick="showSystemAdmin('users')">
                                <i class="fas fa-users"></i>
                                <span data-translate="user_management">Users</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showModuleManagerManagement()">
                                <i class="fas fa-user-shield"></i>
                                <span data-translate="managers">Managers</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSystemAdmin('settings')">
                                <i class="fas fa-cog"></i>
                                <span data-translate="app_settings">Settings</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">🛡️ SECURITY</div>
                            <a href="#" class="admin-nav-item" onclick="showSecurityDashboard()">
                                <i class="fas fa-shield-alt"></i>
                                <span>Monitoring</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSecurityLogs()">
                                <i class="fas fa-clipboard-list"></i>
                                <span>Security Logs</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSecuritySettings()">
                                <i class="fas fa-lock"></i>
                                <span>Security Settings</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showSecurityAlerts()">
                                <i class="fas fa-exclamation-triangle"></i>
                                <span>Active Alerts</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">ACCOUNT</div>
                            <a href="#" class="admin-nav-item" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i>
                                <span data-translate="logout">Logout</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="admin-main-content">
                    <div class="admin-top-bar">
                        <div>
                            <h3 data-translate="admin_dashboard">Admin Dashboard</h3>
                            <div class="admin-breadcrumb">
                                <span data-translate="home">Home</span> / <span data-translate="dashboard">Dashboard</span>
                            </div>
                        </div>
                        <div class="user-info">
                            <div class="user-avatar">AD</div>
                            <span data-translate="administrator">Administrator</span>
                        </div>
                    </div>
                    
                    <div class="admin-content-area">
                        <!-- Statistics Cards -->
                        <div class="admin-stats">
                            <div class="admin-stat-card">
                                <h6 data-translate="total_users">Total Users</h6>
                                <div class="stat-number">2,847</div>
                                <small data-translate="growth_month">+12% this month</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 data-translate="all_bookings">All Bookings</h6>
                                <div class="stat-number">542</div>
                                <small data-translate="growth_week">+8% this week</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 data-translate="total_revenue">Total Revenue</h6>
                                <div class="stat-number">$28,450</div>
                                <small data-translate="growth_month_revenue">+15% this month</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 data-translate="active_modules">Active Modules</h6>
                                <div class="stat-number">16</div>
                                <small data-translate="all_operational">All operational</small>
                            </div>
                        </div>
                        
                        <!-- Tourism & Travel Management -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="tourism_travel_management">🏨 Tourism & Travel Management</h5>
                                <p data-translate="manage_tourism_desc">Manage hotels, tours, transportation, and travel experiences</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-modules">
                                    <div class="admin-module-card" onclick="showModuleContentManager('booking')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-hotel"></i>
                                        </div>
                                        <h6>Booking Management</h6>
                                        <p>Hotels, tours, activities booking system</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('transport')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-car"></i>
                                        </div>
                                        <h6>Transport Control</h6>
                                        <p>Vehicles, routes, and transportation services</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('maps')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        <h6>Maps Management</h6>
                                        <p>Locations, navigation, and points of interest</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Commerce & Services -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="commerce_services">🛒 Commerce & Services</h5>
                                <p data-translate="manage_commerce_desc">Handle shopping, services, and business operations</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-modules">
                                    <div class="admin-module-card" onclick="showModuleContentManager('shopping')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-shopping-bag"></i>
                                        </div>
                                        <h6>Shopping Control</h6>
                                        <p>Products, vendors, orders, and marketplace</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('services')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-tools"></i>
                                        </div>
                                        <h6>Services Management</h6>
                                        <p>Local providers, maintenance, and support</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('finance')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-money-bill-wave"></i>
                                        </div>
                                        <h6>Finance Control</h6>
                                        <p>Banking, transfers, and payment systems</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('realestate')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-home"></i>
                                        </div>
                                        <h6>Real Estate</h6>
                                        <p>Properties, rentals, and real estate listings</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Health & Education -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="health_education">🏥 Health & Education</h5>
                                <p data-translate="manage_health_education_desc">Oversee healthcare and educational services</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-modules">
                                    <div class="admin-module-card" onclick="showModuleContentManager('health')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-heartbeat"></i>
                                        </div>
                                        <h6>Health Management</h6>
                                        <p>Medical facilities, emergency services, healthcare</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('education')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <h6>Education Control</h6>
                                        <p>Schools, universities, and educational programs</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Culture & Media -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="culture_media">🎭 Culture & Media</h5>
                                <p data-translate="manage_culture_media_desc">Manage cultural sites, events, and media content</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-modules">
                                    <div class="admin-module-card" onclick="showModuleContentManager('culture')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-landmark"></i>
                                        </div>
                                        <h6>Culture Management</h6>
                                        <p>Cultural sites, events, churches, traditions</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('events')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <h6>Events Management</h6>
                                        <p>Festivals, concerts, community events</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('streaming')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-play-circle"></i>
                                        </div>
                                        <h6>Streaming & Media</h6>
                                        <p>Video content, live streams, watch & earn</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('gallery')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-images"></i>
                                        </div>
                                        <h6>Gallery Control</h6>
                                        <p>Photos, videos, and media collections</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Employment & Agriculture -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="employment_agriculture">💼 Employment & Agriculture</h5>
                                <p data-translate="manage_employment_agriculture_desc">Manage job listings and agricultural services</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-modules">
                                    <div class="admin-module-card" onclick="showModuleContentManager('jobs')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-briefcase"></i>
                                        </div>
                                        <h6>Jobs Management</h6>
                                        <p>Job listings, applications, recruitment</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('smartgro')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-seedling"></i>
                                        </div>
                                        <h6>SmartGro Agriculture</h6>
                                        <p>Agricultural marketplace, farm services</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('callcenter')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-phone"></i>
                                        </div>
                                        <h6>Call Center Support</h6>
                                        <p>Customer support, emergency services</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('culture')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-theater-masks"></i>
                                        </div>
                                        <h6>Culture & Heritage</h6>
                                        <p>Cultural sites, traditions, museums</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('maps')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-map-marked-alt"></i>
                                        </div>
                                        <h6>Maps & Navigation</h6>
                                        <p>Locations, directions, GPS tracking</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('gallery')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-images"></i>
                                        </div>
                                        <h6>Photo Gallery</h6>
                                        <p>Image collections, photo services</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('services')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-concierge-bell"></i>
                                        </div>
                                        <h6>Local Services</h6>
                                        <p>Service providers, bookings, reviews</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('finance')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-university"></i>
                                        </div>
                                        <h6>Finance & Banking</h6>
                                        <p>Banking services, financial products</p>
                                    </div>
                                    
                                    <div class="admin-module-card" onclick="showModuleContentManager('ticketing')">
                                        <div class="admin-module-icon">
                                            <i class="fas fa-ticket-alt"></i>
                                        </div>
                                        <h6>Ticketing & Tours</h6>
                                        <p>Event tickets, tour bookings, activities</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- System Administration -->
                        <div class="admin-section">
                            <div class="admin-section-header">
                                <h5 data-translate="system_administration">⚙️ System Administration</h5>
                                <p data-translate="system_admin_desc">Configure system settings and manage administrators</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="admin-quick-actions">
                                    <a href="#" class="admin-quick-action" onclick="showSystemAdmin('users')">
                                        <i class="fas fa-users"></i>
                                        <h6>User Management</h6>
                                    </a>
                                    <a href="#" class="admin-quick-action" onclick="showSystemAdmin('analytics')">
                                        <i class="fas fa-chart-bar"></i>
                                        <h6>Analytics</h6>
                                    </a>
                                    <a href="#" class="admin-quick-action" onclick="showSystemAdmin('settings')">
                                        <i class="fas fa-cog"></i>
                                        <h6>App Settings</h6>
                                    </a>
                                    <a href="#" class="admin-quick-action" onclick="createNewModule()">
                                        <i class="fas fa-plus-circle"></i>
                                        <h6>Add Module</h6>
                                    </a>
                                    <a href="#" class="admin-quick-action" onclick="manageOffers()">
                                        <span class="material-icons">local_offer</span>
                                        <h6>Manage Offers</h6>
                                    </a>
                                    <a href="#" class="admin-quick-action" onclick="showGlobalMediaGallery()">
                                        <i class="fas fa-photo-video"></i>
                                        <h6>Media Gallery</h6>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Icon Manager Page -->
        <div id="adminIconManager" class="page">
            <div class="dashboard">
                <div class="admin-top-bar">
                    <h3>Icon Manager</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-light" onclick="showAdminDashboard()">
                            <i class="fas fa-arrow-left"></i> <span data-translate="back">Back</span>
                        </button>
                        <div class="user-avatar">AD</div>
                        <span data-translate="administrator">Administrator</span>
                    </div>
                </div>
                <div class="dashboard-content">
                    <h5>Manage Module Icons</h5>
                    <p class="text-muted">Pick a Font Awesome class or upload a custom round image for each module.</p>
                    <div class="modules-grid" id="iconManagerGrid"></div>
                </div>
            </div>
        </div>

        <!-- Admin App Settings Page - Modern Design -->
        <div id="adminSettingsPage" class="page">
            <div class="admin-dashboard-wrapper">
                <!-- Sidebar Navigation -->
                <div class="admin-sidebar">
                    <div class="admin-sidebar-header">
                        <div class="admin-logo">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h4>App Settings</h4>
                    </div>
                    
                    <div class="admin-sidebar-nav">
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">NAVIGATION</div>
                            <a href="#" class="admin-nav-item" onclick="showAdminDashboard()">
                                <i class="fas fa-arrow-left"></i>
                                <span data-translate="back">Back to Dashboard</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">SETTINGS</div>
                            <a href="#general-settings" class="admin-nav-item active">
                                <i class="fas fa-sliders-h"></i>
                                <span>General</span>
                            </a>
                            <a href="#features-settings" class="admin-nav-item">
                                <i class="fas fa-toggle-on"></i>
                                <span>Features</span>
                            </a>
                            <a href="#category-images" class="admin-nav-item">
                                <i class="fas fa-images"></i>
                                <span>Category Images</span>
                            </a>
                            <a href="#module-visibility" class="admin-nav-item">
                                <i class="fas fa-eye"></i>
                                <span>Module Visibility</span>
                            </a>
                            <a href="#admin-security" class="admin-nav-item">
                                <i class="fas fa-shield-alt"></i>
                                <span>Admin Security</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="admin-main-content">
                    <div class="admin-top-bar">
                        <div>
                            <h3>App Settings</h3>
                            <div class="admin-breadcrumb">
                                <span data-translate="admin_dashboard">Admin</span> / <span>Settings</span>
                            </div>
                        </div>
                        <div class="user-info">
                            <div class="user-avatar">AD</div>
                            <span data-translate="administrator">Administrator</span>
                        </div>
                    </div>
                    
                    <div class="admin-content-area">
                        <!-- General Settings -->
                        <div class="admin-section" id="general-settings">
                            <div class="admin-section-header">
                                <h5>⚙️ General Settings</h5>
                                <p>Configure basic app preferences and regional settings</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Default Language</label>
                                        <select id="settingsDefaultLang" class="form-control form-control-lg" onchange="updateDefaultLanguage(this.value)">
                                            <option value="en">🇺🇸 English</option>
                                            <option value="fr">🇫🇷 Français</option>
                                        </select>
                                        <small class="text-muted">Choose the default language for new users</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">App Theme</label>
                                        <select id="settingsTheme" class="form-control form-control-lg" onchange="saveAppSettingsFromUI()">
                                            <option value="light">☀️ Light Mode</option>
                                            <option value="dark">🌙 Dark Mode</option>
                                        </select>
                                        <small class="text-muted">Default visual theme for the application</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Features Toggle -->
                        <div class="admin-section" id="features-settings">
                            <div class="admin-section-header">
                                <h5>🚀 Feature Controls</h5>
                                <p>Enable or disable app features and functionality</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="featAds" onchange="saveAppSettingsFromUI()" />
                                            <label class="form-check-label fw-bold" for="featAds">
                                                📢 Ads Carousel
                                            </label>
                                            <small class="d-block text-muted">Display promotional banners and advertisements</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="featIntroVideo" onchange="saveAppSettingsFromUI()" />
                                            <label class="form-check-label fw-bold" for="featIntroVideo">
                                                🎬 Intro Video Section
                                            </label>
                                            <small class="d-block text-muted">Show welcome video on home screen</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="featNotifications" onchange="saveAppSettingsFromUI()" />
                                            <label class="form-check-label fw-bold" for="featNotifications">
                                                🔔 Push Notifications
                                            </label>
                                            <small class="d-block text-muted">Send notifications to users</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="featOffline" onchange="saveAppSettingsFromUI()" />
                                            <label class="form-check-label fw-bold" for="featOffline">
                                                📱 Offline Mode
                                            </label>
                                            <small class="d-block text-muted">Allow app to work without internet</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Category Images Management -->
                        <div class="admin-section" id="category-images">
                            <div class="admin-section-header">
                                <h5>🖼️ Category Images Management</h5>
                                <p>Upload and customize category icons throughout the app</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4" id="categoryImagesGrid">
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/hotels.svg" alt="Hotels" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">🏨 Hotels</h6>
                                            <input type="file" id="upload-hotels" accept="image/*" style="display: none;" onchange="uploadCategoryImage('hotels', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-hotels').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/shopping.svg" alt="Shopping" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">🛒 Shopping</h6>
                                            <input type="file" id="upload-shopping" accept="image/*" style="display: none;" onchange="uploadCategoryImage('shopping', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-shopping').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/events.svg" alt="Events" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">🎯 Events</h6>
                                            <input type="file" id="upload-events" accept="image/*" style="display: none;" onchange="uploadCategoryImage('events', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-events').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/jobs.svg" alt="Jobs" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">💼 Jobs</h6>
                                            <input type="file" id="upload-jobs" accept="image/*" style="display: none;" onchange="uploadCategoryImage('jobs', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-jobs').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/real-estate.svg" alt="Real Estate" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">🏠 Real Estate</h6>
                                            <input type="file" id="upload-realestate" accept="image/*" style="display: none;" onchange="uploadCategoryImage('realestate', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-realestate').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="category-management-item">
                                            <div class="category-preview">
                                                <img src="assets/images/categories/support.svg" alt="Support" class="current-category-image">
                                            </div>
                                            <h6 class="fw-bold mt-3">🎧 Support</h6>
                                            <input type="file" id="upload-support" accept="image/*" style="display: none;" onchange="uploadCategoryImage('support', this)">
                                            <button class="btn btn-outline-primary btn-sm w-100 mt-2" onclick="document.getElementById('upload-support').click()">
                                                <i class="fas fa-upload"></i> Change Image
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Module Visibility -->
                        <div class="admin-section" id="module-visibility">
                            <div class="admin-section-header">
                                <h5>👁️ Module Visibility</h5>
                                <p>Control which modules are visible to users</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="modules-grid" id="settingsModulesGrid"></div>
                            </div>
                        </div>

                        <!-- Admin Security -->
                        <div class="admin-section" id="admin-security">
                            <div class="admin-section-header">
                                <h5>🔒 Admin Security</h5>
                                <p>Manage administrator account credentials and security settings</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <!-- Current Admin Info -->
                                    <div class="col-12">
                                        <div class="alert alert-info d-flex align-items-center">
                                            <i class="fas fa-info-circle me-3 fs-4"></i>
                                            <div>
                                                <strong>Compte Administrateur Actuel</strong>
                                                <br>
                                                <small>Username: <span id="currentAdminUsername">admin</span></small>
                                                <br>
                                                <small>Dernière modification: <span id="lastPasswordChange">Jamais</span></small>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Change Username -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <h6 class="card-title">
                                                    <i class="fas fa-user me-2"></i>Changer le nom d'utilisateur
                                                </h6>
                                                <div class="mb-3">
                                                    <label class="form-label">Nouveau nom d'utilisateur</label>
                                                    <input type="text" class="form-control" id="newAdminUsername" placeholder="Entrez le nouveau username">
                                                    <small class="text-muted">Minimum 4 caractères, pas d'espaces</small>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Confirmer mot de passe actuel</label>
                                                    <input type="password" class="form-control" id="confirmCurrentPasswordForUsername" placeholder="Mot de passe actuel">
                                                </div>
                                                <button class="btn btn-primary" onclick="changeAdminUsername()">
                                                    <i class="fas fa-save me-2"></i>Changer Username
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Change Password -->
                                    <div class="col-md-6">
                                        <div class="card h-100">
                                            <div class="card-body">
                                                <h6 class="card-title">
                                                    <i class="fas fa-key me-2"></i>Changer le mot de passe
                                                </h6>
                                                <div class="mb-3">
                                                    <label class="form-label">Mot de passe actuel</label>
                                                    <input type="password" class="form-control" id="currentAdminPassword" placeholder="Mot de passe actuel">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Nouveau mot de passe</label>
                                                    <input type="password" class="form-control" id="newAdminPassword" placeholder="Nouveau mot de passe">
                                                    <small class="text-muted">Minimum 6 caractères</small>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label">Confirmer nouveau mot de passe</label>
                                                    <input type="password" class="form-control" id="confirmNewPassword" placeholder="Confirmer nouveau mot de passe">
                                                </div>
                                                <button class="btn btn-warning" onclick="changeAdminPassword()">
                                                    <i class="fas fa-lock me-2"></i>Changer Mot de Passe
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Security Actions -->
                                    <div class="col-12">
                                        <div class="card border-danger">
                                            <div class="card-body">
                                                <h6 class="card-title text-danger">
                                                    <i class="fas fa-exclamation-triangle me-2"></i>Actions de Sécurité
                                                </h6>
                                                <div class="row g-3">
                                                    <div class="col-md-4">
                                                        <button class="btn btn-outline-info w-100" onclick="generateSecurePassword()">
                                                            <i class="fas fa-random me-2"></i>Générer mot de passe sécurisé
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button class="btn btn-outline-warning w-100" onclick="resetToDefaults()">
                                                            <i class="fas fa-undo me-2"></i>Réinitialiser aux valeurs par défaut
                                                        </button>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <button class="btn btn-outline-success w-100" onclick="exportSecurityBackup()">
                                                            <i class="fas fa-download me-2"></i>Exporter sauvegarde
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="mt-3">
                                                    <small class="text-muted">
                                                        <i class="fas fa-shield-alt me-1"></i>
                                                        Toutes les modifications de sécurité sont sauvegardées localement et prennent effet immédiatement.
                                                    </small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Module Manager Management System - Modern Design -->
        <div id="moduleManagerManagement" class="page">
            <div class="admin-dashboard-wrapper">
                <!-- Sidebar Navigation -->
                <div class="admin-sidebar">
                    <div class="admin-sidebar-header">
                        <div class="admin-logo">
                            <i class="fas fa-user-shield"></i>
                        </div>
                        <h4>Manager System</h4>
                    </div>
                    
                    <div class="admin-sidebar-nav">
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">NAVIGATION</div>
                            <a href="#" class="admin-nav-item" onclick="showAdminDashboard()">
                                <i class="fas fa-arrow-left"></i>
                                <span data-translate="back">Back to Dashboard</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">MANAGEMENT</div>
                            <a href="#manager-list" class="admin-nav-item active">
                                <i class="fas fa-users"></i>
                                <span>Active Managers</span>
                            </a>
                            <a href="#create-manager" class="admin-nav-item">
                                <i class="fas fa-plus"></i>
                                <span>Add Manager</span>
                            </a>
                            <a href="#module-assignments" class="admin-nav-item">
                                <i class="fas fa-tasks"></i>
                                <span>Assignments</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="admin-main-content">
                    <div class="admin-top-bar">
                        <div>
                            <h3 data-translate="module_manager_system">Module Manager System</h3>
                            <div class="admin-breadcrumb">
                                <span data-translate="admin_dashboard">Admin</span> / <span>Managers</span>
                            </div>
                        </div>
                        <div class="user-info">
                            <button class="btn btn-success me-3" onclick="showCreateManagerForm()">
                                <i class="fas fa-plus"></i> <span data-translate="add_manager">Add Manager</span>
                            </button>
                            <div class="user-avatar">AD</div>
                            <span data-translate="administrator">Administrator</span>
                        </div>
                    </div>
                    
                    <div class="admin-content-area">
                        <!-- Manager Statistics -->
                        <div class="admin-stats">
                            <div class="admin-stat-card">
                                <h6 data-translate="total_managers">Total Managers</h6>
                                <div class="stat-number">5</div>
                                <small data-translate="active_count">3 Active, 2 Inactive</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 data-translate="assigned_modules">Assigned Modules</h6>
                                <div class="stat-number">12</div>
                                <small data-translate="out_of_total">out of 16 total</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 data-translate="last_login">Recent Activity</h6>
                                <div class="stat-number">2h</div>
                                <small data-translate="ago">ago</small>
                            </div>
                        </div>
                        
                        <!-- Active Managers List -->
                        <div class="admin-section" id="manager-list">
                            <div class="admin-section-header">
                                <h5 data-translate="active_managers_list">👥 Active Module Managers</h5>
                                <p data-translate="manage_all_managers">View and manage all module managers and their permissions</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover">
                                        <thead class="table-dark">
                                            <tr>
                                                <th data-translate="manager_name">Manager</th>
                                                <th data-translate="assigned_modules">Assigned Modules</th>
                                                <th data-translate="status">Status</th>
                                                <th data-translate="last_login">Last Login</th>
                                                <th data-translate="actions">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="user-avatar me-3" style="background: #10b981;">JD</div>
                                                        <div>
                                                            <strong>John Doe</strong>
                                                            <br><small class="text-muted">john.doe@limbe.cm</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="badge bg-primary me-1">Booking</span>
                                                    <span class="badge bg-primary">Transport</span>
                                                </td>
                                                <td><span class="badge bg-success" data-translate="active">Active</span></td>
                                                <td><small>2 hours ago</small></td>
                                                <td>
                                                    <div class="btn-group btn-group-sm">
                                                        <button class="btn btn-outline-primary" onclick="editManager('john.doe')" data-translate="edit">Edit</button>
                                                        <button class="btn btn-outline-warning" onclick="resetPassword('john.doe')" data-translate="reset_pwd">Reset</button>
                                                        <button class="btn btn-outline-danger" onclick="deactivateManager('john.doe')" data-translate="deactivate">Deactivate</button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="user-avatar me-3" style="background: #3b82f6;">MS</div>
                                                        <div>
                                                            <strong>Marie Smith</strong>
                                                            <br><small class="text-muted">marie.smith@limbe.cm</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="badge bg-primary me-1">Health</span>
                                                    <span class="badge bg-primary">Education</span>
                                                </td>
                                                <td><span class="badge bg-success" data-translate="active">Active</span></td>
                                                <td><small>1 day ago</small></td>
                                                <td>
                                                    <div class="btn-group btn-group-sm">
                                                        <button class="btn btn-outline-primary" onclick="editManager('marie.smith')" data-translate="edit">Edit</button>
                                                        <button class="btn btn-outline-warning" onclick="resetPassword('marie.smith')" data-translate="reset_pwd">Reset</button>
                                                        <button class="btn btn-outline-danger" onclick="deactivateManager('marie.smith')" data-translate="deactivate">Deactivate</button>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="user-avatar me-3" style="background: #f59e0b;">PK</div>
                                                        <div>
                                                            <strong>Paul Kema</strong>
                                                            <br><small class="text-muted">paul.kema@limbe.cm</small>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span class="badge bg-primary me-1">Shopping</span>
                                                    <span class="badge bg-primary me-1">Services</span>
                                                    <span class="badge bg-primary">Finance</span>
                                                </td>
                                                <td><span class="badge bg-warning" data-translate="inactive">Inactive</span></td>
                                                <td><small>1 week ago</small></td>
                                                <td>
                                                    <div class="btn-group btn-group-sm">
                                                        <button class="btn btn-outline-success" onclick="activateManager('paul.kema')" data-translate="activate">Activate</button>
                                                        <button class="btn btn-outline-warning" onclick="resetPassword('paul.kema')" data-translate="reset_pwd">Reset</button>
                                                        <button class="btn btn-outline-danger" onclick="deleteManager('paul.kema')" data-translate="delete">Delete</button>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Module Assignment Grid -->
                        <div class="admin-section" id="module-assignments">
                            <div class="admin-section-header">
                                <h5 data-translate="module_assignments">🎯 Module Assignments</h5>
                                <p data-translate="assign_managers_desc">View and manage which managers are assigned to each module</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px;">
                                                    <i class="fas fa-hotel"></i>
                                                </div>
                                                <h6 data-translate="booking">Booking</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <strong>John Doe</strong>
                                                <small class="d-block text-success" data-translate="assigned">✓ Assigned</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px;">
                                                    <i class="fas fa-shopping-bag"></i>
                                                </div>
                                                <h6 data-translate="shopping">Shopping</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <strong>Paul Kema</strong>
                                                <small class="d-block text-warning" data-translate="inactive">⚠ Inactive</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px;">
                                                    <i class="fas fa-heartbeat"></i>
                                                </div>
                                                <h6 data-translate="health">Health</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <strong>Marie Smith</strong>
                                                <small class="d-block text-success" data-translate="assigned">✓ Assigned</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card unassigned" onclick="assignModule('education')">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px; background: #64748b;">
                                                    <i class="fas fa-graduation-cap"></i>
                                                </div>
                                                <h6 data-translate="education">Education</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <span class="text-muted" data-translate="click_to_assign">Click to assign</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card unassigned" onclick="assignModule('transport')">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px; background: #64748b;">
                                                    <i class="fas fa-car"></i>
                                                </div>
                                                <h6 data-translate="transport">Transport</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <span class="text-muted" data-translate="click_to_assign">Click to assign</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <div class="assignment-card unassigned" onclick="assignModule('culture')">
                                            <div class="assignment-header mb-3">
                                                <div class="admin-module-icon mx-auto mb-2" style="width: 50px; height: 50px; background: #64748b;">
                                                    <i class="fas fa-landmark"></i>
                                                </div>
                                                <h6 data-translate="culture">Culture</h6>
                                            </div>
                                            <div class="assignment-manager">
                                                <span class="text-muted" data-translate="click_to_assign">Click to assign</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Content Management System -->
        <div id="adminContentManagement" class="page">
            <div class="dashboard">
                <div class="admin-top-bar">
                    <h3>Content Management</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-light" onclick="showAdminDashboard()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <div class="user-avatar">AD</div>
                        <span>Administrator</span>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>🎯 Module Content Manager</h5>
                    <p class="text-muted mb-4">Manage images, videos, and content for all modules and subcategories</p>
                    
                    <!-- Module Selection Tabs -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="btn-group-vertical w-100" role="group">
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('booking')">
                                    <i class="fas fa-hotel me-2"></i>Booking Management
                                    <small class="d-block text-muted">Hotels, Tours, Activities</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('shopping')">
                                    <i class="fas fa-shopping-bag me-2"></i>Shopping Management
                                    <small class="d-block text-muted">Products, Vendors, Categories</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('health')">
                                    <i class="fas fa-heartbeat me-2"></i>Health Management
                                    <small class="d-block text-muted">Hospitals, Clinics, Emergency</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('education')">
                                    <i class="fas fa-graduation-cap me-2"></i>Education Management
                                    <small class="d-block text-muted">Schools, Universities, Programs</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('transport')">
                                    <i class="fas fa-car me-2"></i>Transport Management
                                    <small class="d-block text-muted">Vehicles, Routes, Services</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('culture')">
                                    <i class="fas fa-landmark me-2"></i>Culture Management
                                    <small class="d-block text-muted">Sites, Events, Traditions</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('maps')">
                                    <i class="fas fa-map-marked-alt me-2"></i>Maps Management
                                    <small class="d-block text-muted">Locations, POIs, Navigation</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('gallery')">
                                    <i class="fas fa-images me-2"></i>Gallery Management
                                    <small class="d-block text-muted">Photos, Videos, Collections</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('services')">
                                    <i class="fas fa-tools me-2"></i>Services Management
                                    <small class="d-block text-muted">Providers, Categories, Reviews</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('finance')">
                                    <i class="fas fa-money-bill-wave me-2"></i>Finance Management
                                    <small class="d-block text-muted">Banks, ATMs, Services</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('events')">
                                    <i class="fas fa-calendar-alt me-2"></i>Events Management
                                    <small class="d-block text-muted">Festivals, Shows, Activities</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('jobs')">
                                    <i class="fas fa-briefcase me-2"></i>Jobs Management
                                    <small class="d-block text-muted">Listings, Applications, Companies</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('realestate')">
                                    <i class="fas fa-building me-2"></i>Real Estate Management
                                    <small class="d-block text-muted">Properties, Rentals, Agents</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('streaming')">
                                    <i class="fas fa-play-circle me-2"></i>Streaming Management
                                    <small class="d-block text-muted">Videos, Channels, Content</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('smartgro')">
                                    <i class="fas fa-seedling me-2"></i>SmartGro Management
                                    <small class="d-block text-muted">Agricultural Products, Farms, Tips</small>
                                </button>
                                <button class="btn btn-outline-primary mb-2" onclick="showModuleContentManager('callcenter')">
                                    <i class="fas fa-phone me-2"></i>Call Center Management
                                    <small class="d-block text-muted">Emergency Contacts, Support</small>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Global Content Management Tools -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h6><i class="fas fa-globe me-2"></i>Global Content Tools</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <button class="btn btn-warning w-100 mb-2" onclick="showBulkImageManager()">
                                                <i class="fas fa-images me-2"></i>Bulk Image Manager
                                            </button>
                                        </div>
                                        <div class="col-6">
                                            <button class="btn btn-info w-100 mb-2" onclick="showVideoManager()">
                                                <i class="fas fa-video me-2"></i>Video Library
                                            </button>
                                        </div>
                                        <div class="col-6">
                                            <button class="btn btn-success w-100 mb-2" onclick="showContentTemplates()">
                                                <i class="fas fa-copy me-2"></i>Content Templates
                                            </button>
                                        </div>
                                        <div class="col-6">
                                            <button class="btn btn-secondary w-100 mb-2" onclick="showMediaAnalytics()">
                                                <i class="fas fa-chart-bar me-2"></i>Media Analytics
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showAdminDashboard()">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-edit"></i>
                        <span>Content</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showSystemAdmin('users')">
                        <i class="fas fa-users"></i>
                        <span>Users</span>
                    </a>
                    <a href="#" class="nav-item" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Individual Module Content Manager - Complete Professional System -->
        <div id="moduleContentManager" class="page">
            <div class="admin-dashboard-wrapper">
                <!-- Sidebar Navigation -->
                <div class="admin-sidebar">
                    <div class="admin-sidebar-header">
                        <div class="admin-logo">
                            <i class="fas fa-edit"></i>
                        </div>
                        <h4 id="moduleManagerTitle">Content Manager</h4>
                    </div>
                    
                    <div class="admin-sidebar-nav">
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">NAVIGATION</div>
                            <a href="#" class="admin-nav-item" onclick="showAdminContentManagement()">
                                <i class="fas fa-arrow-left"></i>
                                <span>Back to Content</span>
                            </a>
                            <a href="#" class="admin-nav-item" onclick="showAdminDashboard()">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>Dashboard</span>
                            </a>
                        </div>
                        
                        <div class="admin-nav-section">
                            <div class="admin-nav-section-title">MANAGEMENT</div>
                            <a href="#main-content" class="admin-nav-item active">
                                <i class="fas fa-edit"></i>
                                <span>Main Content</span>
                            </a>
                            <a href="#items-list" class="admin-nav-item">
                                <i class="fas fa-list"></i>
                                <span>Items List</span>
                            </a>
                            <a href="#payments" class="admin-nav-item">
                                <i class="fas fa-credit-card"></i>
                                <span>Payments</span>
                            </a>
                            <a href="#media-library" class="admin-nav-item">
                                <i class="fas fa-images"></i>
                                <span>Media Library</span>
                            </a>
                            <a href="#analytics" class="admin-nav-item">
                                <i class="fas fa-chart-bar"></i>
                                <span>Analytics</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="admin-main-content">
                    <div class="admin-top-bar">
                        <div>
                            <h3 id="moduleContentTitle">Booking & Streaming Manager</h3>
                            <div class="admin-breadcrumb">
                                <span>Admin</span> / <span>Content</span> / <span id="moduleBreadcrumb">Booking</span>
                            </div>
                        </div>
                        <div class="user-info">
                            <button class="btn btn-success me-3" onclick="addNewModuleItem()">
                                <i class="fas fa-plus"></i> Add New Item
                            </button>
                            <div class="user-avatar">AD</div>
                            <span>Administrator</span>
                        </div>
                    </div>
                    
                    <div class="admin-content-area">
                        <!-- Statistics Cards -->
                        <div class="admin-stats">
                            <div class="admin-stat-card">
                                <h6 id="statTotalItems">Total Items</h6>
                                <div class="stat-number" id="statTotalNumber">24</div>
                                <small id="statTotalChange">+3 this week</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 id="statActiveItems">Active Items</h6>
                                <div class="stat-number" id="statActiveNumber">18</div>
                                <small id="statActiveChange">Available now</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 id="statRevenue">Revenue</h6>
                                <div class="stat-number" id="statRevenueNumber">$4,250</div>
                                <small id="statRevenueChange">+15% this month</small>
                            </div>
                            <div class="admin-stat-card">
                                <h6 id="statBookings">Bookings</h6>
                                <div class="stat-number" id="statBookingsNumber">127</div>
                                <small id="statBookingsChange">+8 today</small>
                            </div>
                        </div>
                        
                        <!-- Main Content Management -->
                        <div class="admin-section" id="main-content">
                            <div class="admin-section-header">
                                <h5 id="contentSectionTitle">📝 Main Content Management</h5>
                                <p id="contentSectionDesc">Configure main settings and content for this module</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Module Title</label>
                                        <input type="text" class="form-control form-control-lg" id="moduleTitle" placeholder="Enter module title">
                                        <small class="text-muted">This appears in the main navigation</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Module Icon</label>
                                        <select class="form-control form-control-lg" id="moduleIcon">
                                            <option value="fa-hotel">🏨 Hotel</option>
                                            <option value="fa-video">📹 Video</option>
                                            <option value="fa-shopping-bag">🛍️ Shopping</option>
                                            <option value="fa-car">🚗 Transport</option>
                                            <option value="fa-heart">❤️ Health</option>
                                        </select>
                                        <small class="text-muted">Choose icon for this module</small>
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label fw-bold">Module Description</label>
                                        <textarea class="form-control" id="moduleDescription" rows="4" placeholder="Enter detailed module description"></textarea>
                                        <small class="text-muted">This appears in module details</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Module Status</label>
                                        <select class="form-control form-control-lg" id="moduleStatus">
                                            <option value="active">✅ Active</option>
                                            <option value="inactive">❌ Inactive</option>
                                            <option value="maintenance">🔧 Maintenance</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-bold">Featured Video URL</label>
                                        <input type="url" class="form-control form-control-lg" id="moduleVideoUrl" placeholder="https://example.com/video.mp4">
                                        <small class="text-muted">Featured video for this module</small>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <button class="btn btn-primary btn-lg me-3" onclick="saveModuleMainContent()">
                                        <i class="fas fa-save"></i> Save Main Content
                                    </button>
                                    <button class="btn btn-outline-secondary btn-lg" onclick="resetModuleContent()">
                                        <i class="fas fa-undo"></i> Reset Changes
                                    </button>
                                </div>
                                
                                <!-- Special Module Features -->
                                <div class="mt-5">
                                    <h6 class="text-primary mb-3">
                                        <i class="fas fa-star me-2"></i>Module-Specific Professional Features
                                    </h6>
                                    <div class="special-features-grid">
                                        <div class="row g-3" id="moduleSpecialFeatures">
                                            <!-- Features will be loaded dynamically based on module type -->
                                        </div>
                                    </div>
                                    <div class="mt-3">
                                        <button class="btn btn-outline-info" onclick="showModuleSpecialFeatures(window.currentModule)">
                                            <i class="fas fa-tools"></i> View All Professional Features
                                        </button>
                                        <button class="btn btn-outline-success" onclick="showModuleAnalytics(window.currentModule)">
                                            <i class="fas fa-chart-bar"></i> Advanced Analytics Dashboard
                                        </button>
                                        <button class="btn btn-outline-warning" onclick="exportModuleData(window.currentModule)">
                                            <i class="fas fa-download"></i> Export Module Data
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Items List Management -->
                        <div class="admin-section" id="items-list">
                            <div class="admin-section-header">
                                <h5 id="itemsListTitle">📋 Items List Management</h5>
                                <p id="itemsListDesc">Manage all items, products, or services in this module</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-success" onclick="addNewModuleItem()">
                                            <i class="fas fa-plus"></i> Add New Item
                                        </button>
                                        <button class="btn btn-outline-primary" onclick="importItemsFromCSV()">
                                            <i class="fas fa-upload"></i> Import CSV
                                        </button>
                                        <button class="btn btn-outline-warning" onclick="exportItemsToCSV()">
                                            <i class="fas fa-download"></i> Export CSV
                                        </button>
                                    </div>
                                    <div class="d-flex gap-2">
                                        <select class="form-control" id="itemsFilter">
                                            <option value="all">All Items</option>
                                            <option value="active">Active Only</option>
                                            <option value="inactive">Inactive Only</option>
                                            <option value="featured">Featured Only</option>
                                        </select>
                                        <input type="search" class="form-control" placeholder="Search items..." id="itemsSearch">
                                    </div>
                                </div>
                                
                                <div class="table-responsive">
                                    <table class="table table-hover" id="itemsTable">
                                        <thead class="table-dark">
                                            <tr>
                                                <th>Item</th>
                                                <th>Type</th>
                                                <th>Price</th>
                                                <th>Status</th>
                                                <th>Bookings</th>
                                                <th>Revenue</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="itemsTableBody">
                                            <!-- Dynamic content will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payment Management -->
                        <div class="admin-section" id="payments">
                            <div class="admin-section-header">
                                <h5 id="paymentsTitle">💳 Payment Management</h5>
                                <p id="paymentsDesc">Configure payment options and view transactions</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <!-- Payment Methods Configuration -->
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6><i class="fas fa-credit-card me-2"></i>Payment Methods</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="enableMTNMoney" checked>
                                                    <label class="form-check-label fw-bold" for="enableMTNMoney">
                                                        📱 MTN Mobile Money
                                                    </label>
                                                    <small class="d-block text-muted">Enable MTN MoMo payments</small>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="enableOrangeMoney" checked>
                                                    <label class="form-check-label fw-bold" for="enableOrangeMoney">
                                                        🟠 Orange Money
                                                    </label>
                                                    <small class="d-block text-muted">Enable Orange Money payments</small>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="enableFlutterwave" checked>
                                                    <label class="form-check-label fw-bold" for="enableFlutterwave">
                                                        💎 Flutterwave
                                                    </label>
                                                    <small class="d-block text-muted">Enable card payments via Flutterwave</small>
                                                </div>
                                                <div class="form-check form-switch mb-3">
                                                    <input class="form-check-input" type="checkbox" id="enableCashPayment">
                                                    <label class="form-check-label fw-bold" for="enableCashPayment">
                                                        💵 Cash Payment
                                                    </label>
                                                    <small class="d-block text-muted">Allow cash payments on delivery/pickup</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Payment Settings -->
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6><i class="fas fa-cog me-2"></i>Payment Settings</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Transaction Fee (%)</label>
                                                    <input type="number" class="form-control" id="transactionFee" value="2.5" step="0.1" min="0" max="10">
                                                    <small class="text-muted">Fee charged on transactions</small>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Minimum Amount (CFA)</label>
                                                    <input type="number" class="form-control" id="minAmount" value="500" step="100">
                                                    <small class="text-muted">Minimum payment amount</small>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Payment Timeout (minutes)</label>
                                                    <input type="number" class="form-control" id="paymentTimeout" value="15" min="5" max="60">
                                                    <small class="text-muted">Time to complete payment</small>
                                                </div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="requirePaymentConfirmation" checked>
                                                    <label class="form-check-label fw-bold" for="requirePaymentConfirmation">
                                                        Require Payment Confirmation
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Recent Transactions -->
                                    <div class="col-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6><i class="fas fa-history me-2"></i>Recent Transactions</h6>
                                            </div>
                                            <div class="card-body">
                                                <div class="table-responsive">
                                                    <table class="table table-sm">
                                                        <thead>
                                                            <tr>
                                                                <th>Date</th>
                                                                <th>Customer</th>
                                                                <th>Item</th>
                                                                <th>Amount</th>
                                                                <th>Method</th>
                                                                <th>Status</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="transactionsTableBody">
                                                            <!-- Dynamic content will be loaded here -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <button class="btn btn-primary btn-lg me-3" onclick="savePaymentSettings()">
                                        <i class="fas fa-save"></i> Save Payment Settings
                                    </button>
                                    <button class="btn btn-outline-info btn-lg me-3" onclick="viewPaymentAnalytics()">
                                        <i class="fas fa-chart-pie"></i> View Analytics
                                    </button>
                                    <button class="btn btn-outline-success btn-lg" onclick="exportTransactions()">
                                        <i class="fas fa-download"></i> Export Transactions
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Media Library -->
                        <div class="admin-section" id="media-library">
                            <div class="admin-section-header">
                                <h5 id="mediaLibraryTitle">🖼️ Media Library</h5>
                                <p id="mediaLibraryDesc">Manage images, videos, and documents for this module</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-12">
                                        <div class="media-upload-zone">
                                            <div class="upload-area" onclick="triggerMediaUpload()">
                                                <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                                                <h5>Upload Media Files</h5>
                                                <p>Drag & drop files here or click to browse</p>
                                                <small class="text-muted">Supports: JPG, PNG, MP4, PDF (Max: 50MB)</small>
                                                <input type="file" id="mediaUploadInput" accept="image/*,video/*,.pdf" multiple style="display:none;">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-12">
                                        <div id="mediaGallery" class="media-gallery">
                                            <!-- Dynamic media content will be loaded here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Analytics -->
                        <div class="admin-section" id="analytics">
                            <div class="admin-section-header">
                                <h5 id="analyticsTitle">📊 Module Analytics</h5>
                                <p id="analyticsDesc">View detailed analytics and performance metrics</p>
                            </div>
                            <div class="admin-section-content">
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6>Revenue Analytics</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="revenueChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card">
                                            <div class="card-header">
                                                <h6>Booking Trends</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="bookingChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Hidden File Input for Module Media Upload -->
        <input type="file" id="moduleMediaInput" accept="image/*,video/*" multiple style="display:none;" onchange="handleMediaUpload(this.files)">
        
        <!-- Module Item Editor Page -->
        <div id="moduleItemEditor" class="page">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                                <h4>Edit Module Item</h4>
                                <nav aria-label="breadcrumb">
                                    <ol class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="#" onclick="showAdminDashboard()">Admin</a></li>
                                        <li class="breadcrumb-item"><a href="#" onclick="showAdminContentManagement()">Content</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Edit Item</li>
                                    </ol>
                                </nav>
                            </div>
                            <div>
                                <button class="btn btn-outline-secondary me-2" onclick="showAdminContentManagement()">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                                <button class="btn btn-primary" onclick="saveModuleItem()">
                                    <i class="fas fa-save"></i> Save Changes
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="fas fa-edit me-2"></i>Item Details</h6>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label class="form-label">Module Image</label>
                                    <div class="upload-zone" onclick="triggerModuleImageUpload()">
                                        <i class="fas fa-camera fa-2x mb-2"></i>
                                        <h6>Upload New Module Image</h6>
                                        <p class="text-muted">Click to upload or drag & drop</p>
                                        <small class="text-muted">Supports: JPG, PNG, GIF (Max: 5MB)</small>
                                        <input type="file" id="moduleImageInput" accept="image/*" style="display:none;" onchange="handleModuleImageUpload(event)">
                                    </div>
                                </div>
                                <button class="btn btn-primary" onclick="saveMainContent()">
                                    <i class="fas fa-save me-2"></i>Save Changes
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Subcategories Management -->
                    <div id="subcategoriesSection" class="content-section" style="display:none;">
                        <h6><i class="fas fa-layer-group me-2"></i>Module Items Management</h6>
                        
                        <!-- Add New Item (Hotel, Restaurant, Service, etc.) -->
                        <div class="card mb-3">
                            <div class="card-header">
                                <h6 class="mb-0">Add New Item</h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-6">
                                        <input type="text" class="form-control mb-2" id="itemName" placeholder="Item Name (e.g., Hotel Name)">
                                    </div>
                                    <div class="col-6">
                                        <select class="form-control mb-2" id="itemSubcategory">
                                            <option value="">Select Category</option>
                                            <!-- Options will be loaded dynamically -->
                                        </select>
                                    </div>
                                </div>
                                <textarea class="form-control mb-2" id="itemDescription" rows="2" placeholder="Brief Description"></textarea>
                                
                                <!-- Contact Information -->
                                <div class="row">
                                    <div class="col-4">
                                        <input type="text" class="form-control mb-2" id="itemPhone" placeholder="Phone Number">
                                    </div>
                                    <div class="col-4">
                                        <input type="email" class="form-control mb-2" id="itemEmail" placeholder="Email">
                                    </div>
                                    <div class="col-4">
                                        <input type="text" class="form-control mb-2" id="itemWebsite" placeholder="Website">
                                    </div>
                                </div>
                                
                                <!-- Location & Address -->
                                <div class="row">
                                    <div class="col-8">
                                        <input type="text" class="form-control mb-2" id="itemAddress" placeholder="Address">
                                    </div>
                                    <div class="col-4">
                                        <input type="text" class="form-control mb-2" id="itemGPS" placeholder="GPS Coordinates">
                                    </div>
                                </div>
                                
                                <!-- Features/Amenities -->
                                <input type="text" class="form-control mb-2" id="itemFeatures" placeholder="Features/Amenities (comma separated)">
                                
                                <!-- Operating Hours -->
                                <div class="row">
                                    <div class="col-6">
                                        <input type="time" class="form-control mb-2" id="itemOpenTime" placeholder="Opening Time">
                                    </div>
                                    <div class="col-6">
                                        <input type="time" class="form-control mb-2" id="itemCloseTime" placeholder="Closing Time">
                                    </div>
                                </div>
                                
                                <button class="btn btn-success btn-sm" onclick="addNewItem()">
                                    <i class="fas fa-plus me-2"></i>Add Item
                                </button>
                            </div>
                        </div>
                        
                        <!-- Existing Items List -->
                        <div id="moduleItemsList">
                            <!-- Dynamic items will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Media Library Management -->
                    <div id="mediaSection" class="content-section" style="display:none;">
                        <h6><i class="fas fa-photo-video me-2"></i>Media Library</h6>
                        
                        <!-- Media Upload -->
                        <div class="card mb-3">
                            <div class="card-header">
                                <h6 class="mb-0">Upload New Media</h6>
                            </div>
                            <div class="card-body">
                                <div class="upload-zone" onclick="triggerAdminMediaUpload()">
                                    <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                                    <h6>Upload Images & Videos</h6>
                                    <p class="text-muted">Drag & drop files or click to browse</p>
                                    <small class="text-muted">Supports: JPG, PNG, GIF, MP4, MOV, AVI (Max: 50MB)</small>
                                    <input type="file" id="adminMediaInput" accept="image/*,video/*" multiple style="display:none;">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Media Categories -->
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="btn-group w-100" role="group">
                                    <button class="btn btn-outline-primary" onclick="filterMedia('all')">All Media</button>
                                    <button class="btn btn-outline-info" onclick="filterMedia('images')">Images</button>
                                    <button class="btn btn-outline-warning" onclick="filterMedia('videos')">Videos</button>
                                    <button class="btn btn-outline-success" onclick="filterMedia('recent')">Recent</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Media Grid -->
                        <div id="adminMediaGrid" class="media-grid">
                            <!-- Dynamic media items will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showAdminContentManagement()">
                        <i class="fas fa-arrow-left"></i>
                        <span>Back</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-edit"></i>
                        <span>Content</span>
                    </a>
                    <a href="#" class="nav-item" onclick="saveAllChanges()">
                        <i class="fas fa-save"></i>
                        <span>Save</span>
                    </a>
                    <a href="#" class="nav-item" onclick="previewModule()">
                        <i class="fas fa-eye"></i>
                        <span>Preview</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Individual Item Manager (Hotel, Restaurant, Service Details) -->
        <div id="itemDetailManager" class="page">
            <div class="dashboard">
                <div class="admin-top-bar">
                    <h3 id="itemManagerTitle">Item Details Manager</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-light" onclick="backToModuleContentManager()">
                            <i class="fas fa-arrow-left"></i> Back
                        </button>
                        <div class="user-avatar">AD</div>
                        <span>Administrator</span>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Item Information -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="fas fa-info-circle me-2"></i>Item Information</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6">
                                    <label class="form-label">Item Name</label>
                                    <input type="text" class="form-control mb-3" id="editItemName">
                                </div>
                                <div class="col-6">
                                    <label class="form-label">Category</label>
                                    <select class="form-control mb-3" id="editItemCategory">
                                        <!-- Options loaded dynamically -->
                                    </select>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" id="editItemDescription" rows="3"></textarea>
                            </div>
                            <div class="row">
                                <div class="col-4">
                                    <label class="form-label">Phone</label>
                                    <input type="text" class="form-control mb-3" id="editItemPhone">
                                </div>
                                <div class="col-4">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control mb-3" id="editItemEmail">
                                </div>
                                <div class="col-4">
                                    <label class="form-label">Website</label>
                                    <input type="text" class="form-control mb-3" id="editItemWebsite">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Address</label>
                                <input type="text" class="form-control" id="editItemAddress">
                            </div>
                            <button class="btn btn-primary" onclick="saveItemDetails()">
                                <i class="fas fa-save me-2"></i>Save Changes
                            </button>
                        </div>
                    </div>
                    
                    <!-- Item Media Management -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="fas fa-photo-video me-2"></i>Media Gallery</h6>
                        </div>
                        <div class="card-body">
                            <!-- Upload New Media -->
                            <div class="upload-zone mb-3" onclick="triggerItemMediaUpload()">
                                <i class="fas fa-cloud-upload-alt fa-2x mb-2"></i>
                                <h6>Upload Images & Videos</h6>
                                <p class="text-muted">Add photos and videos for this item</p>
                                <small class="text-muted">Supports: JPG, PNG, GIF, MP4, MOV (Max: 50MB)</small>
                                <input type="file" id="itemMediaInput" accept="image/*,video/*" multiple style="display:none;" onchange="handleItemMediaUpload(event)">
                            </div>
                            
                            <!-- Media Grid -->
                            <div id="itemMediaGrid" class="media-grid">
                                <!-- Item media will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reviews Management -->
                    <div class="card mb-4">
                        <div class="card-header">
                            <h6><i class="fas fa-star me-2"></i>Reviews & Ratings</h6>
                        </div>
                        <div class="card-body">
                            <div class="row mb-3">
                                <div class="col-6">
                                    <div class="stat-card text-center">
                                        <h4 id="itemRating">0.0</h4>
                                        <p>Average Rating</p>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="stat-card text-center">
                                        <h4 id="itemReviewCount">0</h4>
                                        <p>Total Reviews</p>
                                    </div>
                                </div>
                            </div>
                            <div id="itemReviewsList">
                                <!-- Reviews will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="backToModuleContentManager()">
                        <i class="fas fa-arrow-left"></i>
                        <span>Back</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-edit"></i>
                        <span>Edit</span>
                    </a>
                    <a href="#" class="nav-item" onclick="saveItemDetails()">
                        <i class="fas fa-save"></i>
                        <span>Save</span>
                    </a>
                    <a href="#" class="nav-item" onclick="previewItem()">
                        <i class="fas fa-eye"></i>
                        <span>Preview</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Booking Module -->
        <div id="bookingModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Booking</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Hero with background image, video and CTA -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:url('assets/images/welcome-limbe.jpg') center/cover no-repeat; min-height:220px;"></div>
                        <div class="position-absolute top-0 start-0 w-100 h-100" style="background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.35));"></div>
                        
                        <!-- Featured Video Tile -->
                        <div class="position-absolute top-2 end-2" style="width:120px; height:80px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay onclick="playBookingVideo(this)">
                                <source src="assets/videos/booking-featured.mp4" type="video/mp4">
                                <div class="bg-secondary d-flex align-items-center justify-content-center h-100">
                                    <i class="fas fa-video text-white"></i>
                                </div>
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:10px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:10px; color:white; padding:2px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h4 class="fw-bold mb-1" data-translate="book_luxury_title">Book Your Luxury Stay & Start Earning Today</h4>
                            <div>
                                <button class="btn btn-primary btn-sm" onclick="showHotelsList()"><i class="fas fa-bed me-1"></i><span data-translate="start_booking">Start Booking</span></button>
                            </div>
                        </div>
                    </div>

                    <!-- Booking quick form -->
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row g-2 align-items-center">
                                <div class="col-12 col-md-3">
                                    <label class="form-label small mb-1" data-translate="room_type">Room Type</label>
                                    <select class="form-select form-select-sm">
                                        <option>VIP Premium</option>
                                        <option>Deluxe</option>
                                        <option>Standard</option>
                                    </select>
                                </div>
                                <div class="col-6 col-md-2">
                                    <label class="form-label small mb-1" data-translate="guests">Guests</label>
                                    <select class="form-select form-select-sm">
                                        <option>1 Adult</option>
                                        <option selected>2 Adults</option>
                                        <option>2 Adults, 1 Child</option>
                                    </select>
                                </div>
                                <div class="col-6 col-md-2">
                                    <label class="form-label small mb-1" data-translate="check_in">Check-in</label>
                                    <input type="date" class="form-control form-control-sm" />
                                </div>
                                <div class="col-6 col-md-2">
                                    <label class="form-label small mb-1" data-translate="check_out">Check-out</label>
                                    <input type="date" class="form-control form-control-sm" />
                                </div>
                                <div class="col-6 col-md-3 d-grid d-md-block">
                                    <label class="form-label small mb-1 invisible">Next</label>
                                    <button class="btn btn-outline-primary btn-sm w-100" onclick="showHotelsList()" data-translate="next_step">Next Step</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Watch. Share. Stream. Earn. -->
                    <div class="text-center my-3">
                        <h5 class="mb-3" data-translate="watch_share_stream_earn">Watch. Share. Stream. Earn.</h5>
                        <div class="row g-2">
                            <div class="col-4">
                                <button class="btn btn-light w-100" onclick="showWatchEarnModule()">
                                    <div><i class="fas fa-eye fa-lg"></i></div>
                                    <small data-translate="watch_points">Watch • +10</small>
                                </button>
                            </div>
                            <div class="col-4">
                                <button class="btn btn-light w-100" onclick="showWatchEarnModule()">
                                    <div><i class="fas fa-share-alt fa-lg"></i></div>
                                    <small data-translate="share_points">Share • +20</small>
                                </button>
                            </div>
                            <div class="col-4">
                                <button class="btn btn-light w-100" onclick="showWatchEarnModule()">
                                    <div><i class="fas fa-broadcast-tower fa-lg"></i></div>
                                    <small data-translate="go_live_points">Go Live • +50</small>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Admin/Manager media management (hidden for normal users) -->
                    <div id="bookingAdminMediaSection" class="media-management-section mb-4" style="display:none;">
                        <h5>📸 <span data-translate="accommodation_media">Accommodation Media</span></h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('booking')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Images/Videos</p>
                                <small>Drag & drop or click to select</small>
                                <input type="file" id="bookingMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        <div class="media-gallery">
                            <h6>Current Media</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>hotel1.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('booking', 'hotel1.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>tour_video.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('booking', 'tour_video.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

            <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0" data-translate="hotels_guest_houses">Hotels & Guest Houses</h5>
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-primary btn-sm" onclick="showHotelsList()">
                                <i class="fas fa-list"></i> <span data-translate="view_all">View All</span>
                            </button>
                <button id="btnAddHotelBooking" class="btn btn-primary btn-sm" onclick="handleAddHotel()" style="display:none;">
                                <i class="fas fa-plus"></i> <span data-translate="add_hotel">Add Hotel</span>
                            </button>
                        </div>
                    </div>
                    <div class="booking-card">
                        <h6>Hotel Limbe Beach</h6>
                        <p>⭐⭐⭐⭐⭐ (4.8) • Beachfront • $80/night</p>
                        <button class="btn btn-primary btn-sm">Book Now</button>
                    </div>
                    <div class="booking-card">
                        <h6>Mount Cameroon Lodge</h6>
                        <p>⭐⭐⭐⭐ (4.5) • Mountain View • $65/night</p>
                        <button class="btn btn-primary btn-sm">Book Now</button>
                    </div>

                    <!-- Restaurants Section -->
                    <div class="d-flex justify-content-between align-items-center mt-4 mb-2">
                        <h5 class="mb-0" data-translate="restaurants">Restaurants</h5>
                        <div class="d-flex gap-2">
                            <button class="btn btn-outline-primary btn-sm" onclick="showRestaurantsList()">
                                <i class="fas fa-list"></i> <span data-translate="view_all">View All</span>
                            </button>
                            <button id="btnAddRestaurantBooking" class="btn btn-primary btn-sm" onclick="handleAddRestaurant()" style="display:none;">
                                <i class="fas fa-plus"></i> <span data-translate="add_restaurant">Add Restaurant</span>
                            </button>
                        </div>
                    </div>
                    <div class="booking-card">
                        <h6>Limbe Seafood Grill</h6>
                        <p>⭐⭐⭐⭐ (4.6) • Seafood • $$</p>
                        <button class="btn btn-primary btn-sm" data-translate="view_details">View Details</button>
                    </div>
                    <div class="booking-card">
                        <h6>Downtown Bistro</h6>
                        <p>⭐⭐⭐⭐ (4.4) • Bistro • $$</p>
                        <button class="btn btn-primary btn-sm" data-translate="view_details">View Details</button>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Booking</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Hotels List Page (Read-only for users, Admin can Add via Content Manager) -->
        <div id="hotelsListModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Hotels & Guest Houses</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showModule('booking')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                <div class="dashboard-content">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <p class="mb-0">Browse accommodation options curated for Limbe</p>
                        <button id="btnAddHotelList" class="btn btn-primary btn-sm" onclick="handleAddHotel()"><i class="fas fa-plus"></i> <span data-translate="add_hotel">Add Hotel</span></button>
                    </div>
                    <div id="hotelsListContainer"></div>
                </div>
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active" onclick="showModule('booking')">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Booking</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Restaurants List Page -->
        <div id="restaurantsListModule" class="page" style="display:none;">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Restaurants</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showModule('booking')">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                <div class="dashboard-content">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <p class="mb-0">Discover places to eat and enjoy</p>
                        <button id="btnAddRestaurantList" class="btn btn-primary btn-sm" onclick="handleAddRestaurant()"><i class="fas fa-plus"></i> <span data-translate="add_restaurant">Add Restaurant</span></button>
                    </div>
                    <div id="restaurantsListContainer"></div>
                </div>
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active" onclick="showModule('booking')">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Booking</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Public Item Detail Page (User-facing) -->
        <div id="itemPublicDetailModule" class="page" style="display:none;">
            <div class="dashboard">
                <div class="top-bar">
                    <h3 id="publicItemTitle">Item</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="backFromPublicItem()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                <div class="dashboard-content">
                    <div id="publicItemMedia" class="media-grid mb-3"></div>
                    <div class="card mb-3">
                        <div class="card-body">
                            <h5 id="publicItemName" class="mb-1">Name</h5>
                            <div class="text-muted mb-2"><span id="publicItemCategory">Category</span> • <span id="publicItemRating">—</span>/5</div>
                            <p id="publicItemDescription" class="mb-2"></p>
                            <div id="publicItemAddress" class="text-muted mb-2"></div>
                            <div id="publicItemContact" class="mb-3"></div>
                            <div id="publicItemActions"></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header"><i class="fas fa-star me-2"></i><span data-translate="reviews">Reviews</span></div>
                        <div class="card-body" id="publicItemReviews"></div>
                    </div>
                </div>
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="backFromPublicItem()">
                        <i class="fas fa-arrow-left"></i>
                        <span data-translate="back">Back</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-eye"></i>
                        <span data-translate="view_details">View Details</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Shopping Module -->
        <div id="shoppingModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Shopping</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Shopping Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height:180px;"></div>
                        
                        <!-- Featured Shopping Video -->
                        <div class="position-absolute top-2 end-2" style="width:100px; height:70px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay onclick="playShoppingVideo(this)">
                                <source src="assets/videos/shopping-featured.mp4" type="video/mp4">
                                <div class="bg-purple d-flex align-items-center justify-content-center h-100">
                                    <i class="fas fa-shopping-bag text-white"></i>
                                </div>
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:9px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:9px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h4 class="fw-bold mb-1" data-translate="discover_local_shopping">Discover Local Shopping</h4>
                            <div>
                                <button class="btn btn-light btn-sm" onclick="openShoppingMarketplace()">
                                    <i class="fas fa-store me-1"></i><span data-translate="browse_shops">Browse Shops</span>
                                </button>
                                <button class="btn btn-outline-light btn-sm ms-2" onclick="openShoppingMarketplace()">
                                    <i class="fas fa-shopping-bag me-1"></i><span data-translate="shopping_marketplace">Shopping Marketplace</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Shopping Categories -->
                    <div class="row g-3 mb-3">
                        <div class="col-6">
                            <div class="category-card" onclick="showShoppingCategory('local_crafts')">
                                <i class="fas fa-palette fa-2x text-primary"></i>
                                <h6 data-translate="local_crafts">Local Crafts</h6>
                                <small data-translate="handmade_art">Handmade Art & Crafts</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showShoppingCategory('electronics')">
                                <i class="fas fa-mobile-alt fa-2x text-info"></i>
                                <h6 data-translate="electronics">Electronics</h6>
                                <small data-translate="tech_gadgets">Tech & Gadgets</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showShoppingCategory('food_drinks')">
                                <i class="fas fa-coffee fa-2x text-warning"></i>
                                <h6 data-translate="food_drinks">Food & Drinks</h6>
                                <small data-translate="local_delicacies">Local Delicacies</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showShoppingCategory('clothing')">
                                <i class="fas fa-tshirt fa-2x text-success"></i>
                                <h6 data-translate="clothing_fashion">Clothing</h6>
                                <small data-translate="fashion_wear">Fashion & Wear</small>
                            </div>
                        </div>
                    </div>

                    <!-- Featured Products -->
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h5 class="mb-0" data-translate="featured_products">Featured Products</h5>
                        <button id="btnAddProduct" class="btn btn-primary btn-sm" onclick="handleAddProduct()" style="display:none;">
                            <i class="fas fa-plus"></i> <span data-translate="add_product">Add Product</span>
                        </button>
                    </div>
                    
                    <div class="shopping-card">
                        <div class="d-flex">
                            <div class="product-image me-3">
                                <i class="fas fa-image fa-2x text-muted"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h6>Limbe Handmade Pottery</h6>
                                <p class="text-muted small">Traditional ceramic art</p>
                                <div class="d-flex justify-content-between">
                                    <span class="fw-bold">15,000 FCFA</span>
                                    <button class="btn btn-primary btn-sm" data-translate="buy_now">Buy Now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="shopping-card">
                        <div class="d-flex">
                            <div class="product-image me-3">
                                <i class="fas fa-image fa-2x text-muted"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h6>Local Coffee Beans</h6>
                                <p class="text-muted small">Premium Cameroon coffee</p>
                                <div class="d-flex justify-content-between">
                                    <span class="fw-bold">8,500 FCFA</span>
                                    <button class="btn btn-primary btn-sm" data-translate="buy_now">Buy Now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Shopping Media Management -->
                    <div id="shoppingMediaSection" class="media-management-section mt-4" style="display:none;">
                        <h5>🛍️ <span data-translate="shopping_media">Shopping Media</span></h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('shopping')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p data-translate="upload_product_media">Upload Product Images/Videos</p>
                                <small data-translate="showcase_products">Showcase your products</small>
                                <input type="file" id="shoppingMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-shopping-cart"></i>
                        <span>Shopping</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Health Module -->
        <div id="healthModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Health</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Health Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #11998e 0%, #38ef7d 100%); min-height:160px;"></div>
                        
                        <!-- Featured Health Video -->
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay onclick="playHealthVideo(this)">
                                <source src="assets/videos/health-featured.mp4" type="video/mp4">
                                <div class="bg-success d-flex align-items-center justify-content-center h-100">
                                    <i class="fas fa-heartbeat text-white"></i>
                                </div>
                            </video>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="health_wellness_title">Health & Wellness Services</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-hospital me-1"></i><span data-translate="find_facilities">Find Facilities</span>
                            </button>
                        </div>
                    </div>

                    <!-- Health Categories -->
                    <div class="row g-2 mb-3">
                        <div class="col-6">
                            <div class="category-card" onclick="showHealthCategory('hospitals')">
                                <i class="fas fa-hospital fa-lg text-danger"></i>
                                <h6 data-translate="hospitals">Hospitals</h6>
                                <small data-translate="emergency_care">Emergency Care</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showHealthCategory('clinics')">
                                <i class="fas fa-clinic-medical fa-lg text-info"></i>
                                <h6 data-translate="clinics">Clinics</h6>
                                <small data-translate="general_health">General Health</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showHealthCategory('pharmacies')">
                                <i class="fas fa-pills fa-lg text-warning"></i>
                                <h6 data-translate="pharmacies">Pharmacies</h6>
                                <small data-translate="medications">Medications</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showHealthCategory('specialists')">
                                <i class="fas fa-user-md fa-lg text-success"></i>
                                <h6 data-translate="specialists">Specialists</h6>
                                <small data-translate="expert_care">Expert Care</small>
                            </div>
                        </div>
                    </div>

                    <h5 data-translate="medical_facilities">Medical Facilities</h5>
                    <div class="health-facility">
                        <h6>Limbe General Hospital</h6>
                        <p>📍 123 Hospital Road, Limbe</p>
                        <p>📞 +237 123 456 789</p>
                        <button class="btn btn-success btn-sm" data-translate="call_now">Call Now</button>
                    </div>
                    <div class="health-facility">
                        <h6>Limbe Medical Center</h6>
                        <p>📍 45 Health Avenue, Limbe</p>
                        <p>📞 +237 987 654 321</p>
                        <button class="btn btn-outline-success btn-sm" data-translate="view_details">View Details</button>
                    </div>
                    
                    <!-- Health Media Management -->
                    <div id="healthMediaSection" class="media-management-section mt-4" style="display:none;">
                        <h5>🏥 <span data-translate="health_media">Health Media</span></h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('health')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p data-translate="upload_health_media">Upload Health Facility Images/Videos</p>
                                <small data-translate="document_facilities">Document medical facilities</small>
                                <input type="file" id="healthMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-heartbeat"></i>
                        <span>Health</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Education Module -->
        <div id="educationModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Education</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Education Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #36d1dc 0%, #5b86e5 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playEducationVideo(this)">
                                <source src="assets/videos/education-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_education">Discover Education in Limbe</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-graduation-cap me-1"></i><span data-translate="browse_institutions">Browse Institutions</span>
                            </button>
                        </div>
                    </div>

                    <!-- Education Categories -->
                    <div class="row g-2 mb-3">
                        <div class="col-6">
                            <div class="category-card" onclick="showEducationCategory('universities')">
                                <i class="fas fa-university fa-lg text-primary"></i>
                                <h6 data-translate="universities">Universities</h6>
                                <small data-translate="higher_education">Higher Education</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showEducationCategory('schools')">
                                <i class="fas fa-school fa-lg text-success"></i>
                                <h6 data-translate="schools">Schools</h6>
                                <small data-translate="primary_secondary">Primary & Secondary</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showEducationCategory('training_centers')">
                                <i class="fas fa-chalkboard-teacher fa-lg text-info"></i>
                                <h6 data-translate="training_centers">Training Centers</h6>
                                <small data-translate="skills_development">Skills Development</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showEducationCategory('libraries')">
                                <i class="fas fa-book-reader fa-lg text-warning"></i>
                                <h6 data-translate="libraries">Libraries</h6>
                                <small data-translate="public_resources">Public Resources</small>
                            </div>
                        </div>
                    </div>

                    <h5 data-translate="educational_institutions">Educational Institutions</h5>
                    <div class="school-card">
                        <h6>University of Buea</h6>
                        <p>📍 Buea (near Limbe)</p>
                        <p>🎓 Undergraduate & Graduate programs</p>
                        <button class="btn btn-info btn-sm">Learn More</button>
                    </div>
                    <div class="school-card">
                        <h6>Limbe Secondary School</h6>
                        <p>📍 Downtown Limbe</p>
                        <p>🎓 Secondary education</p>
                    </div>
                    
                    <!-- Education Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🎓 Education Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('education')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload School Images/Videos</p>
                                <small>Document educational facilities</small>
                                <input type="file" id="educationMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>School Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>campus_view.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('education', 'campus_view.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>graduation_ceremony.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('education', 'graduation_ceremony.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Education</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Transport Module -->
        <div id="transportModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Transport</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Transport Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #ff9966 0%, #ff5e62 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playTransportVideo(this)">
                                <source src="assets/videos/transport-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_transport">Discover Transport Options</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-route me-1"></i><span data-translate="view_transport_options">View Options</span>
                            </button>
                        </div>
                    </div>

                    <!-- Transport Categories -->
                    <div class="row g-2 mb-3">
                        <div class="col-6">
                            <div class="category-card" onclick="showTransportCategory('taxis')">
                                <i class="fas fa-taxi fa-lg text-warning"></i>
                                <h6 data-translate="taxis">Taxis</h6>
                                <small data-translate="quick_rides">Quick Rides</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showTransportCategory('buses')">
                                <i class="fas fa-bus fa-lg text-success"></i>
                                <h6 data-translate="buses">Buses</h6>
                                <small data-translate="public_transport">Public Transport</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showTransportCategory('bike_taxi')">
                                <i class="fas fa-motorcycle fa-lg text-primary"></i>
                                <h6 data-translate="bike_taxi">Bike Taxi</h6>
                                <small data-translate="fast_local">Fast Local</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="category-card" onclick="showTransportCategory('car_rental')">
                                <i class="fas fa-car fa-lg text-danger"></i>
                                <h6 data-translate="car_rental">Car Rental</h6>
                                <small data-translate="self_drive">Self Drive</small>
                            </div>
                        </div>
                    </div>

                    <h5 data-translate="transportation_options">Transportation Options</h5>
                    <div class="transport-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="transport-icon me-3">
                                <i class="fas fa-taxi"></i>
                            </div>
                            <div>
                                <h6>Taxi Services</h6>
                                <p class="mb-0">Quick rides around Limbe</p>
                            </div>
                        </div>
                        <button class="btn btn-warning btn-sm">Book Taxi</button>
                    </div>
                    
                    <div class="transport-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="transport-icon me-3">
                                <i class="fas fa-bus"></i>
                            </div>
                            <div>
                                <h6>Bus Routes</h6>
                                <p class="mb-0">Public transportation</p>
                            </div>
                        </div>
                        <button class="btn btn-success btn-sm">View Routes</button>
                    </div>
                    
                    <div class="transport-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="transport-icon me-3">
                                <i class="fas fa-motorcycle"></i>
                            </div>
                            <div>
                                <h6>Bike Taxi (Okada)</h6>
                                <p class="mb-0">Fast local transport</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm">Find Okada</button>
                    </div>
                    
                    <!-- Transport Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🚗 Transport Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('transport')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Transport Images/Videos</p>
                                <small>Document vehicles & routes</small>
                                <input type="file" id="transportMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Transport Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>taxi_fleet.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('transport', 'taxi_fleet.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>route_guide.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('transport', 'route_guide.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="transport-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="transport-icon me-3">
                                <i class="fas fa-car"></i>
                            </div>
                            <div>
                                <h6>Car Rental</h6>
                                <p class="mb-0">Rent for longer trips</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm">Rent Car</button>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-car"></i>
                        <span>Transport</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Culture Module -->
        <div id="cultureModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Culture</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Culture Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playCultureVideo(this)">
                                <source src="assets/videos/culture-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_culture">Discover Culture in Limbe</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-landmark me-1"></i><span data-translate="browse_culture">Browse Cultural Sites</span>
                            </button>
                        </div>
                    </div>
                    <h5>Cultural Heritage</h5>
                    <div class="culture-card">
                        <div class="culture-image">
                            <i class="fas fa-mountain fa-3x text-success"></i>
                        </div>
                        <h6>Mount Cameroon</h6>
                        <p>Active volcano and highest peak in West Africa</p>
                        <button class="btn btn-success btn-sm">Explore</button>
                    </div>
                    
                    <div class="culture-card">
                        <div class="culture-image">
                            <i class="fas fa-water fa-3x text-primary"></i>
                        </div>
                        <h6>Limbe Beach</h6>
                        <p>Beautiful black sand beaches</p>
                        <button class="btn btn-primary btn-sm">Visit</button>
                    </div>
                    
                    <div class="culture-card">
                        <div class="culture-image">
                            <i class="fas fa-tree fa-3x text-success"></i>
                        </div>
                        <h6>Limbe Botanic Garden</h6>
                        <p>Historic botanical gardens since 1892</p>
                        <button class="btn btn-success btn-sm">Learn More</button>
                    </div>
                    
                    <h5 class="mt-4">Local Festivals</h5>
                    <div class="festival-card">
                        <h6>🎭 Mount Cameroon Festival</h6>
                        <p>Annual celebration of local culture</p>
                        <small>Next: December 2025</small>
                    </div>
                    
                    <div class="festival-card">
                        <h6>🎵 Limbe Cultural Week</h6>
                        <p>Music, dance, and traditional arts</p>
                        <small>Next: March 2026</small>
                    </div>
                    
                    <!-- Culture Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🎭 Culture Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('culture')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Cultural Images/Videos</p>
                                <small>Document festivals & traditions</small>
                                <input type="file" id="cultureMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Cultural Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>festival_dance.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('culture', 'festival_dance.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>cultural_ceremony.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('culture', 'cultural_ceremony.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-landmark"></i>
                        <span>Culture</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Maps Module -->
        <div id="mapsModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Maps</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Maps Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #11998e 0%, #38ef7d 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playMapsVideo(this)">
                                <source src="assets/videos/maps-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_maps">Discover Maps & Landmarks</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-map-marked-alt me-1"></i><span data-translate="view_locations">View Locations</span>
                            </button>
                        </div>
                    </div>
                    <div class="map-container">
                        <div class="map-placeholder">
                            <i class="fas fa-map-marked-alt fa-4x text-primary"></i>
                            <h5>Interactive Map</h5>
                            <p>Explore Limbe locations</p>
                        </div>
                    </div>
                    
                    <h5>Quick Locations</h5>
                    <div class="location-list">
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-hotel"></i>
                            </div>
                            <div class="location-info">
                                <h6>Hotels</h6>
                                <p>15 nearby hotels</p>
                            </div>
                            <button class="btn btn-sm btn-outline-primary">View</button>
                        </div>
                        
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="location-info">
                                <h6>Restaurants</h6>
                                <p>25 local restaurants</p>
                            </div>
                            <button class="btn btn-sm btn-outline-primary">View</button>
                        </div>
                        
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-camera"></i>
                            </div>
                            <div class="location-info">
                                <h6>Attractions</h6>
                                <p>12 tourist spots</p>
                            </div>
                            <button class="btn btn-sm btn-outline-primary">View</button>
                        </div>
                        
                        <div class="location-item">
                            <div class="location-icon">
                                <i class="fas fa-shopping-bag"></i>
                            </div>
                            <div class="location-info">
                                <h6>Shopping</h6>
                                <p>8 markets & shops</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Maps Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🗺️ Maps Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('maps')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Location Images/Videos</p>
                                <small>Document places & routes</small>
                                <input type="file" id="mapsMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Location Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>landmark_photo.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('maps', 'landmark_photo.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>route_walkthrough.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('maps', 'route_walkthrough.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-map-marked-alt"></i>
                        <span>Maps</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Gallery Module -->
        <div id="galleryModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Gallery</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Gallery Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #8360c3 0%, #2ebf91 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playGalleryVideo(this)">
                                <source src="assets/videos/gallery-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_gallery">Discover Gallery Highlights</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-images me-1"></i><span data-translate="view_gallery">View Gallery</span>
                            </button>
                        </div>
                    </div>
                    <h5>Limbe Photo Gallery</h5>
                    <div class="gallery-grid">
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-mountain fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>Mount Cameroon</h6>
                                <p>24 photos</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-water fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>Beaches</h6>
                                <p>18 photos</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-tree fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>Botanic Garden</h6>
                                <p>31 photos</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-city fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>City Views</h6>
                                <p>15 photos</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-utensils fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>Local Food</h6>
                                <p>22 photos</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item">
                            <div class="gallery-image">
                                <i class="fas fa-users fa-2x"></i>
                            </div>
                            <div class="gallery-overlay">
                                <h6>Culture</h6>
                                <p>19 photos</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="user-photos mt-4">
                        <h6>Share Your Photos</h6>
                        <button class="btn btn-primary w-100" onclick="triggerImageUpload('gallery')">
                            <i class="fas fa-camera me-2"></i>Take Photo
                        </button>
                    </div>
                    
                    <!-- Enhanced Gallery Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>📸 Gallery Media Management</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('gallery')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Photos & Videos</p>
                                <small>Build your Limbe gallery</small>
                                <input type="file" id="galleryMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Your Uploads</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>sunset_beach.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('gallery', 'sunset_beach.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>limbe_tour.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('gallery', 'limbe_tour.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-images"></i>
                        <span>Gallery</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Real Estate Module -->
        <div id="realestateModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Real Estate</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Real Estate Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #f6d365 0%, #fda085 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playRealEstateVideo(this)">
                                <source src="assets/videos/realestate-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_realestate">Discover Real Estate</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-building me-1"></i><span data-translate="view_properties">View Properties</span>
                            </button>
                        </div>
                    </div>
                    <h5>Property Listings</h5>
                    <div class="property-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="property-icon me-3">
                                <i class="fas fa-home"></i>
                            </div>
                            <div>
                                <h6>Beachfront Villa</h6>
                                <p class="mb-0">3 bed, 2 bath • $150,000</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm">View Details</button>
                    </div>
                    
                    <div class="property-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="property-icon me-3">
                                <i class="fas fa-building"></i>
                            </div>
                            <div>
                                <h6>Downtown Apartment</h6>
                                <p class="mb-0">2 bed, 1 bath • $80,000</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm">View Details</button>
                    </div>
                    
                    <h5 class="mt-4">Rental Services</h5>
                    <div class="property-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="property-icon me-3">
                                <i class="fas fa-key"></i>
                            </div>
                            <div>
                                <h6>Holiday Rental</h6>
                                <p class="mb-0">Furnished house • $50/night</p>
                            </div>
                        </div>
                        <button class="btn btn-success btn-sm">Book Now</button>
                    </div>
                    
                    <!-- Real Estate Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🏠 Real Estate Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('realestate')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Property Images/Videos</p>
                                <small>Showcase properties</small>
                                <input type="file" id="realestateMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Property Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>villa_exterior.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('realestate', 'villa_exterior.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>property_tour.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('realestate', 'property_tour.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-building"></i>
                        <span>Real Estate</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Services Module -->
        <div id="servicesModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Services</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Services Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #00c6ff 0%, #0072ff 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playServicesVideo(this)">
                                <source src="assets/videos/services-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_services">Discover Services</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-tools me-1"></i><span data-translate="browse_services">Browse Services</span>
                            </button>
                        </div>
                    </div>
                    <h5>Local Service Providers</h5>
                    <div class="service-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="service-icon me-3">
                                <i class="fas fa-wrench"></i>
                            </div>
                            <div>
                                <h6>Plumbing Services</h6>
                                <p class="mb-0">24/7 emergency repairs</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm">Contact</button>
                    </div>
                    
                    <div class="service-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="service-icon me-3">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <div>
                                <h6>Electrical Services</h6>
                                <p class="mb-0">Licensed electricians</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm">Contact</button>
                    </div>
                    
                    <div class="service-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="service-icon me-3">
                                <i class="fas fa-paint-brush"></i>
                            </div>
                            <div>
                                <h6>Painting Services</h6>
                                <p class="mb-0">Interior & exterior</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm">Contact</button>
                    </div>
                    
                    <h5 class="mt-4">Professional Services</h5>
                    <div class="service-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="service-icon me-3">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div>
                                <h6>Legal Services</h6>
                                <p class="mb-0">Lawyers & consultants</p>
                            </div>
                        </div>
                        <button class="btn btn-warning btn-sm">Consult</button>
                    </div>
                    
                    <!-- Services Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🔧 Services Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('services')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Service Images/Videos</p>
                                <small>Document service providers</small>
                                <input type="file" id="servicesMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Services Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>service_work.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('services', 'service_work.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>service_demo.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('services', 'service_demo.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-tools"></i>
                        <span>Services</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-search"></i>
                        <span>Search</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Finance Module -->
        <div id="financeModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Finance</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Finance Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #373B44 0%, #4286f4 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playFinanceVideo(this)">
                                <source src="assets/videos/finance-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_finance">Discover Finance Options</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-money-bill-wave me-1"></i><span data-translate="view_finance_options">View Options</span>
                            </button>
                        </div>
                    </div>
                    <h5>Banking Services</h5>
                    <div class="finance-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="finance-icon me-3">
                                <i class="fas fa-university"></i>
                            </div>
                            <div>
                                <h6>Local Banks</h6>
                                <p class="mb-0">Find ATMs and branches</p>
                            </div>
                        </div>
                        <button class="btn btn-success btn-sm">Locate</button>
                    </div>
                    
                    <div class="finance-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="finance-icon me-3">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <div>
                                <h6>Money Transfer</h6>
                                <p class="mb-0">Send & receive money</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm">Transfer</button>
                    </div>
                    
                    <div class="finance-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="finance-icon me-3">
                                <i class="fas fa-mobile-alt"></i>
                            </div>
                            <div>
                                <h6>Mobile Money</h6>
                                <p class="mb-0">MTN, Orange Money</p>
                            </div>
                        </div>
                        <button class="btn btn-warning btn-sm">Access</button>
                    </div>
                    
                    <h5 class="mt-4">Financial Assistance</h5>
                    <div class="finance-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="finance-icon me-3">
                                <i class="fas fa-handshake"></i>
                            </div>
                            <div>
                                <h6>Microfinance</h6>
                                <p class="mb-0">Small business loans</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm">Apply</button>
                    </div>
                    
                    <!-- Finance Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>💰 Finance Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('finance')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Finance Images/Videos</p>
                                <small>Document financial services</small>
                                <input type="file" id="financeMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Financial Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>bank_branch.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('finance', 'bank_branch.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>financial_guide.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('finance', 'financial_guide.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-money-bill-wave"></i>
                        <span>Finance</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-chart-line"></i>
                        <span>Rates</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Culture Module -->
        <div id="cultureModule2" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Culture & Heritage</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Culture Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playCultureVideo(this)">
                                <source src="assets/videos/culture-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="discover_culture">Discover Cultural Heritage</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-landmark me-1"></i><span data-translate="explore_culture">Explore Culture</span>
                            </button>
                        </div>
                    </div>
                    
                    <h5>Cultural Sites</h5>
                    <div class="culture-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="culture-icon me-3">
                                <i class="fas fa-monument"></i>
                            </div>
                            <div>
                                <h6>Limbe Museum</h6>
                                <p class="mb-0">Local history and artifacts</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm" onclick="showCulturalSiteDetails('limbe-museum')">Visit</button>
                    </div>
                    
                    <div class="culture-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="culture-icon me-3">
                                <i class="fas fa-building-columns"></i>
                            </div>
                            <div>
                                <h6>Cultural Center</h6>
                                <p class="mb-0">Traditional performances</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm" onclick="showCulturalSiteDetails('cultural-center')">Explore</button>
                    </div>
                    
                    <div class="culture-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="culture-icon me-3">
                                <i class="fas fa-mountain"></i>
                            </div>
                            <div>
                                <h6>Mount Cameroon Heritage</h6>
                                <p class="mb-0">Sacred mountain traditions</p>
                            </div>
                        </div>
                        <button class="btn btn-success btn-sm" onclick="showCulturalSiteDetails('mount-heritage')">Learn</button>
                    </div>
                    
                    <h5 class="mt-4">Traditional Events</h5>
                    <div class="culture-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="culture-icon me-3">
                                <i class="fas fa-masks-theater"></i>
                            </div>
                            <div>
                                <h6>Traditional Festivals</h6>
                                <p class="mb-0">Annual cultural celebrations</p>
                            </div>
                        </div>
                        <button class="btn btn-warning btn-sm" onclick="showCulturalEvents()">View Events</button>
                    </div>
                    
                    <!-- Culture Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🏛️ Culture Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('culture')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Culture Images/Videos</p>
                                <small>Document cultural heritage</small>
                                <input type="file" id="cultureMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Cultural Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>museum_artifact.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('culture', 'museum_artifact.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>traditional_dance.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('culture', 'traditional_dance.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-landmark"></i>
                        <span>Culture</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showGalleryModule()">
                        <i class="fas fa-images"></i>
                        <span>Gallery</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showProfileSettings()">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Maps Module -->
        <div id="mapsModule2" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Maps & Navigation</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Maps Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playMapsVideo(this)">
                                <source src="assets/videos/maps-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="navigate_limbe">Navigate Limbe</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-map-marked-alt me-1"></i><span data-translate="open_map">Open Map</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Interactive Map Container -->
                    <div class="map-container mb-3" style="height: 300px; background: #f0f0f0; border-radius: 8px; position: relative;">
                        <div class="d-flex align-items-center justify-content-center h-100">
                            <div class="text-center">
                                <i class="fas fa-map fa-3x text-muted mb-2"></i>
                                <p class="text-muted">Interactive Map Loading...</p>
                                <button class="btn btn-primary btn-sm" onclick="initializeMap()">Load Map</button>
                            </div>
                        </div>
                    </div>
                    
                    <h5>Quick Navigation</h5>
                    <div class="maps-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="maps-icon me-3">
                                <i class="fas fa-hotel"></i>
                            </div>
                            <div>
                                <h6>Find Hotels</h6>
                                <p class="mb-0">Nearby accommodations</p>
                            </div>
                        </div>
                        <button class="btn btn-primary btn-sm" onclick="findNearby('hotels')">Locate</button>
                    </div>
                    
                    <div class="maps-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="maps-icon me-3">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div>
                                <h6>Find Restaurants</h6>
                                <p class="mb-0">Local dining options</p>
                            </div>
                        </div>
                        <button class="btn btn-success btn-sm" onclick="findNearby('restaurants')">Locate</button>
                    </div>
                    
                    <div class="maps-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="maps-icon me-3">
                                <i class="fas fa-hospital"></i>
                            </div>
                            <div>
                                <h6>Emergency Services</h6>
                                <p class="mb-0">Hospitals, police, fire</p>
                            </div>
                        </div>
                        <button class="btn btn-danger btn-sm" onclick="findNearby('emergency')">Emergency</button>
                    </div>
                    
                    <h5 class="mt-4">Popular Routes</h5>
                    <div class="maps-card">
                        <div class="d-flex align-items-center mb-2">
                            <div class="maps-icon me-3">
                                <i class="fas fa-route"></i>
                            </div>
                            <div>
                                <h6>Tourist Route</h6>
                                <p class="mb-0">Must-visit attractions</p>
                            </div>
                        </div>
                        <button class="btn btn-info btn-sm" onclick="showRoute('tourist')">Show Route</button>
                    </div>
                    
                    <!-- Maps Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>🗺️ Maps Media</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('maps')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Maps Images/Videos</p>
                                <small>Document locations and routes</small>
                                <input type="file" id="mapsMediaInput" accept="image/*,video/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Maps Gallery</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-image fa-2x"></i>
                                    </div>
                                    <p>limbe_map_overview.jpg</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('maps', 'limbe_map_overview.jpg')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>navigation_guide.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('maps', 'navigation_guide.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-map-marked-alt"></i>
                        <span>Maps</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showCultureModule()">
                        <i class="fas fa-landmark"></i>
                        <span>Culture</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showProfileSettings()">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Gallery Module -->
        <div id="galleryModule2" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Photo & Video Gallery</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Gallery Hero with Video -->
                    <div class="position-relative mb-3" style="border-radius:12px; overflow:hidden;">
                        <div style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height:160px;"></div>
                        <div class="position-absolute top-2 end-2" style="width:90px; height:60px; border-radius:8px; overflow:hidden; border:2px solid rgba(255,255,255,0.8);">
                            <video class="w-100 h-100" style="object-fit:cover;" muted loop autoplay poster="assets/images/welcome-limbe.jpg" preload="none" onclick="playGalleryVideo(this)">
                                <source src="assets/videos/gallery-featured.mp4" type="video/mp4">
                            </video>
                            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" data-role="complete-badge" style="display:none; background:rgba(0,0,0,0.5); color:#fff; font-size:8px;"><span>✓ </span><span data-translate="completed">Completed</span></div>
                            <div class="position-absolute bottom-0 start-0 w-100 text-center" style="background:rgba(0,0,0,0.7); font-size:8px; color:white; padding:1px;">
                                <span data-translate="watch_earn">Watch & Earn</span>
                            </div>
                        </div>
                        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-end p-3 text-white">
                            <h5 class="fw-bold mb-1" data-translate="explore_gallery">Explore Gallery</h5>
                            <button class="btn btn-light btn-sm">
                                <i class="fas fa-images me-1"></i><span data-translate="browse_media">Browse Media</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Upload Section -->
                    <div class="upload-section mb-4">
                        <h6>📸 Upload Your Media</h6>
                        <div class="upload-area" onclick="triggerGalleryUpload()">
                            <i class="fas fa-cloud-upload-alt fa-2x text-primary"></i>
                            <p>Tap to upload photos & videos</p>
                            <small class="text-muted">Share your Limbe experiences</small>
                            <input type="file" id="galleryUploadInput" accept="image/*,video/*" multiple style="display:none;">
                        </div>
                    </div>
                    
                    <!-- Gallery Categories -->
                    <div class="gallery-categories mb-3">
                        <div class="d-flex overflow-auto">
                            <button class="btn btn-outline-primary me-2 category-btn active" data-category="all" onclick="filterGallery('all')">All</button>
                            <button class="btn btn-outline-primary me-2 category-btn" data-category="nature" onclick="filterGallery('nature')">Nature</button>
                            <button class="btn btn-outline-primary me-2 category-btn" data-category="city" onclick="filterGallery('city')">City</button>
                            <button class="btn btn-outline-primary me-2 category-btn" data-category="culture" onclick="filterGallery('culture')">Culture</button>
                            <button class="btn btn-outline-primary me-2 category-btn" data-category="events" onclick="filterGallery('events')">Events</button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="gallery-grid" id="galleryGrid">
                        <div class="gallery-item" data-category="nature">
                            <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400" alt="Mount Cameroon" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>Mount Cameroon</h6>
                                <p>Volcanic mountain peak</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item" data-category="nature">
                            <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=400" alt="Limbe Beach" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>Limbe Beach</h6>
                                <p>Beautiful black sand</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item" data-category="city">
                            <img src="https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=400" alt="City Center" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>City Center</h6>
                                <p>Downtown Limbe</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item" data-category="culture">
                            <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400" alt="Cultural Event" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>Cultural Festival</h6>
                                <p>Traditional celebration</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item" data-category="events">
                            <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400" alt="Local Event" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>Music Festival</h6>
                                <p>Live performance</p>
                            </div>
                        </div>
                        
                        <div class="gallery-item" data-category="nature">
                            <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400" alt="Botanical Garden" onclick="openGalleryItem(this)">
                            <div class="gallery-overlay">
                                <h6>Botanical Garden</h6>
                                <p>Tropical plants</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Statistics -->
                    <div class="gallery-stats mt-4">
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="stat-item">
                                    <h4>245</h4>
                                    <small>Photos</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h4>32</h4>
                                    <small>Videos</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <h4>15</h4>
                                    <small>Albums</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-images"></i>
                        <span>Gallery</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showMapsModule()">
                        <i class="fas fa-map-marked-alt"></i>
                        <span>Maps</span>
                    </a>
                    <a href="#" class="nav-item" onclick="showProfileSettings()">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Media & Streaming Module -->
        <div id="mediaModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Media & Streaming</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>Local Media Content</h5>
                    <div class="media-card">
                        <div class="media-thumbnail">
                            <i class="fas fa-play-circle fa-3x"></i>
                        </div>
                        <h6>Limbe TV</h6>
                        <p>Local news and events</p>
                        <button class="btn btn-primary btn-sm">Watch Live</button>
                    </div>
                    
                    <div class="media-card">
                        <div class="media-thumbnail">
                            <i class="fas fa-microphone fa-3x"></i>
                        </div>
                        <h6>Radio Limbe</h6>
                        <p>Local radio station</p>
                        <button class="btn btn-success btn-sm">Listen Live</button>
                    </div>
                    
                    <h5 class="mt-4">Entertainment Options</h5>
                    <div class="media-card">
                        <div class="media-thumbnail">
                            <i class="fas fa-film fa-3x"></i>
                        </div>
                        <h6>Local Cinema</h6>
                        <p>Movie schedules</p>
                        <button class="btn btn-warning btn-sm">Book Tickets</button>
                    </div>
                    
                    <div class="media-card">
                        <div class="media-thumbnail">
                            <i class="fas fa-music fa-3x"></i>
                        </div>
                        <h6>Music Events</h6>
                        <p>Concerts & festivals</p>
                        <button class="btn btn-info btn-sm">View Events</button>
                    </div>
                    
                    <!-- Media & Streaming Media Management -->
                    <div class="media-management-section mt-4">
                        <h5>📺 Media Content Management</h5>
                        <div class="media-upload-area">
                            <div class="upload-zone" onclick="triggerImageUpload('media')">
                                <i class="fas fa-cloud-upload-alt fa-2x"></i>
                                <p>Upload Media Content</p>
                                <small>Upload videos, images, audio</small>
                                <input type="file" id="mediaMediaInput" accept="image/*,video/*,audio/*" multiple style="display:none;">
                            </div>
                        </div>
                        
                        <div class="media-gallery">
                            <h6>Media Library</h6>
                            <div class="media-grid">
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-video fa-2x"></i>
                                    </div>
                                    <p>limbe_tv_episode.mp4</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('media', 'limbe_tv_episode.mp4')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                                <div class="media-item">
                                    <div class="media-preview">
                                        <i class="fas fa-music fa-2x"></i>
                                    </div>
                                    <p>radio_show.mp3</p>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('media', 'radio_show.mp3')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bottom-nav">
                    <a href="#" class="nav-item" onclick="showUserDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item active">
                        <i class="fas fa-play-circle"></i>
                        <span>Media</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-calendar"></i>
                        <span>Events</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Jobs & Freelance Module -->
        <div id="jobsModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Jobs & Freelance</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>Job Opportunities</h5>
                    <div class="booking-card">
                        <h6>Tour Guide Position</h6>
                        <p>💼 Full-time • Experience: 2+ years • Salary: 150,000 XAF</p>
                        <button class="btn btn-primary btn-sm">Apply Now</button>
                    </div>
                    <div class="booking-card">
                        <h6>Hotel Receptionist</h6>
                        <p>💼 Part-time • Experience: 1+ years • Salary: 80,000 XAF</p>
                        <button class="btn btn-primary btn-sm">Apply Now</button>
                    </div>
                    
                    <h5>Freelance Gigs</h5>
                    <div class="booking-card">
                        <h6>Photography Services</h6>
                        <p>📸 Project-based • Portfolio required • 25,000 XAF per event</p>
                        <button class="btn btn-primary btn-sm">View Details</button>
                    </div>
                    
                    <div class="booking-card">
                        <h6>🔹 Other Job/Gig</h6>
                        <p>Add your own job posting or freelance opportunity</p>
                        <button class="btn btn-success btn-sm">Add New Job</button>
                    </div>
                    
                    <!-- Job Posting Form -->
                    <div class="media-management-section mt-4">
                        <h5>💼 Post a Job</h5>
                        <div class="form-group">
                            <input type="text" class="form-control mb-2" placeholder="Job Title">
                            <input type="text" class="form-control mb-2" placeholder="Company Name">
                            <select class="form-control mb-2">
                                <option>Full-time</option>
                                <option>Part-time</option>
                                <option>Freelance</option>
                                <option>Contract</option>
                                <option>Other</option>
                            </select>
                            <input type="text" class="form-control mb-2" placeholder="Salary (XAF)">
                            <textarea class="form-control mb-2" placeholder="Job Description"></textarea>
                            <button class="btn btn-primary">Post Job</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Events Module -->
        <div id="eventsModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Events</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>Upcoming Events</h5>
                    <div class="booking-card">
                        <h6>Limbe Beach Festival</h6>
                        <p>🎉 Dec 15, 2025 • Beach Resort • Free Entry</p>
                        <button class="btn btn-primary btn-sm">Get Tickets</button>
                    </div>
                    <div class="booking-card">
                        <h6>Mount Cameroon Marathon</h6>
                        <p>🏃‍♂️ Jan 20, 2026 • Sports Complex • 5,000 XAF</p>
                        <button class="btn btn-primary btn-sm">Register</button>
                    </div>
                    
                    <h5>Cultural Events</h5>
                    <div class="booking-card">
                        <h6>Traditional Dance Competition</h6>
                        <p>💃 Every Saturday • Cultural Center • 1,000 XAF</p>
                        <button class="btn btn-primary btn-sm">Join Event</button>
                    </div>
                    
                    <div class="booking-card">
                        <h6>🔹 Other Event</h6>
                        <p>Create your own event or add one manually</p>
                        <button class="btn btn-success btn-sm">Create Event</button>
                    </div>
                    
                    <!-- Event Creation Form -->
                    <div class="media-management-section mt-4">
                        <h5>🎯 Create Event</h5>
                        <div class="form-group">
                            <input type="text" class="form-control mb-2" placeholder="Event Name">
                            <input type="date" class="form-control mb-2">
                            <input type="time" class="form-control mb-2">
                            <input type="text" class="form-control mb-2" placeholder="Location">
                            <input type="number" class="form-control mb-2" placeholder="Ticket Price (XAF)">
                            <textarea class="form-control mb-2" placeholder="Event Description"></textarea>
                            <button class="btn btn-primary">Create Event</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SmartGro Agricultural Assistant Module -->
        <div id="smartgroModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>SmartGro Agricultural Assistant</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <!-- Agricultural Marketplace -->
                    <h5>🌱 Agricultural Marketplace</h5>
                    <div class="booking-card">
                        <h6>Fresh Cassava</h6>
                        <p>🥔 500 XAF/kg • 100kg available • Limbe Farms</p>
                        <button class="btn btn-primary btn-sm" onclick="orderProduct('cassava')">Order Now</button>
                    </div>
                    <div class="booking-card">
                        <h6>Organic Plantains</h6>
                        <p>🍌 200 XAF/piece • 500 pieces available • Mount Cameroon Slopes</p>
                        <button class="btn btn-primary btn-sm" onclick="orderProduct('plantains')">Order Now</button>
                    </div>
                    <div class="booking-card">
                        <h6>Palm Oil</h6>
                        <p>🥥 1,500 XAF/liter • 50 liters available • Limbe Palm Plantations</p>
                        <button class="btn btn-primary btn-sm" onclick="orderProduct('palm_oil')">Order Now</button>
                    </div>
                    
                    <!-- Agricultural Tips -->
                    <h5 class="mt-4">📚 Agricultural Tips</h5>
                    <div class="booking-card">
                        <h6>Best Time to Plant Cassava</h6>
                        <p>🌧️ Plant at the beginning of rainy season (March-April) for best results</p>
                        <button class="btn btn-info btn-sm">Read More</button>
                    </div>
                    <div class="booking-card">
                        <h6>Organic Pest Control</h6>
                        <p>🌿 Use neem oil spray and companion planting for natural pest control</p>
                        <button class="btn btn-info btn-sm">Read More</button>
                    </div>
                    
                    <!-- Weather Information -->
                    <h5 class="mt-4">🌤️ Weather Forecast</h5>
                    <div class="weather-card">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6>Today - Limbe</h6>
                                <p class="mb-0">28°C / 23°C</p>
                                <small>Partly Cloudy • 85% Humidity</small>
                            </div>
                            <i class="fas fa-cloud-sun fa-2x text-warning"></i>
                        </div>
                    </div>
                    
                    <!-- Market Prices -->
                    <h5 class="mt-4">💰 Market Prices</h5>
                    <div class="price-card">
                        <div class="row">
                            <div class="col-6">
                                <small>Cassava</small>
                                <h6>400 XAF/kg</h6>
                            </div>
                            <div class="col-6">
                                <small>Plantains</small>
                                <h6>150 XAF/piece</h6>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-6">
                                <small>Palm Oil</small>
                                <h6>1,200 XAF/L</h6>
                            </div>
                            <div class="col-6">
                                <small>Fish</small>
                                <h6>1,800 XAF/kg</h6>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Sell Your Products -->
                    <h5 class="mt-4">💼 Sell Your Products</h5>
                    <div class="form-group">
                        <input type="text" class="form-control mb-2" placeholder="Product Name">
                        <select class="form-control mb-2">
                            <option>Vegetables</option>
                            <option>Fruits</option>
                            <option>Grains</option>
                            <option>Processed</option>
                            <option>Seafood</option>
                        </select>
                        <input type="number" class="form-control mb-2" placeholder="Price per Unit (XAF)">
                        <input type="text" class="form-control mb-2" placeholder="Unit Type (kg, pieces, liters)">
                        <input type="number" class="form-control mb-2" placeholder="Quantity Available">
                        <textarea class="form-control mb-2" placeholder="Product Description"></textarea>
                        <div class="alert alert-info">
                            <small><i class="fas fa-info-circle"></i> Posting Fee: 400 XAF. Payment required before approval.</small>
                        </div>
                        <button class="btn btn-success" onclick="submitAgriculturalProduct()">Submit for Approval</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Watch & Earn Module -->
        <div id="watchEarnModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Watch & Earn</h3>
                    <div class="user-info">
                        <span class="points-badge">
                            <i class="fas fa-coins"></i> <span id="userPoints">125</span> Points
                        </span>
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>🎬 Earn Points by Watching</h5>
                    <div class="video-card">
                        <div class="video-thumbnail">
                            <i class="fas fa-play-circle fa-3x"></i>
                            <div class="video-overlay">
                                <span class="points-reward">+10 Points</span>
                            </div>
                        </div>
                        <h6>Explore Limbe Beach</h6>
                        <p>3 minutes • Tourism • Discover the beautiful black sand beaches</p>
                        <button class="btn btn-primary btn-sm" onclick="watchVideo('limbe_beach', 10)">Watch Now</button>
                    </div>
                    
                    <div class="video-card">
                        <div class="video-thumbnail">
                            <i class="fas fa-play-circle fa-3x"></i>
                            <div class="video-overlay">
                                <span class="points-reward">+15 Points</span>
                            </div>
                        </div>
                        <h6>Limbe Wildlife Centre Tour</h6>
                        <p>5 minutes • Tourism • Virtual tour of the famous wildlife centre</p>
                        <button class="btn btn-primary btn-sm" onclick="watchVideo('wildlife_centre', 15)">Watch Now</button>
                    </div>
                    
                    <div class="video-card">
                        <div class="video-thumbnail">
                            <i class="fas fa-play-circle fa-3x"></i>
                            <div class="video-overlay">
                                <span class="points-reward">+20 Points</span>
                            </div>
                        </div>
                        <h6>Mount Cameroon Hiking Guide</h6>
                        <p>10 minutes • Adventure • Complete guide to hiking Mount Cameroon</p>
                        <button class="btn btn-primary btn-sm" onclick="watchVideo('mount_cameroon', 20)">Watch Now</button>
                    </div>
                    
                    <div class="video-card">
                        <div class="video-thumbnail">
                            <i class="fas fa-play-circle fa-3x"></i>
                            <div class="video-overlay">
                                <span class="points-reward">+25 Points</span>
                            </div>
                        </div>
                        <h6>Business Opportunities in Limbe</h6>
                        <p>8 minutes • Business • Investment and business opportunities</p>
                        <button class="btn btn-primary btn-sm" onclick="watchVideo('business_opportunities', 25)">Watch Now</button>
                    </div>
                    
                    <!-- Points History -->
                    <h5 class="mt-4">💰 Points History</h5>
                    <div class="points-history">
                        <div class="points-item">
                            <div class="d-flex justify-content-between">
                                <span>Watched "Limbe Beach"</span>
                                <span class="text-success">+10 Points</span>
                            </div>
                            <small class="text-muted">2 hours ago</small>
                        </div>
                        <div class="points-item">
                            <div class="d-flex justify-content-between">
                                <span>Hotel Booking</span>
                                <span class="text-success">+5 Points</span>
                            </div>
                            <small class="text-muted">1 day ago</small>
                        </div>
                        <div class="points-item">
                            <div class="d-flex justify-content-between">
                                <span>Product Review</span>
                                <span class="text-success">+3 Points</span>
                            </div>
                            <small class="text-muted">2 days ago</small>
                        </div>
                    </div>
                    
                    <!-- Redeem Points -->
                    <h5 class="mt-4">🎁 Redeem Points</h5>
                    <div class="booking-card">
                        <h6>Free Coffee at Limbe Café</h6>
                        <p>☕ Cost: 50 Points • Valid for 30 days</p>
                        <button class="btn btn-warning btn-sm" onclick="redeemReward('coffee', 50)">Redeem</button>
                    </div>
                    <div class="booking-card">
                        <h6>10% Discount on Hotel Booking</h6>
                        <p>🏨 Cost: 100 Points • Valid for 60 days</p>
                        <button class="btn btn-warning btn-sm" onclick="redeemReward('hotel_discount', 100)">Redeem</button>
                    </div>
                    <div class="booking-card">
                        <h6>Free Beach Tour Guide</h6>
                        <p>🏖️ Cost: 200 Points • 2-hour guided tour</p>
                        <button class="btn btn-warning btn-sm" onclick="redeemReward('beach_tour', 200)">Redeem</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ads Manager Module -->
        <div id="adsModule" class="page">
            <div class="dashboard">
                <div class="top-bar">
                    <h3>Ads Manager</h3>
                    <div class="user-info">
                        <button class="btn btn-sm btn-outline-secondary" onclick="showUserDashboard()">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-content">
                    <h5>Active Campaigns</h5>
                    <div class="booking-card">
                        <h6>Hotel Promotion</h6>
                        <p>📊 Impressions: 1,234 • Clicks: 89 • Budget: 50,000 XAF</p>
                        <button class="btn btn-warning btn-sm">Edit Campaign</button>
                    </div>
                    <div class="booking-card">
                        <h6>Restaurant Special</h6>
                        <p>📊 Impressions: 567 • Clicks: 34 • Budget: 25,000 XAF</p>
                        <button class="btn btn-warning btn-sm">Edit Campaign</button>
                    </div>
                    
                    <h5>Advertisement Packages</h5>
                    <div class="booking-card">
                        <h6>Basic Package</h6>
                        <p>💰 15,000 XAF/month • Banner ads • 1,000 impressions</p>
                        <button class="btn btn-primary btn-sm">Purchase</button>
                    </div>
                    <div class="booking-card">
                        <h6>Premium Package</h6>
                        <p>💰 50,000 XAF/month • Featured listing • 5,000 impressions</p>
                        <button class="btn btn-primary btn-sm">Purchase</button>
                    </div>
                    
                    <div class="booking-card">
                        <h6>🔹 Other Advertisement</h6>
                        <p>Custom advertising package or manual promotion</p>
                        <button class="btn btn-success btn-sm">Custom Package</button>
                    </div>
                    
                    <!-- Ad Creation Form -->
                    <div class="media-management-section mt-4">
                        <h5>🎯 Create Advertisement</h5>
                        <div class="form-group">
                            <input type="text" class="form-control mb-2" placeholder="Ad Title">
                            <select class="form-control mb-2">
                                <option>Banner Ad</option>
                                <option>Featured Listing</option>
                                <option>Social Media</option>
                                <option>Video Ad</option>
                                <option>Other</option>
                            </select>
                            <input type="number" class="form-control mb-2" placeholder="Budget (XAF)">
                            <input type="number" class="form-control mb-2" placeholder="Duration (days)">
                            <textarea class="form-control mb-2" placeholder="Ad Description"></textarea>
                            <button class="btn btn-primary">Create Ad</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation functions
        function showPage(pageId) {
            console.log('showPage called with pageId:', pageId);
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
            });
            // Show selected page
            const target = document.getElementById(pageId);
            console.log('Target element found:', target ? 'YES' : 'NO');
            if (target) {
                target.style.display = 'block';
                target.classList.add('active');
                console.log('Page', pageId, 'is now active');
            } else {
                console.error('Page', pageId, 'not found!');
            }
        }
        // Hide all pages (used by admin content manager flows)
        function hideAllPages() {
            // Hide all pages with .page class
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
            });
            
            // Hide any page containers
            document.querySelectorAll('.page-container').forEach(page => {
                page.classList.remove('active');
                page.style.display = 'none';
            });
            
            // Remove any dynamic hotel/restaurant detail pages
            const existingDetails = document.querySelectorAll('#hotelDetailPage, #restaurantDetailPage');
            existingDetails.forEach(detail => detail.remove());
        }

        function showWelcomePage() {
            hideAllPages();
            const welcomePage = document.getElementById('welcomePage');
            if (welcomePage) {
                welcomePage.classList.add('active');
                welcomePage.style.display = 'block';
                console.log('Welcome page displayed');
            } else {
                console.error('Welcome page not found');
                // Fallback to dashboard if welcome page missing
                showUserDashboard();
            }
            // Ensure admin fullscreen is removed
            const appContainer = document.querySelector('.app-container');
            if (appContainer) {
                appContainer.classList.remove('admin-fullscreen');
            }
        }

        function showLoginPage(type) {
            console.log('showLoginPage called with type:', type);
            console.log('Attempting to show page:', type === 'admin' ? 'adminLoginPage' : 'userLoginPage');
            if (type === 'admin') {
                showPage('adminLoginPage');
            } else {
                showPage('userLoginPage');
            }
            console.log('showLoginPage completed');
        }
        
        function showModuleManagerLogin() {
            showPage('moduleManagerLoginPage');
        }

        function showRegisterPage() {
            showPage('userRegisterPage');
        }

        function computeInitials(name, email) {
            const n = (name || '').trim();
            if (n) {
                const parts = n.split(/\s+/).filter(Boolean);
                if (parts.length === 1) return parts[0].substring(0, 2).toUpperCase();
                return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();
            }
            const e = (email || '').trim();
            if (e) return e[0].toUpperCase();
            return '--';
        }
        function personalizeUserUI() {
            try {
                const sRaw = localStorage.getItem('vl_session');
                if (!sRaw) return;
                const s = JSON.parse(sRaw);
                const name = s?.name || 'User';
                const email = s?.email || '';
                const avatar = document.getElementById('userAvatar');
                const nameSpan = document.getElementById('userDisplayName');
                const welcome = document.getElementById('welcomeBackText');
                if (avatar) avatar.textContent = computeInitials(name, email);
                if (nameSpan) nameSpan.textContent = name;
                if (welcome) {
                    // Base greeting from i18n without hardcoded names
                    const base = (t && typeof t === 'function') ? (t('welcome_back_user') || 'Welcome back') : 'Welcome back';
                    const clean = base.replace(/,?\s*John!?/i, '').trim();
                    welcome.textContent = `${clean}${name ? ', ' + name + '!' : '!'}`;
                }
            } catch {}
        }
        function showUserDashboard() {
            hideLoadingScreen(); // Hide loading screen when showing dashboard
            showPage('userDashboard');
            document.querySelector('.app-container').classList.remove('admin-fullscreen');
            personalizeUserUI();
        }

        function showLandingPage() {
            showPage('landingPage');
        }

        function showTermsPage() {
            showPage('termsPage');
        }

        function acceptTerms() {
            showAlert('✅ Terms accepted! Welcome to Visit Limbe!', 'success');
            setTimeout(() => {
                showPage('landingPage');
            }, 1500);
        }

        function showAdminDashboard() {
            showPage('adminDashboard');
            loadAdminStats();
            document.querySelector('.app-container').classList.add('admin-fullscreen');
        }
        // Basic dynamic admin stats updater
        function loadAdminStats() {
            try {
                const n = (base) => base + Math.floor(Math.random()*20);
                const cards = document.querySelectorAll('#adminDashboard .admin-stat-card .stat-number');
                if (cards && cards.length >= 4) {
                    cards[0].textContent = n(2800); // users
                    cards[1].textContent = n(520);  // bookings
                    cards[2].textContent = `$${n(28400)}`; // revenue
                    cards[3].textContent = 16; // active modules
                }
            } catch(e) { /* noop */ }
        }

        function showAdminContentManagement() {
            hideAllPages();
            document.getElementById('adminContentManagement').style.display = 'block';
        }

        // Enhanced Module Content Manager System
        function showModuleContentManager(moduleType) {
            // Special handling for Real Estate module
            if (moduleType === 'realestate') {
                showRealEstateAdminModule();
                return;
            }
            
            hideAllPages();
            document.getElementById('moduleContentManager').style.display = 'block';
            
            // Set current module context
            window.currentModule = moduleType;
            
            // Update header and navigation
            updateModuleManagerHeader(moduleType);
            
            // Load comprehensive module data
            loadModuleContent(moduleType);
            loadModuleItems(moduleType);
            loadModulePaymentSettings(moduleType);
            loadModuleMedia(moduleType);
            loadModuleAnalytics(moduleType);
            
            // Load module-specific features
            loadModuleSpecialFeatures(moduleType);
            
            // Show main content section by default
            showModuleSection('main-content');
            
            // Create module-specific modals
            createModuleModals(moduleType);
        }

        // Create personalized modals for each module
        function createModuleModals(moduleType) {
            const modalsConfig = {
                'booking': {
                    title: 'Gestion des Réservations - Hotels & Tours',
                    modals: [
                        {
                            id: 'addHotelModal',
                            title: 'Ajouter un Hôtel',
                            fields: [
                                { type: 'text', name: 'hotelName', label: 'Nom de l\'hôtel', required: true },
                                { type: 'text', name: 'location', label: 'Localisation', required: true },
                                { type: 'number', name: 'stars', label: 'Étoiles (1-5)', min: 1, max: 5 },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'file', name: 'images', label: 'Images de l\'hôtel', multiple: true },
                                { type: 'number', name: 'priceMin', label: 'Prix minimum (XAF)' },
                                { type: 'number', name: 'priceMax', label: 'Prix maximum (XAF)' },
                                { type: 'text', name: 'amenities', label: 'Équipements (séparés par virgule)' },
                                { type: 'text', name: 'contact', label: 'Contact/Téléphone' }
                            ]
                        },
                        {
                            id: 'manageRoomsModal',
                            title: 'Gérer les Chambres',
                            fields: [
                                { type: 'select', name: 'hotel', label: 'Sélectionner l\'hôtel', options: ['Atlantic Beach Resort', 'Mount Cameroon Hotel', 'Botanical Garden Lodge'] },
                                { type: 'text', name: 'roomType', label: 'Type de chambre', required: true },
                                { type: 'number', name: 'price', label: 'Prix par nuit (XAF)' },
                                { type: 'number', name: 'capacity', label: 'Capacité (personnes)' },
                                { type: 'text', name: 'features', label: 'Caractéristiques' },
                                { type: 'checkbox', name: 'available', label: 'Disponible' }
                            ]
                        },
                        {
                            id: 'bookingStatsModal',
                            title: 'Statistiques des Réservations',
                            content: 'Affichage des statistiques en temps réel des réservations'
                        }
                    ]
                },
                'shopping': {
                    title: 'Gestion du Shopping - Produits & Vendors',
                    modals: [
                        {
                            id: 'addProductModal',
                            title: 'Ajouter un Produit',
                            fields: [
                                { type: 'text', name: 'productName', label: 'Nom du produit', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Électronique', 'Vêtements', 'Alimentaire', 'Maison', 'Beauté', 'Sport'] },
                                { type: 'number', name: 'price', label: 'Prix (XAF)' },
                                { type: 'number', name: 'stock', label: 'Stock disponible' },
                                { type: 'textarea', name: 'description', label: 'Description du produit' },
                                { type: 'file', name: 'images', label: 'Images du produit', multiple: true },
                                { type: 'text', name: 'vendor', label: 'Vendeur/Boutique' },
                                { type: 'checkbox', name: 'featured', label: 'Produit vedette' }
                            ]
                        },
                        {
                            id: 'manageVendorsModal',
                            title: 'Gérer les Vendeurs',
                            fields: [
                                { type: 'text', name: 'vendorName', label: 'Nom du vendeur', required: true },
                                { type: 'text', name: 'shopName', label: 'Nom de la boutique' },
                                { type: 'text', name: 'location', label: 'Localisation' },
                                { type: 'text', name: 'contact', label: 'Contact/Téléphone' },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'select', name: 'status', label: 'Statut', options: ['Actif', 'Inactif', 'En attente'] }
                            ]
                        },
                        {
                            id: 'orderManagementModal',
                            title: 'Gestion des Commandes',
                            content: 'Interface de gestion des commandes et livraisons'
                        }
                    ]
                },
                'health': {
                    title: 'Gestion de la Santé - Hôpitaux & Cliniques',
                    modals: [
                        {
                            id: 'addHealthFacilityModal',
                            title: 'Ajouter un Établissement de Santé',
                            fields: [
                                { type: 'text', name: 'facilityName', label: 'Nom de l\'établissement', required: true },
                                { type: 'select', name: 'type', label: 'Type', options: ['Hôpital', 'Clinique', 'Centre de santé', 'Pharmacie', 'Laboratoire'] },
                                { type: 'text', name: 'address', label: 'Adresse complète' },
                                { type: 'text', name: 'phone', label: 'Téléphone principal' },
                                { type: 'text', name: 'emergency', label: 'Numéro d\'urgence' },
                                { type: 'text', name: 'specialties', label: 'Spécialités médicales' },
                                { type: 'select', name: 'availability', label: 'Disponibilité', options: ['24h/24', 'Jour seulement', 'Sur rendez-vous'] },
                                { type: 'checkbox', name: 'hasEmergency', label: 'Service d\'urgence' }
                            ]
                        },
                        {
                            id: 'manageDoctorsModal',
                            title: 'Gérer les Médecins',
                            fields: [
                                { type: 'text', name: 'doctorName', label: 'Nom du médecin', required: true },
                                { type: 'text', name: 'specialty', label: 'Spécialité' },
                                { type: 'select', name: 'facility', label: 'Établissement', options: [] },
                                { type: 'text', name: 'schedule', label: 'Horaires de consultation' },
                                { type: 'text', name: 'contact', label: 'Contact direct' }
                            ]
                        }
                    ]
                },
                'education': {
                    title: 'Gestion de l\'Éducation - Écoles & Universités',
                    modals: [
                        {
                            id: 'addSchoolModal',
                            title: 'Ajouter un Établissement Scolaire',
                            fields: [
                                { type: 'text', name: 'schoolName', label: 'Nom de l\'établissement', required: true },
                                { type: 'select', name: 'level', label: 'Niveau', options: ['Maternelle', 'Primaire', 'Secondaire', 'Supérieur', 'Formation professionnelle'] },
                                { type: 'text', name: 'address', label: 'Adresse' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'text', name: 'programs', label: 'Programmes/Filières' },
                                { type: 'number', name: 'capacity', label: 'Capacité d\'accueil' },
                                { type: 'checkbox', name: 'isPublic', label: 'École publique' }
                            ]
                        },
                        {
                            id: 'manageProgramsModal',
                            title: 'Gérer les Programmes',
                            fields: [
                                { type: 'select', name: 'school', label: 'Établissement', options: [] },
                                { type: 'text', name: 'programName', label: 'Nom du programme' },
                                { type: 'text', name: 'duration', label: 'Durée' },
                                { type: 'number', name: 'fees', label: 'Frais de scolarité (XAF)' },
                                { type: 'textarea', name: 'description', label: 'Description du programme' }
                            ]
                        },
                        {
                            id: 'addLanguageCenterModal',
                            title: 'Ajouter un Centre Linguistique',
                            fields: [
                                { type: 'text', name: 'centerName', label: 'Nom du centre', required: true },
                                { type: 'text', name: 'address', label: 'Adresse complète' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'text', name: 'website', label: 'Site web' },
                                { type: 'text', name: 'director', label: 'Directeur/Responsable' },
                                { type: 'text', name: 'languagesOffered', label: 'Langues enseignées (séparées par virgule)' },
                                { type: 'text', name: 'certifications', label: 'Certifications délivrées' },
                                { type: 'select', name: 'targetAudience', label: 'Public cible', options: ['Enfants', 'Adultes', 'Étudiants', 'Professionnels', 'Tous publics'] },
                                { type: 'text', name: 'schedule', label: 'Horaires d\'ouverture' },
                                { type: 'checkbox', name: 'onlineClasses', label: 'Cours en ligne disponibles' },
                                { type: 'checkbox', name: 'examPrep', label: 'Préparation aux examens internationaux' },
                                { type: 'file', name: 'images', label: 'Photos du centre', multiple: true }
                            ]
                        },
                        {
                            id: 'manageLanguageCoursesModal',
                            title: 'Gérer les Cours de Langues',
                            fields: [
                                { type: 'select', name: 'languageCenter', label: 'Centre linguistique', options: ['British Council Limbe', 'Alliance Française', 'Goethe Institut', 'Instituto Cervantes'] },
                                { type: 'select', name: 'language', label: 'Langue', options: ['Anglais', 'Français', 'Allemand', 'Espagnol', 'Chinois', 'Arabe', 'Italien', 'Portugais'] },
                                { type: 'select', name: 'level', label: 'Niveau', options: ['Débutant (A1)', 'Élémentaire (A2)', 'Intermédiaire (B1)', 'Intermédiaire avancé (B2)', 'Avancé (C1)', 'Maîtrise (C2)'] },
                                { type: 'text', name: 'courseName', label: 'Nom du cours', required: true },
                                { type: 'textarea', name: 'description', label: 'Description du cours' },
                                { type: 'number', name: 'duration', label: 'Durée (semaines)' },
                                { type: 'number', name: 'hoursPerWeek', label: 'Heures par semaine' },
                                { type: 'number', name: 'price', label: 'Prix du cours (XAF)' },
                                { type: 'text', name: 'schedule', label: 'Horaires' },
                                { type: 'number', name: 'maxStudents', label: 'Nombre maximum d\'étudiants' },
                                { type: 'text', name: 'instructor', label: 'Instructeur' },
                                { type: 'date', name: 'startDate', label: 'Date de début' },
                                { type: 'checkbox', name: 'certificateProvided', label: 'Certificat délivré' }
                            ]
                        },
                        {
                            id: 'manageLanguageInstructorsModal',
                            title: 'Gérer les Instructeurs de Langues',
                            fields: [
                                { type: 'text', name: 'instructorName', label: 'Nom de l\'instructeur', required: true },
                                { type: 'select', name: 'assignedCenter', label: 'Centre assigné', options: ['British Council Limbe', 'Alliance Française', 'Goethe Institut', 'Instituto Cervantes'] },
                                { type: 'text', name: 'nativeLanguage', label: 'Langue maternelle' },
                                { type: 'text', name: 'languagesSpoken', label: 'Langues parlées' },
                                { type: 'text', name: 'qualifications', label: 'Qualifications/Diplômes' },
                                { type: 'text', name: 'experience', label: 'Années d\'expérience' },
                                { type: 'text', name: 'specialization', label: 'Spécialisations' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'textarea', name: 'bio', label: 'Biographie professionnelle' },
                                { type: 'file', name: 'photo', label: 'Photo de profil' },
                                { type: 'checkbox', name: 'certified', label: 'Instructeur certifié' },
                                { type: 'checkbox', name: 'availableOnline', label: 'Disponible pour cours en ligne' }
                            ]
                        }
                    ]
                },
                'restaurants': {
                    title: 'Gestion des Restaurants - Menus & Réservations',
                    modals: [
                        {
                            id: 'addRestaurantModal',
                            title: 'Ajouter un Restaurant',
                            fields: [
                                { type: 'text', name: 'restaurantName', label: 'Nom du restaurant', required: true },
                                { type: 'select', name: 'cuisine', label: 'Type de cuisine', options: ['Camerounaise', 'Internationale', 'Française', 'Chinoise', 'Italienne', 'Fast-food'] },
                                { type: 'text', name: 'address', label: 'Adresse' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'text', name: 'hours', label: 'Horaires d\'ouverture' },
                                { type: 'number', name: 'capacity', label: 'Capacité (places)' },
                                { type: 'text', name: 'priceRange', label: 'Gamme de prix' },
                                { type: 'checkbox', name: 'delivery', label: 'Livraison disponible' },
                                { type: 'checkbox', name: 'reservation', label: 'Réservation requise' }
                            ]
                        },
                        {
                            id: 'manageMenuModal',
                            title: 'Gérer le Menu',
                            fields: [
                                { type: 'select', name: 'restaurant', label: 'Restaurant', options: ['Ocean Breeze Restaurant', 'Mount Cameroon Bistro', 'Limbe Local Kitchen'] },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Entrées', 'Plats principaux', 'Desserts', 'Boissons', 'Spécialités'] },
                                { type: 'text', name: 'dishName', label: 'Nom du plat', required: true },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'number', name: 'price', label: 'Prix (XAF)' },
                                { type: 'file', name: 'image', label: 'Photo du plat' },
                                { type: 'checkbox', name: 'available', label: 'Disponible' },
                                { type: 'checkbox', name: 'spicy', label: 'Plat épicé' }
                            ]
                        }
                    ]
                },
                'transport': {
                    title: 'Gestion du Transport - Véhicules & Routes',
                    modals: [
                        {
                            id: 'addTransportModal',
                            title: 'Ajouter un Service de Transport',
                            fields: [
                                { type: 'text', name: 'serviceName', label: 'Nom du service', required: true },
                                { type: 'select', name: 'type', label: 'Type de transport', options: ['Bus', 'Taxi', 'Moto-taxi', 'Location de voiture', 'Transport privé'] },
                                { type: 'text', name: 'routes', label: 'Trajets disponibles' },
                                { type: 'number', name: 'price', label: 'Prix (XAF)' },
                                { type: 'text', name: 'schedule', label: 'Horaires' },
                                { type: 'text', name: 'contact', label: 'Contact/Réservation' },
                                { type: 'number', name: 'capacity', label: 'Capacité (passagers)' },
                                { type: 'checkbox', name: 'available', label: 'Service actif' }
                            ]
                        }
                    ]
                },
                'events': {
                    title: 'Gestion des Événements - Festivals & Spectacles',
                    modals: [
                        {
                            id: 'addEventModal',
                            title: 'Ajouter un Événement',
                            fields: [
                                { type: 'text', name: 'eventName', label: 'Nom de l\'événement', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Festival', 'Concert', 'Spectacle', 'Sport', 'Culturel', 'Éducatif'] },
                                { type: 'date', name: 'date', label: 'Date de l\'événement' },
                                { type: 'time', name: 'time', label: 'Heure' },
                                { type: 'text', name: 'venue', label: 'Lieu' },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'number', name: 'ticketPrice', label: 'Prix du billet (XAF)' },
                                { type: 'number', name: 'capacity', label: 'Capacité d\'accueil' },
                                { type: 'file', name: 'poster', label: 'Affiche de l\'événement' }
                            ]
                        }
                    ]
                },
                'jobs': {
                    title: 'Gestion des Emplois - Offres & Candidatures',
                    modals: [
                        {
                            id: 'addJobModal',
                            title: 'Ajouter une Offre d\'Emploi',
                            fields: [
                                { type: 'text', name: 'jobTitle', label: 'Titre du poste', required: true },
                                { type: 'text', name: 'company', label: 'Entreprise' },
                                { type: 'select', name: 'category', label: 'Secteur', options: ['Administration', 'Informatique', 'Santé', 'Éducation', 'Commerce', 'Tourisme'] },
                                { type: 'select', name: 'type', label: 'Type de contrat', options: ['CDI', 'CDD', 'Stage', 'Freelance', 'Temps partiel'] },
                                { type: 'text', name: 'location', label: 'Lieu de travail' },
                                { type: 'number', name: 'salary', label: 'Salaire (XAF)' },
                                { type: 'textarea', name: 'description', label: 'Description du poste' },
                                { type: 'textarea', name: 'requirements', label: 'Exigences' },
                                { type: 'text', name: 'contact', label: 'Contact pour candidature' }
                            ]
                        }
                    ]
                },
                'realestate': {
                    title: 'Gestion Immobilière - Propriétés & Locations',
                    modals: [
                        {
                            id: 'addPropertyModal',
                            title: 'Ajouter une Propriété',
                            fields: [
                                { type: 'text', name: 'propertyTitle', label: 'Titre de la propriété', required: true },
                                { type: 'select', name: 'type', label: 'Type de propriété', options: ['Maison', 'Appartement', 'Villa', 'Studio', 'Bureau', 'Terrain'] },
                                { type: 'select', name: 'transaction', label: 'Type de transaction', options: ['Vente', 'Location', 'Location courte durée'] },
                                { type: 'text', name: 'address', label: 'Adresse' },
                                { type: 'number', name: 'price', label: 'Prix (XAF)' },
                                { type: 'number', name: 'bedrooms', label: 'Nombre de chambres' },
                                { type: 'number', name: 'bathrooms', label: 'Nombre de salles de bain' },
                                { type: 'number', name: 'area', label: 'Superficie (m²)' },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'file', name: 'images', label: 'Photos de la propriété', multiple: true }
                            ]
                        }
                    ]
                },
                'streaming': {
                    title: 'Gestion du Streaming - Vidéos & Chaînes',
                    modals: [
                        {
                            id: 'addVideoModal',
                            title: 'Ajouter une Vidéo',
                            fields: [
                                { type: 'text', name: 'videoTitle', label: 'Titre de la vidéo', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Tourisme', 'Culture', 'Éducatif', 'Divertissement', 'Actualités'] },
                                { type: 'file', name: 'videoFile', label: 'Fichier vidéo' },
                                { type: 'file', name: 'thumbnail', label: 'Miniature' },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'text', name: 'tags', label: 'Mots-clés (séparés par virgule)' },
                                { type: 'checkbox', name: 'featured', label: 'Vidéo en vedette' }
                            ]
                        }
                    ]
                },
                'smartgro': {
                    title: 'Gestion SmartGro - Agriculture & Produits',
                    modals: [
                        {
                            id: 'addAgriProductModal',
                            title: 'Ajouter un Produit Agricole',
                            fields: [
                                { type: 'text', name: 'productName', label: 'Nom du produit', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Légumes', 'Fruits', 'Céréales', 'Tubercules', 'Épices', 'Produits transformés'] },
                                { type: 'number', name: 'price', label: 'Prix par kg (XAF)' },
                                { type: 'text', name: 'farmer', label: 'Producteur/Ferme' },
                                { type: 'text', name: 'location', label: 'Origine/Localisation' },
                                { type: 'select', name: 'season', label: 'Saison', options: ['Toute l\'année', 'Saison sèche', 'Saison des pluies'] },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'checkbox', name: 'organic', label: 'Produit bio' }
                            ]
                        }
                    ]
                },
                'callcenter': {
                    title: 'Gestion Call Center - Contacts d\'Urgence',
                    modals: [
                        {
                            id: 'addEmergencyContactModal',
                            title: 'Ajouter un Contact d\'Urgence',
                            fields: [
                                { type: 'text', name: 'serviceName', label: 'Nom du service', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Police', 'Pompiers', 'Ambulance', 'Sécurité', 'Dépannage', 'Autre urgence'] },
                                { type: 'text', name: 'phone', label: 'Numéro principal' },
                                { type: 'text', name: 'alternatePhone', label: 'Numéro alternatif' },
                                { type: 'text', name: 'address', label: 'Adresse du service' },
                                { type: 'select', name: 'availability', label: 'Disponibilité', options: ['24h/24', 'Jour seulement', 'Sur appel'] },
                                { type: 'textarea', name: 'notes', label: 'Notes importantes' }
                            ]
                        }
                    ]
                },
                'ticketing': {
                    title: 'Gestion Ticketing - Billets & Réservations',
                    modals: [
                        {
                            id: 'addTicketEventModal',
                            title: 'Ajouter un Événement Ticketing',
                            fields: [
                                { type: 'text', name: 'eventName', label: 'Nom de l\'événement', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Concert', 'Spectacle', 'Festival', 'Sport', 'Conférence', 'Théâtre', 'Cinéma'] },
                                { type: 'date', name: 'eventDate', label: 'Date de l\'événement', required: true },
                                { type: 'time', name: 'eventTime', label: 'Heure de début' },
                                { type: 'text', name: 'venue', label: 'Lieu/Salle', required: true },
                                { type: 'text', name: 'address', label: 'Adresse complète' },
                                { type: 'number', name: 'totalCapacity', label: 'Capacité totale', required: true },
                                { type: 'textarea', name: 'description', label: 'Description de l\'événement' },
                                { type: 'file', name: 'eventPoster', label: 'Affiche de l\'événement' },
                                { type: 'checkbox', name: 'featured', label: 'Événement en vedette' }
                            ]
                        },
                        {
                            id: 'manageTicketTypesModal',
                            title: 'Gérer les Types de Billets',
                            fields: [
                                { type: 'select', name: 'event', label: 'Sélectionner l\'événement', options: ['Concert Jazz Night', 'Festival Culturel Limbe', 'Match de Football Local'] },
                                { type: 'text', name: 'ticketType', label: 'Type de billet', required: true },
                                { type: 'number', name: 'price', label: 'Prix du billet (XAF)', required: true },
                                { type: 'number', name: 'quantity', label: 'Nombre de billets disponibles' },
                                { type: 'textarea', name: 'benefits', label: 'Avantages inclus' },
                                { type: 'select', name: 'section', label: 'Section/Zone', options: ['VIP', 'Tribune', 'Parterre', 'Balcon', 'Général'] },
                                { type: 'checkbox', name: 'transferable', label: 'Billet transférable' },
                                { type: 'checkbox', name: 'refundable', label: 'Remboursable' }
                            ]
                        },
                        {
                            id: 'ticketSalesModal',
                            title: 'Ventes de Billets',
                            fields: [
                                { type: 'select', name: 'event', label: 'Événement', options: ['Concert Jazz Night', 'Festival Culturel Limbe', 'Match de Football Local'] },
                                { type: 'select', name: 'ticketType', label: 'Type de billet', options: ['VIP', 'Standard', 'Étudiant', 'Groupe'] },
                                { type: 'number', name: 'quantity', label: 'Nombre de billets', min: 1 },
                                { type: 'text', name: 'customerName', label: 'Nom du client', required: true },
                                { type: 'text', name: 'customerPhone', label: 'Téléphone du client', required: true },
                                { type: 'email', name: 'customerEmail', label: 'Email du client' },
                                { type: 'select', name: 'paymentMethod', label: 'Mode de paiement', options: ['MTN Mobile Money', 'Orange Money', 'Espèces', 'Carte bancaire'] },
                                { type: 'textarea', name: 'specialRequests', label: 'Demandes spéciales' }
                            ]
                        },
                        {
                            id: 'ticketValidationModal',
                            title: 'Validation des Billets',
                            fields: [
                                { type: 'text', name: 'ticketCode', label: 'Code du billet', required: true },
                                { type: 'text', name: 'eventSearch', label: 'Rechercher par événement' },
                                { type: 'date', name: 'validationDate', label: 'Date de validation' },
                                { type: 'select', name: 'entryGate', label: 'Porte d\'entrée', options: ['Entrée Principale', 'Entrée VIP', 'Entrée Groupe', 'Entrée Artistes'] },
                                { type: 'textarea', name: 'notes', label: 'Notes de validation' }
                            ]
                        },
                        {
                            id: 'eventStatisticsModal',
                            title: 'Statistiques des Événements',
                            content: `
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="stat-card">
                                            <h6>Billets Vendus</h6>
                                            <div class="stat-number">1,234</div>
                                            <small class="text-success">+15% ce mois</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card">
                                            <h6>Revenus Générés</h6>
                                            <div class="stat-number">2,450,000 XAF</div>
                                            <small class="text-success">+8% ce mois</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card">
                                            <h6>Événements Actifs</h6>
                                            <div class="stat-number">12</div>
                                            <small class="text-info">3 cette semaine</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="stat-card">
                                            <h6>Taux d'Occupation</h6>
                                            <div class="stat-number">78%</div>
                                            <small class="text-warning">Moyenne mensuelle</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <h6>Événements les Plus Populaires</h6>
                                    <div class="list-group">
                                        <div class="list-group-item d-flex justify-content-between">
                                            <span>Concert Jazz Night</span>
                                            <span class="badge bg-primary">856 billets</span>
                                        </div>
                                        <div class="list-group-item d-flex justify-content-between">
                                            <span>Festival Culturel Limbe</span>
                                            <span class="badge bg-primary">643 billets</span>
                                        </div>
                                        <div class="list-group-item d-flex justify-content-between">
                                            <span>Match de Football Local</span>
                                            <span class="badge bg-primary">432 billets</span>
                                        </div>
                                    </div>
                                </div>
                            `
                        }
                    ]
                },
                'culture': {
                    title: 'Gestion Culture - Sites & Patrimoine',
                    modals: [
                        {
                            id: 'addCulturalSiteModal',
                            title: 'Ajouter un Site Culturel',
                            fields: [
                                { type: 'text', name: 'siteName', label: 'Nom du site', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Site historique', 'Musée', 'Monument', 'Centre culturel', 'Galerie d\'art', 'Théâtre', 'Site archéologique'] },
                                { type: 'text', name: 'address', label: 'Adresse complète', required: true },
                                { type: 'textarea', name: 'description', label: 'Description du site' },
                                { type: 'textarea', name: 'history', label: 'Histoire et patrimoine' },
                                { type: 'text', name: 'period', label: 'Période historique' },
                                { type: 'text', name: 'openingHours', label: 'Horaires d\'ouverture' },
                                { type: 'number', name: 'entryFee', label: 'Prix d\'entrée (XAF)' },
                                { type: 'text', name: 'contact', label: 'Contact/Téléphone' },
                                { type: 'file', name: 'images', label: 'Photos du site', multiple: true },
                                { type: 'checkbox', name: 'guidedTours', label: 'Visites guidées disponibles' },
                                { type: 'checkbox', name: 'wheelchairAccess', label: 'Accessible aux personnes à mobilité réduite' }
                            ]
                        },
                        {
                            id: 'manageCulturalEventsModal',
                            title: 'Gérer les Événements Culturels',
                            fields: [
                                { type: 'text', name: 'eventName', label: 'Nom de l\'événement', required: true },
                                { type: 'select', name: 'eventType', label: 'Type d\'événement', options: ['Festival', 'Exposition', 'Spectacle', 'Conférence', 'Atelier', 'Cérémonie traditionnelle'] },
                                { type: 'select', name: 'venue', label: 'Lieu', options: ['Musée de Limbe', 'Centre culturel', 'Place publique', 'Plage de Limbe', 'Mont Cameroun'] },
                                { type: 'date', name: 'eventDate', label: 'Date de l\'événement' },
                                { type: 'time', name: 'startTime', label: 'Heure de début' },
                                { type: 'time', name: 'endTime', label: 'Heure de fin' },
                                { type: 'textarea', name: 'description', label: 'Description de l\'événement' },
                                { type: 'number', name: 'ticketPrice', label: 'Prix du billet (XAF)' },
                                { type: 'text', name: 'organizer', label: 'Organisateur' },
                                { type: 'file', name: 'poster', label: 'Affiche de l\'événement' }
                            ]
                        },
                        {
                            id: 'culturalGuideModal',
                            title: 'Gérer les Guides Culturels',
                            fields: [
                                { type: 'text', name: 'guideName', label: 'Nom du guide', required: true },
                                { type: 'text', name: 'languages', label: 'Langues parlées' },
                                { type: 'text', name: 'specialties', label: 'Spécialités culturelles' },
                                { type: 'text', name: 'experience', label: 'Années d\'expérience' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'number', name: 'hourlyRate', label: 'Tarif horaire (XAF)' },
                                { type: 'textarea', name: 'bio', label: 'Biographie du guide' },
                                { type: 'file', name: 'photo', label: 'Photo du guide' },
                                { type: 'checkbox', name: 'certified', label: 'Guide certifié' }
                            ]
                        }
                    ]
                },
                'maps': {
                    title: 'Gestion Maps - Navigation & Localisation',
                    modals: [
                        {
                            id: 'addLocationModal',
                            title: 'Ajouter une Localisation',
                            fields: [
                                { type: 'text', name: 'locationName', label: 'Nom du lieu', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Hôtel', 'Restaurant', 'Site touristique', 'Hôpital', 'École', 'Banque', 'Commerce', 'Transport', 'Service public'] },
                                { type: 'text', name: 'address', label: 'Adresse complète', required: true },
                                { type: 'number', name: 'latitude', label: 'Latitude', step: 'any' },
                                { type: 'number', name: 'longitude', label: 'Longitude', step: 'any' },
                                { type: 'textarea', name: 'description', label: 'Description du lieu' },
                                { type: 'text', name: 'phone', label: 'Téléphone' },
                                { type: 'text', name: 'website', label: 'Site web' },
                                { type: 'text', name: 'openingHours', label: 'Horaires d\'ouverture' },
                                { type: 'file', name: 'photos', label: 'Photos du lieu', multiple: true },
                                { type: 'checkbox', name: 'featured', label: 'Lieu en vedette' },
                                { type: 'checkbox', name: 'parkingAvailable', label: 'Parking disponible' }
                            ]
                        },
                        {
                            id: 'manageRoutesModal',
                            title: 'Gérer les Itinéraires',
                            fields: [
                                { type: 'text', name: 'routeName', label: 'Nom de l\'itinéraire', required: true },
                                { type: 'select', name: 'routeType', label: 'Type d\'itinéraire', options: ['Touristique', 'Transport public', 'Randonnée', 'Historique', 'Gastronomique'] },
                                { type: 'text', name: 'startPoint', label: 'Point de départ', required: true },
                                { type: 'text', name: 'endPoint', label: 'Point d\'arrivée', required: true },
                                { type: 'text', name: 'waypoints', label: 'Points d\'intérêt (séparés par virgule)' },
                                { type: 'number', name: 'distance', label: 'Distance (km)' },
                                { type: 'number', name: 'duration', label: 'Durée estimée (minutes)' },
                                { type: 'select', name: 'difficulty', label: 'Difficulté', options: ['Facile', 'Modéré', 'Difficile'] },
                                { type: 'textarea', name: 'description', label: 'Description de l\'itinéraire' },
                                { type: 'text', name: 'recommendations', label: 'Recommandations' }
                            ]
                        },
                        {
                            id: 'emergencyLocationsModal',
                            title: 'Gérer les Lieux d\'Urgence',
                            fields: [
                                { type: 'text', name: 'serviceName', label: 'Nom du service d\'urgence', required: true },
                                { type: 'select', name: 'emergencyType', label: 'Type d\'urgence', options: ['Hôpital', 'Police', 'Pompiers', 'Ambulance', 'Pharmacie 24h', 'Dépannage'] },
                                { type: 'text', name: 'address', label: 'Adresse', required: true },
                                { type: 'text', name: 'phone', label: 'Numéro d\'urgence', required: true },
                                { type: 'text', name: 'alternatePhone', label: 'Numéro alternatif' },
                                { type: 'select', name: 'availability', label: 'Disponibilité', options: ['24h/24', 'Jour seulement', 'Sur appel'] },
                                { type: 'number', name: 'latitude', label: 'Latitude', step: 'any' },
                                { type: 'number', name: 'longitude', label: 'Longitude', step: 'any' },
                                { type: 'textarea', name: 'specialServices', label: 'Services spécialisés' }
                            ]
                        }
                    ]
                },
                'gallery': {
                    title: 'Gestion Gallery - Photos & Vidéos',
                    modals: [
                        {
                            id: 'addMediaCollectionModal',
                            title: 'Ajouter une Collection Média',
                            fields: [
                                { type: 'text', name: 'collectionName', label: 'Nom de la collection', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie', options: ['Tourisme', 'Culture', 'Nature', 'Architecture', 'Événements', 'Portrait', 'Paysages', 'Ville'] },
                                { type: 'textarea', name: 'description', label: 'Description de la collection' },
                                { type: 'text', name: 'photographer', label: 'Photographe/Créateur' },
                                { type: 'date', name: 'dateCreated', label: 'Date de création' },
                                { type: 'text', name: 'location', label: 'Lieu de prise de vue' },
                                { type: 'file', name: 'coverImage', label: 'Image de couverture' },
                                { type: 'file', name: 'mediaFiles', label: 'Fichiers média', multiple: true },
                                { type: 'text', name: 'tags', label: 'Mots-clés (séparés par virgule)' },
                                { type: 'checkbox', name: 'featured', label: 'Collection en vedette' },
                                { type: 'checkbox', name: 'publicAccess', label: 'Accès public' }
                            ]
                        },
                        {
                            id: 'manageAlbumsModal',
                            title: 'Gérer les Albums',
                            fields: [
                                { type: 'text', name: 'albumTitle', label: 'Titre de l\'album', required: true },
                                { type: 'select', name: 'albumType', label: 'Type d\'album', options: ['Photos', 'Vidéos', 'Mixte'] },
                                { type: 'select', name: 'theme', label: 'Thème', options: ['Mont Cameroun', 'Plages de Limbe', 'Centre-ville', 'Marchés locaux', 'Festivals', 'Vie quotidienne'] },
                                { type: 'textarea', name: 'description', label: 'Description de l\'album' },
                                { type: 'text', name: 'curator', label: 'Curateur/Responsable' },
                                { type: 'date', name: 'creationDate', label: 'Date de création' },
                                { type: 'select', name: 'privacy', label: 'Confidentialité', options: ['Public', 'Privé', 'Membres seulement'] },
                                { type: 'checkbox', name: 'allowComments', label: 'Autoriser les commentaires' },
                                { type: 'checkbox', name: 'allowDownload', label: 'Autoriser le téléchargement' }
                            ]
                        },
                        {
                            id: 'uploadMediaModal',
                            title: 'Uploader des Médias',
                            fields: [
                                { type: 'select', name: 'targetAlbum', label: 'Album de destination', options: ['Mont Cameroun Collection', 'Plages de Limbe', 'Centre-ville', 'Nouveau album'] },
                                { type: 'file', name: 'mediaUpload', label: 'Fichiers à uploader', multiple: true },
                                { type: 'text', name: 'title', label: 'Titre du média' },
                                { type: 'textarea', name: 'description', label: 'Description' },
                                { type: 'text', name: 'location', label: 'Lieu de prise' },
                                { type: 'date', name: 'dateTaken', label: 'Date de prise' },
                                { type: 'text', name: 'author', label: 'Auteur/Photographe' },
                                { type: 'text', name: 'tags', label: 'Tags (séparés par virgule)' },
                                { type: 'select', name: 'quality', label: 'Qualité', options: ['Haute résolution', 'Résolution standard', 'Optimisé web'] }
                            ]
                        }
                    ]
                },
                'services': {
                    title: 'Gestion Services - Services Locaux',
                    modals: [
                        {
                            id: 'addLocalServiceModal',
                            title: 'Ajouter un Service Local',
                            fields: [
                                { type: 'text', name: 'serviceName', label: 'Nom du service', required: true },
                                { type: 'select', name: 'category', label: 'Catégorie de service', options: ['Nettoyage', 'Réparation', 'Beauté & Bien-être', 'Juridique', 'Conseil', 'Maintenance', 'Livraison', 'Sécurité', 'Jardinage'] },
                                { type: 'text', name: 'providerName', label: 'Nom du prestataire', required: true },
                                { type: 'text', name: 'address', label: 'Adresse du service' },
                                { type: 'text', name: 'phone', label: 'Téléphone', required: true },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'textarea', name: 'description', label: 'Description du service' },
                                { type: 'text', name: 'serviceArea', label: 'Zone de service' },
                                { type: 'number', name: 'basePrice', label: 'Prix de base (XAF)' },
                                { type: 'text', name: 'workingHours', label: 'Horaires de travail' },
                                { type: 'checkbox', name: 'emergencyService', label: 'Service d\'urgence 24h' },
                                { type: 'checkbox', name: 'licensed', label: 'Service agréé' },
                                { type: 'file', name: 'images', label: 'Photos du service', multiple: true }
                            ]
                        },
                        {
                            id: 'manageServiceProvidersModal',
                            title: 'Gérer les Prestataires',
                            fields: [
                                { type: 'text', name: 'providerName', label: 'Nom du prestataire', required: true },
                                { type: 'text', name: 'businessName', label: 'Nom de l\'entreprise' },
                                { type: 'select', name: 'specialization', label: 'Spécialisation', options: ['Multi-services', 'Nettoyage résidentiel', 'Réparation électronique', 'Plomberie', 'Électricité', 'Coiffure', 'Esthétique', 'Juridique'] },
                                { type: 'text', name: 'experience', label: 'Années d\'expérience' },
                                { type: 'text', name: 'certifications', label: 'Certifications/Diplômes' },
                                { type: 'text', name: 'phone', label: 'Téléphone', required: true },
                                { type: 'email', name: 'email', label: 'Email' },
                                { type: 'text', name: 'serviceRadius', label: 'Rayon d\'intervention (km)' },
                                { type: 'number', name: 'rating', label: 'Note moyenne', min: 1, max: 5 },
                                { type: 'select', name: 'status', label: 'Statut', options: ['Actif', 'Inactif', 'En attente', 'Suspendu'] }
                            ]
                        },
                        {
                            id: 'serviceBookingModal',
                            title: 'Gérer les Réservations de Services',
                            fields: [
                                { type: 'select', name: 'service', label: 'Service demandé', options: ['Nettoyage maison', 'Réparation électronique', 'Coiffure à domicile', 'Consultation juridique'] },
                                { type: 'select', name: 'provider', label: 'Prestataire assigné', options: [] },
                                { type: 'text', name: 'customerName', label: 'Nom du client', required: true },
                                { type: 'text', name: 'customerPhone', label: 'Téléphone client', required: true },
                                { type: 'text', name: 'serviceAddress', label: 'Adresse du service' },
                                { type: 'date', name: 'serviceDate', label: 'Date du service' },
                                { type: 'time', name: 'serviceTime', label: 'Heure du service' },
                                { type: 'textarea', name: 'specialRequests', label: 'Demandes spéciales' },
                                { type: 'number', name: 'estimatedPrice', label: 'Prix estimé (XAF)' },
                                { type: 'select', name: 'status', label: 'Statut', options: ['En attente', 'Confirmé', 'En cours', 'Terminé', 'Annulé'] }
                            ]
                        }
                    ]
                },
                'finance': {
                    title: 'Gestion Finance - Services Bancaires',
                    modals: [
                        {
                            id: 'addBankModal',
                            title: 'Ajouter une Banque',
                            fields: [
                                { type: 'text', name: 'bankName', label: 'Nom de la banque', required: true },
                                { type: 'text', name: 'branchName', label: 'Nom de l\'agence' },
                                { type: 'text', name: 'address', label: 'Adresse complète', required: true },
                                { type: 'text', name: 'phone', label: 'Téléphone principal' },
                                { type: 'text', name: 'customerService', label: 'Service clientèle' },
                                { type: 'text', name: 'openingHours', label: 'Horaires d\'ouverture' },
                                { type: 'text', name: 'services', label: 'Services disponibles' },
                                { type: 'checkbox', name: 'hasATM', label: 'Distributeur ATM disponible' },
                                { type: 'checkbox', name: 'mobileBanking', label: 'Services bancaires mobiles' },
                                { type: 'checkbox', name: 'internetBanking', label: 'Banque en ligne' },
                                { type: 'checkbox', name: 'currencyExchange', label: 'Change de devises' },
                                { type: 'file', name: 'logo', label: 'Logo de la banque' }
                            ]
                        },
                        {
                            id: 'manageATMModal',
                            title: 'Gérer les Distributeurs ATM',
                            fields: [
                                { type: 'select', name: 'bankName', label: 'Banque propriétaire', options: ['Afriland First Bank', 'Ecobank', 'UBA', 'SGBC', 'CCA Bank'] },
                                { type: 'text', name: 'location', label: 'Localisation de l\'ATM', required: true },
                                { type: 'text', name: 'address', label: 'Adresse exacte' },
                                { type: 'number', name: 'latitude', label: 'Latitude', step: 'any' },
                                { type: 'number', name: 'longitude', label: 'Longitude', step: 'any' },
                                { type: 'select', name: 'availability', label: 'Disponibilité', options: ['24h/24', 'Heures d\'ouverture banque', 'Heures limitées'] },
                                { type: 'text', name: 'maxWithdrawal', label: 'Retrait maximum (XAF)' },
                                { type: 'checkbox', name: 'cashDeposit', label: 'Dépôt d\'espèces' },
                                { type: 'checkbox', name: 'balanceInquiry', label: 'Consultation solde' },
                                { type: 'checkbox', name: 'miniStatement', label: 'Mini relevé' },
                                { type: 'select', name: 'status', label: 'Statut', options: ['Opérationnel', 'Hors service', 'Maintenance'] }
                            ]
                        },
                        {
                            id: 'financialServicesModal',
                            title: 'Gérer les Services Financiers',
                            fields: [
                                { type: 'text', name: 'serviceName', label: 'Nom du service', required: true },
                                { type: 'select', name: 'serviceType', label: 'Type de service', options: ['Prêt personnel', 'Prêt immobilier', 'Assurance', 'Épargne', 'Investissement', 'Change de devise', 'Transfert d\'argent'] },
                                { type: 'text', name: 'provider', label: 'Prestataire du service' },
                                { type: 'textarea', name: 'description', label: 'Description du service' },
                                { type: 'text', name: 'requirements', label: 'Conditions requises' },
                                { type: 'number', name: 'minAmount', label: 'Montant minimum (XAF)' },
                                { type: 'number', name: 'maxAmount', label: 'Montant maximum (XAF)' },
                                { type: 'number', name: 'interestRate', label: 'Taux d\'intérêt (%)' },
                                { type: 'text', name: 'processingTime', label: 'Délai de traitement' },
                                { type: 'text', name: 'contactInfo', label: 'Informations de contact' }
                            ]
                        },
                        {
                            id: 'mobileMoneyModal',
                            title: 'Gérer Mobile Money',
                            fields: [
                                { type: 'select', name: 'provider', label: 'Opérateur', options: ['MTN Mobile Money', 'Orange Money', 'Express Union', 'EU Mobile Money'] },
                                { type: 'text', name: 'agentName', label: 'Nom de l\'agent', required: true },
                                { type: 'text', name: 'agentCode', label: 'Code agent' },
                                { type: 'text', name: 'location', label: 'Localisation', required: true },
                                { type: 'text', name: 'phone', label: 'Téléphone agent' },
                                { type: 'text', name: 'openingHours', label: 'Horaires de service' },
                                { type: 'text', name: 'servicesOffered', label: 'Services proposés' },
                                { type: 'number', name: 'maxTransactionLimit', label: 'Limite de transaction (XAF)' },
                                { type: 'checkbox', name: 'cashIn', label: 'Dépôt d\'argent' },
                                { type: 'checkbox', name: 'cashOut', label: 'Retrait d\'argent' },
                                { type: 'checkbox', name: 'billPayment', label: 'Paiement de factures' },
                                { type: 'checkbox', name: 'transferMoney', label: 'Transfert d\'argent' }
                            ]
                        }
                    ]
                }
            };

            const config = modalsConfig[moduleType];
            if (!config) return;

            // Remove existing modals
            document.querySelectorAll('.dynamic-modal').forEach(modal => modal.remove());

            // Create modals for this module
            config.modals.forEach(modalConfig => {
                createDynamicModal(modalConfig);
            });

            // Add module-specific action buttons
            addModuleActionButtons(moduleType, config);
        }

        // Create dynamic modal
        function createDynamicModal(config) {
            const modalHTML = `
                <div class="modal fade dynamic-modal" id="${config.id}" tabindex="-1">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">${config.title}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                ${config.content || createFormFields(config.fields)}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                                <button type="button" class="btn btn-primary" onclick="submitModal('${config.id}')">Enregistrer</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }

        // Create form fields
        function createFormFields(fields) {
            if (!fields) return '<p>Contenu de la modale à personnaliser</p>';
            
            return fields.map(field => {
                switch(field.type) {
                    case 'text':
                    case 'email':
                    case 'number':
                    case 'date':
                    case 'time':
                        return `
                            <div class="mb-3">
                                <label class="form-label">${field.label}</label>
                                <input type="${field.type}" class="form-control" name="${field.name}" 
                                       ${field.required ? 'required' : ''} 
                                       ${field.min ? `min="${field.min}"` : ''} 
                                       ${field.max ? `max="${field.max}"` : ''}>
                            </div>
                        `;
                    case 'textarea':
                        return `
                            <div class="mb-3">
                                <label class="form-label">${field.label}</label>
                                <textarea class="form-control" name="${field.name}" rows="3"></textarea>
                            </div>
                        `;
                    case 'select':
                        return `
                            <div class="mb-3">
                                <label class="form-label">${field.label}</label>
                                <select class="form-control" name="${field.name}">
                                    <option value="">Sélectionner...</option>
                                    ${field.options.map(option => `<option value="${option}">${option}</option>`).join('')}
                                </select>
                            </div>
                        `;
                    case 'checkbox':
                        return `
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" name="${field.name}" id="${field.name}">
                                <label class="form-check-label" for="${field.name}">${field.label}</label>
                            </div>
                        `;
                    case 'file':
                        return `
                            <div class="mb-3">
                                <label class="form-label">${field.label}</label>
                                <input type="file" class="form-control" name="${field.name}" 
                                       ${field.multiple ? 'multiple' : ''}>
                            </div>
                        `;
                    default:
                        return '';
                }
            }).join('');
        }

        // Add module-specific action buttons
        function addModuleActionButtons(moduleType, config) {
            const actionContainer = document.querySelector('#moduleContentManager .dashboard-content');
            if (!actionContainer) return;

            // Remove existing action buttons
            const existingActions = document.querySelector('.module-action-buttons');
            if (existingActions) existingActions.remove();

            const actionButtonsHTML = `
                <div class="module-action-buttons mb-4">
                    <div class="card">
                        <div class="card-header">
                            <h6><i class="fas fa-tools"></i> Actions Rapides - ${config.title}</h6>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                ${config.modals.map(modal => `
                                    <div class="col-md-4 mb-2">
                                        <button class="btn btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#${modal.id}">
                                            <i class="fas fa-plus"></i> ${modal.title}
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            actionContainer.insertAdjacentHTML('afterbegin', actionButtonsHTML);
        }

        // Submit modal function
        function submitModal(modalId) {
            const modal = document.getElementById(modalId);
            const formData = new FormData();
            
            // Collect form data
            modal.querySelectorAll('input, select, textarea').forEach(input => {
                if (input.type === 'checkbox') {
                    formData.append(input.name, input.checked);
                } else if (input.type === 'file') {
                    if (input.files.length > 0) {
                        for (let file of input.files) {
                            formData.append(input.name, file);
                        }
                    }
                } else {
                    formData.append(input.name, input.value);
                }
            });

            // Process the form data (this would typically send to a server)
            console.log('Submitting modal data:', modalId, formData);
            
            // Show success message
            showAlert(`✅ ${modal.querySelector('.modal-title').textContent} - Données enregistrées avec succès!`, 'success');
            
            // Close modal
            const bootstrapModal = bootstrap.Modal.getInstance(modal);
            if (bootstrapModal) {
                bootstrapModal.hide();
            }
            
            // Refresh module data
            if (window.currentModule) {
                loadModuleContent(window.currentModule);
            }
        }

        // Load Module-Specific Features
        function loadModuleSpecialFeatures(moduleType) {
            const config = getModuleConfig(moduleType);
            const featuresContainer = document.getElementById('moduleSpecialFeatures');
            
            if (featuresContainer && config.features) {
                let featuresHtml = '';
                config.features.slice(0, 6).forEach(feature => {
                    const featureSlug = feature.toLowerCase().replace(/\s+/g, '');
                    featuresHtml += `
                        <div class="col-md-4">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-${getFeatureIcon(feature)}"></i>
                                </div>
                                <h6>${feature}</h6>
                                <button class="btn btn-sm btn-outline-primary" onclick="executeSpecialFeature('${moduleType}', '${feature}')">
                                    Access Feature
                                </button>
                            </div>
                        </div>
                    `;
                });
                featuresContainer.innerHTML = featuresHtml;
            }
        }

        // Get Icon for Feature
        function getFeatureIcon(feature) {
            const icons = {
                'Room Management': 'bed',
                'Booking Calendar': 'calendar-alt',
                'Guest Check-in/out': 'user-check',
                'Pricing Control': 'dollar-sign',
                'Occupancy Reports': 'chart-bar',
                'Product Catalog': 'shopping-cart',
                'Inventory Management': 'boxes',
                'Order Processing': 'check-circle',
                'Vendor Management': 'users',
                'Sales Analytics': 'chart-line',
                'Appointment Booking': 'calendar-check',
                'Patient Records': 'user-md',
                'Medical History': 'clipboard-list',
                'Prescription Management': 'pills',
                'Emergency Services': 'ambulance',
                'Course Management': 'book',
                'Student Enrollment': 'user-graduate',
                'Grade Tracking': 'chart-line',
                'Fee Management': 'credit-card',
                'Online Learning': 'laptop',
                'Vehicle Fleet Management': 'truck',
                'Route Planning': 'route',
                'Driver Management': 'id-card',
                'Fuel Tracking': 'gas-pump',
                'Maintenance Schedules': 'wrench'
            };
            return icons[feature] || 'cog';
        }

        function showContentCategory(category) {
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected category
            if (category === 'main') {
                document.getElementById('mainContentSection').style.display = 'block';
            } else if (category === 'subcategories') {
                document.getElementById('subcategoriesSection').style.display = 'block';
                loadSubcategories();
            } else if (category === 'media') {
                document.getElementById('mediaSection').style.display = 'block';
                loadMediaLibrary();
            }
            
            // Update button states
            document.querySelectorAll('.btn-group .btn').forEach(btn => {
                btn.classList.remove('btn-primary', 'btn-secondary', 'btn-success');
                btn.classList.add('btn-outline-primary');
            });
            event.target.classList.remove('btn-outline-primary');
            if (category === 'main') event.target.classList.add('btn-primary');
            else if (category === 'subcategories') event.target.classList.add('btn-secondary');
            else if (category === 'media') event.target.classList.add('btn-success');
        }

        // ============== COMPLETE MODULE SYSTEM ==============

        // Global module state
        window.currentModule = null;
        window.currentModuleData = [];

        // Module configuration with complete definitions
        const moduleConfigs = {
            booking: {
                title: 'Hotels & Booking',
                titleFr: 'Hôtels et Réservations',
                description: 'Hotels, guest houses, and accommodation services in Limbe',
                descriptionFr: 'Hôtels, maisons d\'hôtes et services d\'hébergement à Limbe',
                icon: 'hotel',
                color: '#6366f1',
                features: ['Hotel Listings', 'Room Booking', 'Reviews', 'Photos']
            },
            shopping: {
                title: 'Shopping & Marketplace',
                titleFr: 'Shopping et Marché',
                description: 'Local products, crafts, and marketplace services',
                descriptionFr: 'Produits locaux, artisanat et services de marché',
                icon: 'shopping_bag',
                color: '#8b5cf6',
                features: ['Product Listings', 'Local Crafts', 'Online Orders', 'Vendor Profiles']
            },
            health: {
                title: 'Health & Medical',
                titleFr: 'Santé et Médical',
                description: 'Hospitals, clinics, and medical services',
                descriptionFr: 'Hôpitaux, cliniques et services médicaux',
                icon: 'local_hospital',
                color: '#ef4444',
                features: ['Hospital Directory', 'Clinic Listings', 'Emergency Services', 'Doctor Profiles']
            },
            education: {
                title: 'Education & Learning',
                titleFr: 'Éducation et Apprentissage',
                description: 'Schools, universities, and educational programs',
                descriptionFr: 'Écoles, universités et programmes éducatifs',
                icon: 'school',
                color: '#10b981',
                features: ['School Directory', 'University Info', 'Course Listings', 'Educational Resources']
            },
            transport: {
                title: 'Transport & Logistics',
                titleFr: 'Transport et Logistique',
                description: 'Vehicle rentals, routes, and transport services',
                descriptionFr: 'Location de véhicules, itinéraires et services de transport',
                icon: 'directions_car',
                color: '#f59e0b',
                features: ['Car Rentals', 'Route Planning', 'Public Transport', 'Taxi Services']
            },
            culture: {
                title: 'Culture & Heritage',
                titleFr: 'Culture et Patrimoine',
                description: 'Cultural sites, events, and traditional activities',
                descriptionFr: 'Sites culturels, événements et activités traditionnelles',
                icon: 'account_balance',
                color: '#8b5cf6',
                features: ['Historic Sites', 'Cultural Events', 'Art Galleries', 'Traditional Arts']
            },
            maps: {
                title: 'Maps & Navigation',
                titleFr: 'Cartes et Navigation',
                description: 'Location services and navigation assistance',
                descriptionFr: 'Services de localisation et assistance à la navigation',
                icon: 'map',
                color: '#06b6d4',
                features: ['Interactive Maps', 'POI Directory', 'Navigation', 'Location Sharing']
            },
            gallery: {
                title: 'Photo & Video Gallery',
                titleFr: 'Galerie Photos et Vidéos',
                description: 'Media collections and visual content of Limbe',
                descriptionFr: 'Collections de médias et contenu visuel de Limbé',
                icon: 'photo_library',
                color: '#ec4899',
                features: ['Photo Gallery', 'Video Collection', 'Virtual Tours', 'Media Upload']
            },
            smartgro: {
                title: 'SmartGro Agriculture',
                titleFr: 'Agriculture SmartGro',
                description: 'Agricultural products, farming services, and agro-tech',
                descriptionFr: 'Produits agricoles, services agricoles et agro-technologie',
                icon: 'eco',
                color: '#22c55e',
                features: ['Farm Products', 'Agricultural Services', 'Market Prices', 'Farming Tips']
            },
            streaming: {
                title: 'Video Streaming',
                titleFr: 'Streaming Vidéo',
                description: 'Local videos, documentaries, and entertainment content',
                descriptionFr: 'Vidéos locales, documentaires et contenu de divertissement',
                icon: 'play_circle',
                color: '#f97316',
                features: ['Video Library', 'Live Streaming', 'Documentaries', 'Entertainment']
            },
            realestate: {
                title: 'Real Estate',
                titleFr: 'Immobilier',
                description: 'Property listings, rentals, and real estate services',
                descriptionFr: 'Annonces immobilières, locations et services immobiliers',
                icon: 'home',
                color: '#3b82f6',
                features: ['Property Listings', 'Rental Search', 'Property Management', 'Real Estate Agents']
            },
            services: {
                title: 'Services & Utilities',
                titleFr: 'Services et Utilités',
                description: 'Local services, utilities, and professional services',
                descriptionFr: 'Services locaux, utilités et services professionnels',
                icon: 'build',
                color: '#6b7280',
                features: ['Service Directory', 'Professional Services', 'Utility Services', 'Maintenance']
            },
            finance: {
                title: 'Finance & Banking',
                titleFr: 'Finance et Banque',
                description: 'Banking services, financial institutions, and money services',
                descriptionFr: 'Services bancaires, institutions financières et services monétaires',
                icon: 'account_balance_wallet',
                color: '#059669',
                features: ['Bank Directory', 'ATM Locations', 'Money Transfer', 'Financial Services']
            },
            jobs: {
                title: 'Jobs & Employment',
                titleFr: 'Emplois et Recrutement',
                description: 'Job listings, career opportunities, and employment services',
                descriptionFr: 'Offres d\'emploi, opportunités de carrière et services d\'emploi',
                icon: 'work',
                color: '#7c3aed',
                features: ['Job Listings', 'Career Opportunities', 'Resume Building', 'Employer Profiles']
            },
            events: {
                title: 'Events & Activities',
                titleFr: 'Événements et Activités',
                description: 'Local events, festivals, and community activities',
                descriptionFr: 'Événements locaux, festivals et activités communautaires',
                icon: 'event',
                color: '#dc2626',
                features: ['Event Calendar', 'Festival Guide', 'Community Events', 'Event Booking']
            },
            callcenter: {
                title: 'Support & Help Center',
                titleFr: 'Support et Centre d\'Aide',
                description: 'Customer support, help desk, and assistance services',
                descriptionFr: 'Support client, service d\'aide et services d\'assistance',
                icon: 'support_agent',
                color: '#0891b2',
                features: ['Help Desk', 'Customer Support', 'FAQ', 'Live Chat']
            }
        };

        // Enhanced module loading with DataService integration
        async function loadModuleContent(moduleType) {
            try {
                window.currentModule = moduleType;
                const config = moduleConfigs[moduleType];
                
                if (!config) {
                    console.error(`Module configuration not found for: ${moduleType}`);
                    return;
                }

                // Show loading state
                showModuleLoading(moduleType);
                
                // Get data from DataService
                const moduleData = await dataService.getModuleData(moduleType);
                window.currentModuleData = moduleData;
                
                // Render module based on type
                await renderModuleContent(moduleType, config, moduleData);
                
                console.log(`✅ Module ${moduleType} loaded with ${moduleData.length} items`);
                
            } catch (error) {
                console.error(`Error loading module ${moduleType}:`, error);
                showModuleError(moduleType, error);
            }
        }

        function showModuleLoading(moduleType) {
            const content = document.getElementById('content');
            if (!content) return;
            
            content.innerHTML = `
                <div class="module-loading">
                    <div class="loading">
                        <div class="loading-spinner"></div>
                        <span>Loading ${moduleConfigs[moduleType]?.title || moduleType}...</span>
                    </div>
                </div>
            `;
        }

        function showModuleError(moduleType, error) {
            const content = document.getElementById('content');
            if (!content) return;
            
            content.innerHTML = `
                <div class="module-error">
                    <div class="empty-state">
                        <i class="material-icons">error_outline</i>
                        <h3>Error Loading Module</h3>
                        <p>Unable to load ${moduleConfigs[moduleType]?.title || moduleType}. Please try again.</p>
                        <button class="btn-mobile btn-primary" onclick="loadModuleContent('${moduleType}')">
                            <i class="material-icons">refresh</i>
                            Retry
                        </button>
                    </div>
                </div>
            `;
        }

        async function renderModuleContent(moduleType, config, data) {
            const content = document.getElementById('content');
            if (!content) return;

            const isAdmin = checkAdminStatus();
            const currentLang = getCurrentLanguage();
            
            content.innerHTML = `
                <div class="module-container" data-module="${moduleType}">
                    <div class="module-header">
                        <div class="module-header-content">
                            <button class="btn-back" onclick="showUserDashboard()">
                                <i class="material-icons">arrow_back</i>
                            </button>
                            <div class="module-header-info">
                                <div class="module-header-icon" style="background: ${config.color}">
                                    <i class="material-icons">${config.icon}</i>
                                </div>
                                <div>
                                    <h1 class="module-title">${currentLang === 'fr' ? config.titleFr : config.title}</h1>
                                    <p class="module-subtitle">${currentLang === 'fr' ? config.descriptionFr : config.description}</p>
                                </div>
                            </div>
                            ${isAdmin ? `
                                <button class="btn-mobile btn-primary" onclick="showAddItemModal('${moduleType}')">
                                    <i class="material-icons">add</i>
                                    Add Item
                                </button>
                            ` : ''}
                        </div>
                        <div class="module-actions">
                            <button class="btn-module-action" onclick="searchInModule('${moduleType}')">
                                <i class="material-icons">search</i>
                            </button>
                            <button class="btn-module-action" onclick="filterModule('${moduleType}')">
                                <i class="material-icons">filter_list</i>
                            </button>
                            <button class="btn-module-action" onclick="refreshModule('${moduleType}')">
                                <i class="material-icons">refresh</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        ${await renderModuleGrid(moduleType, data)}
                    </div>
                </div>
            `;

            // Add event listeners for touch gestures
            addModuleTouchHandlers(moduleType);
        }

        async function renderModuleGrid(moduleType, data) {
            if (!data || data.length === 0) {
                return `
                    <div class="empty-state">
                        <i class="material-icons">${moduleConfigs[moduleType]?.icon || 'inbox'}</i>
                        <h3>No Items Yet</h3>
                        <p>No ${moduleConfigs[moduleType]?.title || moduleType} items have been added yet.</p>
                        ${checkAdminStatus() ? `
                            <button class="btn-mobile btn-primary" onclick="showAddItemModal('${moduleType}')">
                                <i class="material-icons">add</i>
                                Add First Item
                            </button>
                        ` : ''}
                    </div>
                `;
            }

            const cards = data.map(item => createModuleItemCard(moduleType, item)).join('');
            
            return `
                <div class="module-grid">
                    ${cards}
                </div>
            `;
        }

        function createModuleItemCard(moduleType, item) {
            const config = moduleConfigs[moduleType];
            const isAdmin = checkAdminStatus();
            
            // Module-specific card rendering
            switch (moduleType) {
                case 'booking':
                    return createHotelCard(item, isAdmin);
                case 'shopping':
                    return createProductCard(item, isAdmin);
                case 'jobs':
                    return createJobCard(item, isAdmin);
                case 'events':
                    return createEventCard(item, isAdmin);
                case 'realestate':
                    return createPropertyCard(item, isAdmin);
                case 'services':
                    return createServiceCard(item, isAdmin);
                case 'finance':
                    return createFinanceCard(item, isAdmin);
                case 'health':
                    return createHealthCard(item, isAdmin);
                case 'education':
                    return createEducationCard(item, isAdmin);
                case 'transport':
                    return createTransportCard(item, isAdmin);
                case 'culture':
                    return createCultureCard(item, isAdmin);
                case 'maps':
                    return createMapCard(item, isAdmin);
                case 'gallery':
                    return createGalleryCard(item, isAdmin);
                case 'smartgro':
                    return createSmartgroCard(item, isAdmin);
                case 'streaming':
                    return createStreamingCard(item, isAdmin);
                case 'callcenter':
                    return createSupportCard(item, isAdmin);
                default:
                    return createGenericCard(moduleType, item, isAdmin);
            }
    }
        function loadSubcategories() {
            // Simulate loading subcategories from database
            const subcategoriesHtml = `
                <div class="card mb-2">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-1">Hotels & Accommodation</h6>
                                <small class="text-muted">Luxury and budget hotels in Limbe</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary me-2" onclick="editSubcategory('hotels')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteSubcategory('hotels')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mb-2">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h6 class="mb-1">Tour Packages</h6>
                                <small class="text-muted">Guided tours and adventure packages</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary me-2" onclick="editSubcategory('tours')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteSubcategory('tours')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('subcategoriesList').innerHTML = subcategoriesHtml;
        }

        function loadMediaLibrary() {
            // Simulate loading media from database
            const mediaHtml = `
                <div class="media-item" onclick="selectMedia('hotel1.jpg')">
                    <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300" alt="Hotel">
                    <div class="media-overlay">
                        <div class="media-actions">
                            <button class="btn btn-sm btn-light" onclick="editMedia('hotel1.jpg')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="deleteMedia('hotel1.jpg')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="media-item" onclick="selectMedia('beach1.jpg')">
                    <img src="https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=300" alt="Beach">
                    <div class="media-overlay">
                        <div class="media-actions">
                            <button class="btn btn-sm btn-light" onclick="editMedia('beach1.jpg')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="deleteMedia('beach1.jpg')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="media-item" onclick="selectMedia('culture1.jpg')">
                    <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300" alt="Culture">
                    <div class="media-overlay">
                        <div class="media-actions">
                            <button class="btn btn-sm btn-light" onclick="editMedia('culture1.jpg')">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="deleteMedia('culture1.jpg')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('adminMediaGrid').innerHTML = mediaHtml;
        }

        function addSubcategory() {
            const name = document.getElementById('subCategoryName').value;
            const icon = document.getElementById('subCategoryIcon').value;
            const description = document.getElementById('subCategoryDescription').value;
            
            if (name && description) {
                // Add to database
                console.log('Adding subcategory:', { name, icon, description });
                showAlert('Subcategory added successfully!', 'success');
                
                // Clear form
                document.getElementById('subCategoryName').value = '';
                document.getElementById('subCategoryIcon').value = '';
                document.getElementById('subCategoryDescription').value = '';
                
                // Reload subcategories
                loadSubcategories();
            } else {
                showAlert('Please fill in all required fields', 'error');
            }
        }

        function editSubcategory(id) {
            showAlert('Edit subcategory functionality connected to database!', 'info');
        }

        function deleteSubcategory(id) {
            if (confirm('Are you sure you want to delete this subcategory?')) {
                // Delete from database
                console.log('Deleting subcategory:', id);
                showAlert('Subcategory deleted successfully!', 'success');
                loadSubcategories();
            }
        }

        function triggerAdminMediaUpload() {
            document.getElementById('adminMediaInput').click();
        }

        function filterMedia(type) {
            // Filter media grid based on type
            console.log('Filtering media by:', type);
            showAlert(`Showing ${type} media`, 'info');
        }

        function selectMedia(filename) {
            console.log('Selected media:', filename);
            showAlert(`Selected: ${filename}`, 'info');
        }

        function editMedia(filename) {
            event.stopPropagation();
            showAlert(`Edit media: ${filename}`, 'info');
        }

        function deleteMedia(filename) {
            event.stopPropagation();
            if (confirm(`Are you sure you want to delete ${filename}?`)) {
                console.log('Deleting media:', filename);
                showAlert('Media deleted successfully!', 'success');
                loadMediaLibrary();
            }
        }

        function saveMainContent() {
            const title = document.getElementById('moduleTitle').value;
            const description = document.getElementById('moduleDescription').value;
            const icon = document.getElementById('moduleIcon').value;
            
            if (title && description) {
                // Save to database
                console.log('Saving main content:', { title, description, icon });
                showAlert('Main content saved successfully!', 'success');
            } else {
                showAlert('Please fill in all required fields', 'error');
            }
        }

        function saveAllChanges() {
            showAlert('All changes saved successfully!', 'success');
        }

        function previewModule() {
            showAlert('Module preview functionality connected to live app!', 'info');
        }

        function showIconPicker() {
            showAlert('Icon picker with 500+ FontAwesome icons available!', 'info');
        }

        function showBulkImageManager() {
            showAlert('Bulk Image Manager: Upload & manage multiple images at once!', 'info');
        }

        function showVideoManager() {
            showAlert('Video Manager: Upload, edit and organize video content!', 'info');
        }

        function showContentTemplates() {
            showAlert('Content Templates: Pre-designed layouts for quick setup!', 'info');
        }

        function showMediaAnalytics() {
            showAlert('Media Analytics: View usage stats and performance metrics!', 'info');
        }

        // Enhanced Module Loading with Real Images
        async function loadModulesWithImages() {
            try {
                const { moduleImageService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleImageService.getModuleImages();
                
                if (result.success) {
                    renderModulesGrid(result.images);
                } else {
                    // Fallback to default modules if database fails
                    renderDefaultModules();
                }
            } catch (error) {
                console.error('Error loading module images:', error);
                renderDefaultModules();
            }
        }

    function renderModulesGrid(moduleImages) {
            const modulesGrid = document.getElementById('modulesGrid');
            if (!modulesGrid) return;

            const modulesHtml = moduleImages.map(module => {
                const onClick = getModuleClickFunction(module.module_name);
                return `
            <div class="module-card" data-module-key="${module.module_name}" onclick="${onClick}">
                        <div class="module-icon">
                            <img src="${module.icon_url}" alt="${module.display_name}" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                            <i class="fas fa-${getDefaultIcon(module.module_name)}" style="display:none;"></i>
                        </div>
                        <h6>${module.display_name}</h6>
                        <p>${module.description}</p>
                    </div>
                `;
            }).join('');

            modulesGrid.innerHTML = modulesHtml;
        // Apply settings and icon overrides after render
        try { applyAppSettings(); } catch(e) { console.warn('applyAppSettings failed', e); }
        try { applyAdminIconOverrides(); } catch(e) { console.warn('applyAdminIconOverrides failed', e); }
        }

        function renderDefaultModules() {
            const modulesGrid = document.getElementById('modulesGrid');
            if (!modulesGrid) return;

            const defaultModules = [
                { name: 'booking-streaming', title: 'Booking & Streaming', desc: 'Book hotels & watch to earn', icon: 'hotels.svg', onClick: 'showBookingStreamingModule()' },
                { name: 'shopping', title: 'Shopping', desc: 'Local marketplace', icon: 'shopping.svg', onClick: 'showModule(\'shopping\')' },
                { name: 'health', title: 'Health', desc: 'Medical services', icon: 'support.svg', onClick: 'showModule(\'health\')' },
                { name: 'education', title: 'Education', desc: 'School directory', icon: 'tourism.svg', onClick: 'showModule(\'education\')' },
                { name: 'transport', title: 'Transport', desc: 'Get around', icon: 'tourism.svg', onClick: 'showModule(\'transport\')' },
                { name: 'culture', title: 'Culture', desc: 'Local heritage', icon: 'events.svg', onClick: 'showCultureModule()' },
                { name: 'maps', title: 'Maps', desc: 'Navigate Limbe', icon: 'tourism.svg', onClick: 'showMapsModule()' },
                { name: 'gallery', title: 'Gallery', desc: 'Limbe photos', icon: 'events.svg', onClick: 'showGalleryModule()' },
                { name: 'smartgro', title: 'SmartGro', desc: 'Agricultural Assistant', icon: 'tourism.svg', onClick: 'showSmartGroModule()' },
                { name: 'realestate', title: 'Real Estate', desc: 'Properties', icon: 'real-estate.svg', onClick: 'showRealEstateModule()' },
                { name: 'services', title: 'Services', desc: 'Local providers', icon: 'support.svg', onClick: 'showServicesModule()' },
                { name: 'finance', title: 'Finance', desc: 'Banking services', icon: 'shopping.svg', onClick: 'showFinanceModule()' },
                { name: 'jobs', title: 'Jobs', desc: 'Work opportunities', icon: 'jobs.svg', onClick: 'showJobsModule()' },
                { name: 'events', title: 'Events', desc: 'Local happenings', icon: 'events.svg', onClick: 'showEventsModule()' },
                { name: 'callcenter', title: 'Call Center', desc: 'Support services', icon: 'support.svg', onClick: 'showModule(\'callcenter\')' }
            ];

            const modulesHtml = defaultModules.map(module => `
                <div class="module-card" data-module-key="${module.name}" onclick="${module.onClick}">
                    <div class="module-icon">
                        <img src="assets/images/categories/${module.icon}" alt="${module.title}" class="category-image" onerror="this.src='assets/images/categories/tourism.svg'">
                    </div>
                    <h6>${module.title}</h6>
                    <p>${module.desc}</p>
                </div>
            `).join('');

            modulesGrid.innerHTML = modulesHtml;
            // Apply settings and icon overrides after render
            try { applyAppSettings(); } catch(e) { console.warn('applyAppSettings failed', e); }
            try { applyAdminIconOverrides(); } catch(e) { console.warn('applyAdminIconOverrides failed', e); }
        }

        function getModuleClickFunction(moduleName) {
            const specialModules = {
                'smartgro': 'showSmartGroModule()',
                'streaming': 'showWatchEarnModule()',
                'realestate': 'showRealEstateModule()',
                'services': 'showServicesModule()',
                'finance': 'showFinanceModule()',
                'culture': 'showCultureModule()',
                'maps': 'showMapsModule()',
                'gallery': 'showGalleryModule()',
                'jobs': 'showJobsModule()',
                'events': 'showEventsModule()'
            };
            
            return specialModules[moduleName] || `showModule('${moduleName}')`;
        }

        function getDefaultIcon(moduleName) {
            const iconMap = {
                'booking': 'hotel',
                'shopping': 'shopping-bag',
                'health': 'heartbeat',
                'education': 'graduation-cap',
                'transport': 'car',
                'culture': 'landmark',
                'maps': 'map-marked-alt',
                'gallery': 'images',
                'services': 'tools',
                'finance': 'money-bill-wave',
                'events': 'calendar-alt',
                'jobs': 'briefcase',
                'realestate': 'building',
                'streaming': 'play-circle',
                'smartgro': 'seedling',
                'callcenter': 'phone'
            };
            
            return iconMap[moduleName] || 'circle';
        }

        // Enhanced Admin Module Image Management
        async function showAdminModuleImageManager(moduleName) {
            hideAllPages();
            document.getElementById('moduleContentManager').style.display = 'block';
            document.getElementById('moduleManagerTitle').textContent = `${moduleName.charAt(0).toUpperCase() + moduleName.slice(1)} Image Manager`;
            
            // Load current module image
            try {
                const { moduleImageService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleImageService.getModuleImage(moduleName);
                
                if (result.success) {
                    // Populate form with current data
                    document.getElementById('moduleTitle').value = result.image.display_name;
                    document.getElementById('moduleDescription').value = result.image.description;
                    
                    // Show current image preview
                    showCurrentImagePreview(result.image.image_url, result.image.icon_url);
                }
            } catch (error) {
                console.error('Error loading module image:', error);
            }
        }

        function showCurrentImagePreview(imageUrl, iconUrl) {
            const previewHtml = `
                <div class="current-image-preview mb-3">
                    <h6>Current Images</h6>
                    <div class="row">
                        <div class="col-6">
                            <label class="form-label">Module Image</label>
                            <img src="${imageUrl}" class="img-fluid rounded" style="max-height: 150px;">
                        </div>
                        <div class="col-6">
                            <label class="form-label">Icon Image</label>
                            <img src="${iconUrl}" class="img-fluid rounded" style="max-height: 150px;">
                        </div>
                    </div>
                </div>
            `;
            
            const mainContentSection = document.getElementById('mainContentSection');
            if (mainContentSection) {
                mainContentSection.insertAdjacentHTML('afterbegin', previewHtml);
            }
        }

        // Enhanced media upload for admin
        async function handleAdminModuleImageUpload(file, moduleName) {
            try {
                const { moduleImageService } = await import('./js/advanced-supabase-services.js');
                
                showAlert('Uploading image...', 'info');
                
                const uploadResult = await moduleImageService.uploadModuleMedia(file, moduleName);
                
                if (uploadResult.success) {
                    // Update module image in database
                    const updateResult = await moduleImageService.updateModuleImage(
                        moduleName, 
                        uploadResult.url, 
                        uploadResult.url
                    );
                    
                    if (updateResult.success) {
                        showAlert('Module image updated successfully!', 'success');
                        // Refresh modules grid for all users
                        loadModulesWithImages();
                        // Show updated preview
                        showCurrentImagePreview(uploadResult.url, uploadResult.url);
                    } else {
                        showAlert('Failed to update module image: ' + updateResult.error, 'error');
                    }
                } else {
                    showAlert('Failed to upload image: ' + uploadResult.error, 'error');
                }
            } catch (error) {
                console.error('Error uploading module image:', error);
                showAlert('Error uploading image: ' + error.message, 'error');
            }
        }

        // Initialize modules on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadModulesWithImages();
        });

        // Module image upload functions
        function triggerModuleImageUpload() {
            document.getElementById('moduleImageInput').click();
        }

        function handleModuleImageUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Validate file
            if (!file.type.startsWith('image/')) {
                showAlert('Please select an image file', 'error');
                return;
            }

            if (file.size > 5 * 1024 * 1024) { // 5MB limit
                showAlert('File size too large. Maximum 5MB allowed.', 'error');
                return;
            }

            // Get current module name from the title
            const titleElement = document.getElementById('moduleManagerTitle');
            const moduleName = titleElement ? titleElement.textContent.toLowerCase().replace(' content manager', '').replace(' image manager', '') : 'unknown';

            // Upload the image
            handleAdminModuleImageUpload(file, moduleName);
        }

        // Enhanced content management functions
        function showModuleImageManager(moduleName) {
            showModuleContentManager(moduleName);
            // Switch to media section by default for image management
            setTimeout(() => {
                showContentCategory('media');
            }, 100);
        }

        // Module Items Management Functions
        let currentModuleName = '';
        let currentItemId = null;

        function loadModuleContent(moduleType) {
            currentModuleName = moduleType;
            
            // Load module-specific content from database (uses global `moduleConfigs` declared earlier)
        
        // ============== MODULE-SPECIFIC CARD CREATORS ==============

        function createHotelCard(hotel, isAdmin) {
            const rating = hotel.rating || 0;
            const stars = '★'.repeat(Math.floor(rating)) + '☆'.repeat(5 - Math.floor(rating));
            
            return `
                <div class="item-card hotel-card" data-id="${hotel.id}">
                    <div class="item-card-image">
                        <img src="${hotel.image_url || hotel.imageUrl || 'assets/images/placeholder-hotel.jpg'}" 
                             alt="${hotel.name}" 
                             onerror="this.src='assets/images/placeholder-hotel.jpg'">
                        <div class="item-card-badge">${hotel.price || '0'} FCFA/night</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${hotel.name || 'Hotel Name'}</h3>
                        <p class="item-card-description">${hotel.description || 'Hotel description'}</p>
                        <div class="item-card-meta">
                            <div class="rating">
                                <span class="stars">${stars}</span>
                                <span class="rating-value">${rating.toFixed(1)}</span>
                            </div>
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${hotel.location || 'Limbe'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewHotelDetails(${hotel.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="bookHotel(${hotel.id})">
                            <i class="material-icons">book_online</i>
                            Book Now
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editHotel(${hotel.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteHotel(${hotel.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createProductCard(product, isAdmin) {
            return `
                <div class="item-card product-card" data-id="${product.id}">
                    <div class="item-card-image">
                        <img src="${product.image_url || product.imageUrl || 'assets/images/placeholder-product.jpg'}" 
                             alt="${product.name}" 
                             onerror="this.src='assets/images/placeholder-product.jpg'">
                        <div class="item-card-badge">${product.price || '0'} FCFA</div>
                        ${product.discount ? `<div class="discount-badge">-${product.discount}%</div>` : ''}
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${product.name || 'Product Name'}</h3>
                        <p class="item-card-description">${product.description || 'Product description'}</p>
                        <div class="item-card-meta">
                            <div class="category">
                                <i class="material-icons">category</i>
                                <span>${product.category || 'General'}</span>
                            </div>
                            <div class="vendor">
                                <i class="material-icons">store</i>
                                <span>${product.vendor || 'Local Vendor'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewProductDetails(${product.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="addToCart(${product.id})">
                            <i class="material-icons">shopping_cart</i>
                            Add to Cart
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editProduct(${product.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteProduct(${product.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createJobCard(job, isAdmin) {
            const jobType = job.type || job.employment_type || 'Full-time';
            const salary = job.salary || job.salary_range || 'Negotiable';
            
            return `
                <div class="item-card job-card" data-id="${job.id}">
                    <div class="item-card-header">
                        <div class="job-type-badge">${jobType}</div>
                        <div class="salary">${salary}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${job.title || 'Job Title'}</h3>
                        <p class="company">${job.company || job.company_name || 'Company Name'}</p>
                        <p class="item-card-description">${job.description || 'Job description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${job.location || 'Limbe'}</span>
                            </div>
                            <div class="posted-date">
                                <i class="material-icons">schedule</i>
                                <span>${formatDate(job.created_at || job.posted_date)}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewJobDetails(${job.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="applyToJob(${job.id})">
                            <i class="material-icons">send</i>
                            Apply Now
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editJob(${job.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteJob(${job.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createEventCard(event, isAdmin) {
            const eventDate = new Date(event.date || event.event_date);
            const isUpcoming = eventDate > new Date();
            
            return `
                <div class="item-card event-card" data-id="${event.id}">
                    <div class="item-card-image">
                        <img src="${event.image_url || event.imageUrl || 'assets/images/placeholder-event.jpg'}" 
                             alt="${event.name}" 
                             onerror="this.src='assets/images/placeholder-event.jpg'">
                        <div class="event-date-badge">
                            <span class="day">${eventDate.getDate()}</span>
                            <span class="month">${eventDate.toLocaleDateString('en', {month: 'short'})}</span>
                        </div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${event.name || event.title || 'Event Name'}</h3>
                        <p class="item-card-description">${event.description || 'Event description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${event.location || event.venue || 'Limbe'}</span>
                            </div>
                            <div class="time">
                                <i class="material-icons">schedule</i>
                                <span>${event.time || '18:00'}</span>
                            </div>
                            <div class="price">
                                <i class="material-icons">local_offer</i>
                                <span>${event.price || 'Free'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewEventDetails(${event.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        ${isUpcoming ? `
                            <button class="btn-action btn-success" onclick="rsvpToEvent(${event.id})">
                                <i class="material-icons">event_available</i>
                                RSVP
                            </button>
                        ` : `
                            <button class="btn-action btn-secondary" disabled>
                                <i class="material-icons">event_busy</i>
                                Past Event
                            </button>
                        `}
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editEvent(${event.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteEvent(${event.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createPropertyCard(property, isAdmin) {
            const propertyType = property.type || property.property_type || 'Property';
            
            return `
                <div class="item-card property-card" data-id="${property.id}">
                    <div class="item-card-image">
                        <img src="${property.image_url || property.imageUrl || 'assets/images/placeholder-property.jpg'}" 
                             alt="${property.name || property.title}" 
                             onerror="this.src='assets/images/placeholder-property.jpg'">
                        <div class="property-type-badge">${propertyType}</div>
                        <div class="item-card-badge">${property.price || '0'} FCFA${property.rental_type === 'monthly' ? '/month' : ''}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${property.name || property.title || 'Property Name'}</h3>
                        <p class="item-card-description">${property.description || 'Property description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${property.location || property.address || 'Limbe'}</span>
                            </div>
                            <div class="rooms">
                                <i class="material-icons">hotel</i>
                                <span>${property.bedrooms || 1} bed, ${property.bathrooms || 1} bath</span>
                            </div>
                            <div class="area">
                                <i class="material-icons">square_foot</i>
                                <span>${property.area || 'N/A'} m²</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewPropertyDetails(${property.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="inquireProperty(${property.id})">
                            <i class="material-icons">contact_mail</i>
                            Inquire
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editProperty(${property.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteProperty(${property.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createServiceCard(service, isAdmin) {
            return `
                <div class="item-card service-card" data-id="${service.id}">
                    <div class="item-card-image">
                        <img src="${service.image_url || service.imageUrl || 'assets/images/placeholder-service.jpg'}" 
                             alt="${service.name}" 
                             onerror="this.src='assets/images/placeholder-service.jpg'">
                        <div class="service-category-badge">${service.category || 'Service'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${service.name || service.title || 'Service Name'}</h3>
                        <p class="provider">${service.provider || service.company || 'Service Provider'}</p>
                        <p class="item-card-description">${service.description || 'Service description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${service.location || 'Limbe'}</span>
                            </div>
                            <div class="price">
                                <i class="material-icons">local_offer</i>
                                <span>${service.price || 'Contact for price'}</span>
                            </div>
                            <div class="availability">
                                <i class="material-icons">schedule</i>
                                <span>${service.availability || '24/7'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewServiceDetails(${service.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="contactService(${service.id})">
                            <i class="material-icons">contact_phone</i>
                            Contact
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editService(${service.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteService(${service.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createFinanceCard(finance, isAdmin) {
            return `
                <div class="item-card finance-card" data-id="${finance.id}">
                    <div class="item-card-header">
                        <div class="finance-type-badge">${finance.type || 'Financial Service'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${finance.name || finance.title || 'Financial Service'}</h3>
                        <p class="institution">${finance.institution || finance.company || 'Financial Institution'}</p>
                        <p class="item-card-description">${finance.description || 'Financial service description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${finance.location || 'Limbe'}</span>
                            </div>
                            <div class="hours">
                                <i class="material-icons">schedule</i>
                                <span>${finance.hours || 'Mon-Fri 8AM-5PM'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewFinanceDetails(${finance.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="contactFinance(${finance.id})">
                            <i class="material-icons">account_balance</i>
                            Visit Branch
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editFinance(${finance.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteFinance(${finance.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        // Additional card creators for other modules...
        function createHealthCard(health, isAdmin) {
            const facilityType = health.type || health.facility_type || 'Health Facility';
            
            return `
                <div class="item-card health-card" data-id="${health.id}">
                    <div class="item-card-image">
                        <img src="${health.image_url || 'assets/images/placeholder-health.jpg'}" 
                             alt="${health.name}" 
                             onerror="this.src='assets/images/placeholder-health.jpg'">
                        <div class="facility-type-badge">${facilityType}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${health.name || 'Health Facility'}</h3>
                        <p class="item-card-description">${health.description || 'Health facility description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${health.location || 'Limbe'}</span>
                            </div>
                            <div class="emergency">
                                <i class="material-icons">${health.emergency_services ? 'local_hospital' : 'schedule'}</i>
                                <span>${health.emergency_services ? '24/7 Emergency' : 'Regular Hours'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewHealthDetails(${health.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="contactHealth(${health.id})">
                            <i class="material-icons">local_hospital</i>
                            Contact
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editHealth(${health.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteHealth(${health.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createEducationCard(education, isAdmin) {
            return `
                <div class="item-card education-card" data-id="${education.id}">
                    <div class="item-card-image">
                        <img src="${education.image_url || 'assets/images/placeholder-education.jpg'}" 
                             alt="${education.name}" 
                             onerror="this.src='assets/images/placeholder-education.jpg'">
                        <div class="education-type-badge">${education.type || 'Educational Institution'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${education.name || 'Educational Institution'}</h3>
                        <p class="item-card-description">${education.description || 'Educational institution description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${education.location || 'Limbe'}</span>
                            </div>
                            <div class="level">
                                <i class="material-icons">school</i>
                                <span>${education.level || 'All Levels'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewEducationDetails(${education.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="contactEducation(${education.id})">
                            <i class="material-icons">school</i>
                            Contact
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editEducation(${education.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteEducation(${education.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createTransportCard(transport, isAdmin) {
            return `
                <div class="item-card transport-card" data-id="${transport.id}">
                    <div class="item-card-image">
                        <img src="${transport.image_url || 'assets/images/placeholder-transport.jpg'}" 
                             alt="${transport.name}" 
                             onerror="this.src='assets/images/placeholder-transport.jpg'">
                        <div class="transport-type-badge">${transport.type || 'Transport Service'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${transport.name || 'Transport Service'}</h3>
                        <p class="item-card-description">${transport.description || 'Transport service description'}</p>
                        <div class="item-card-meta">
                            <div class="route">
                                <i class="material-icons">directions</i>
                                <span>${transport.route || 'Various Routes'}</span>
                            </div>
                            <div class="price">
                                <i class="material-icons">local_offer</i>
                                <span>${transport.price || 'Contact for price'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewTransportDetails(${transport.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="bookTransport(${transport.id})">
                            <i class="material-icons">directions_car</i>
                            Book
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editTransport(${transport.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteTransport(${transport.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createCultureCard(culture, isAdmin) {
            return `
                <div class="item-card culture-card" data-id="${culture.id}">
                    <div class="item-card-image">
                        <img src="${culture.image_url || 'assets/images/placeholder-culture.jpg'}" 
                             alt="${culture.name}" 
                             onerror="this.src='assets/images/placeholder-culture.jpg'">
                        <div class="culture-type-badge">${culture.type || 'Cultural Site'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${culture.name || 'Cultural Site'}</h3>
                        <p class="item-card-description">${culture.description || 'Cultural site description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${culture.location || 'Limbe'}</span>
                            </div>
                            <div class="hours">
                                <i class="material-icons">schedule</i>
                                <span>${culture.opening_hours || 'Daily 9AM-5PM'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewCultureDetails(${culture.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="visitCulture(${culture.id})">
                            <i class="material-icons">account_balance</i>
                            Visit
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editCulture(${culture.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteCulture(${culture.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createMapCard(location, isAdmin) {
            return `
                <div class="item-card map-card" data-id="${location.id}">
                    <div class="item-card-image">
                        <img src="${location.image_url || 'assets/images/placeholder-location.jpg'}" 
                             alt="${location.name}" 
                             onerror="this.src='assets/images/placeholder-location.jpg'">
                        <div class="location-type-badge">${location.type || 'Location'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${location.name || 'Location'}</h3>
                        <p class="item-card-description">${location.description || 'Location description'}</p>
                        <div class="item-card-meta">
                            <div class="coordinates">
                                <i class="material-icons">gps_fixed</i>
                                <span>${location.latitude || 0}, ${location.longitude || 0}</span>
                            </div>
                            <div class="category">
                                <i class="material-icons">category</i>
                                <span>${location.category || 'General'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewLocationDetails(${location.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="navigateToLocation(${location.id})">
                            <i class="material-icons">navigation</i>
                            Navigate
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editLocation(${location.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteLocation(${location.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createGalleryCard(media, isAdmin) {
            const isVideo = media.type === 'video' || media.media_type === 'video';
            
            return `
                <div class="item-card gallery-card" data-id="${media.id}">
                    <div class="item-card-image">
                        ${isVideo ? `
                            <video src="${media.url || media.media_url}" 
                                   poster="${media.thumbnail_url || 'assets/images/placeholder-video.jpg'}"
                                   onclick="playVideo(${media.id})">
                            </video>
                            <div class="play-button">
                                <i class="material-icons">play_circle</i>
                            </div>
                        ` : `
                            <img src="${media.url || media.media_url || 'assets/images/placeholder-gallery.jpg'}" 
                                 alt="${media.title || media.name}" 
                                 onerror="this.src='assets/images/placeholder-gallery.jpg'"
                                 onclick="viewImageFullscreen(${media.id})">
                        `}
                        <div class="media-type-badge">${isVideo ? 'Video' : 'Photo'}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${media.title || media.name || 'Media Item'}</h3>
                        <p class="item-card-description">${media.description || 'Media description'}</p>
                        <div class="item-card-meta">
                            <div class="category">
                                <i class="material-icons">category</i>
                                <span>${media.category || 'General'}</span>
                            </div>
                            <div class="date">
                                <i class="material-icons">schedule</i>
                                <span>${formatDate(media.created_at || media.date_taken)}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewMediaDetails(${media.id})">
                            <i class="material-icons">visibility</i>
                            View
                        </button>
                        <button class="btn-action btn-secondary" onclick="shareMedia(${media.id})">
                            <i class="material-icons">share</i>
                            Share
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editMedia(${media.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteMedia(${media.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createSmartgroCard(product, isAdmin) {
            return `
                <div class="item-card smartgro-card" data-id="${product.id}">
                    <div class="item-card-image">
                        <img src="${product.image_url || 'assets/images/placeholder-agriculture.jpg'}" 
                             alt="${product.name}" 
                             onerror="this.src='assets/images/placeholder-agriculture.jpg'">
                        <div class="item-card-badge">${product.price || '0'} FCFA/${product.unit || 'kg'}</div>
                        ${product.organic ? '<div class="organic-badge">Organic</div>' : ''}
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${product.name || 'Agricultural Product'}</h3>
                        <p class="farmer">${product.farmer || product.producer || 'Local Farmer'}</p>
                        <p class="item-card-description">${product.description || 'Product description'}</p>
                        <div class="item-card-meta">
                            <div class="category">
                                <i class="material-icons">eco</i>
                                <span>${product.category || 'Agriculture'}</span>
                            </div>
                            <div class="availability">
                                <i class="material-icons">inventory</i>
                                <span>${product.stock || 'In Stock'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewSmartgroDetails(${product.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="orderProduct(${product.id})">
                            <i class="material-icons">shopping_cart</i>
                            Order Now
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editSmartgro(${product.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteSmartgro(${product.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createStreamingCard(video, isAdmin) {
            const duration = video.duration || video.duration_minutes || 0;
            const views = video.view_count || video.views || 0;
            
            return `
                <div class="item-card streaming-card" data-id="${video.id}">
                    <div class="item-card-image">
                        <img src="${video.thumbnail_url || 'assets/images/placeholder-video.jpg'}" 
                             alt="${video.title}" 
                             onerror="this.src='assets/images/placeholder-video.jpg'">
                        <div class="play-button" onclick="playStreamingVideo(${video.id})">
                            <i class="material-icons">play_circle</i>
                        </div>
                        <div class="duration-badge">${formatDuration(duration)}</div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${video.title || 'Video Title'}</h3>
                        <p class="item-card-description">${video.description || 'Video description'}</p>
                        <div class="item-card-meta">
                            <div class="views">
                                <i class="material-icons">visibility</i>
                                <span>${views} views</span>
                            </div>
                            <div class="category">
                                <i class="material-icons">category</i>
                                <span>${video.category || 'General'}</span>
                            </div>
                            <div class="date">
                                <i class="material-icons">schedule</i>
                                <span>${formatDate(video.created_at || video.upload_date)}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="playStreamingVideo(${video.id})">
                            <i class="material-icons">play_arrow</i>
                            Watch
                        </button>
                        <button class="btn-action btn-secondary" onclick="shareVideo(${video.id})">
                            <i class="material-icons">share</i>
                            Share
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editStreaming(${video.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteStreaming(${video.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createSupportCard(ticket, isAdmin) {
            const statusColors = {
                'open': '#f59e0b',
                'in_progress': '#3b82f6',
                'resolved': '#10b981',
                'closed': '#6b7280'
            };
            
            return `
                <div class="item-card support-card" data-id="${ticket.id}">
                    <div class="item-card-header">
                        <div class="ticket-number">#${ticket.ticket_number || ticket.id}</div>
                        <div class="status-badge" style="background: ${statusColors[ticket.status] || '#6b7280'}">
                            ${ticket.status || 'Open'}
                        </div>
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${ticket.subject || ticket.title || 'Support Ticket'}</h3>
                        <p class="item-card-description">${ticket.description || ticket.message || 'Support request'}</p>
                        <div class="item-card-meta">
                            <div class="priority">
                                <i class="material-icons">priority_high</i>
                                <span>${ticket.priority || 'Medium'}</span>
                            </div>
                            <div class="category">
                                <i class="material-icons">category</i>
                                <span>${ticket.category || 'General'}</span>
                            </div>
                            <div class="date">
                                <i class="material-icons">schedule</i>
                                <span>${formatDate(ticket.created_at)}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewTicketDetails(${ticket.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        ${ticket.status !== 'closed' ? `
                            <button class="btn-action btn-success" onclick="respondToTicket(${ticket.id})">
                                <i class="material-icons">reply</i>
                                Respond
                            </button>
                        ` : ''}
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editTicket(${ticket.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteTicket(${ticket.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function createGenericCard(moduleType, item, isAdmin) {
            const config = moduleConfigs[moduleType];
            
            return `
                <div class="item-card generic-card" data-id="${item.id}">
                    <div class="item-card-image">
                        <img src="${item.image_url || item.imageUrl || `assets/images/placeholder-${moduleType}.jpg`}" 
                             alt="${item.name || item.title}" 
                             onerror="this.src='assets/images/placeholder-generic.jpg'">
                    </div>
                    <div class="item-card-content">
                        <h3 class="item-card-title">${item.name || item.title || 'Item Name'}</h3>
                        <p class="item-card-description">${item.description || 'Item description'}</p>
                        <div class="item-card-meta">
                            <div class="location">
                                <i class="material-icons">location_on</i>
                                <span>${item.location || 'Limbe'}</span>
                            </div>
                        </div>
                    </div>
                    <div class="item-card-actions">
                        <button class="btn-action btn-primary" onclick="viewItemDetails('${moduleType}', ${item.id})">
                            <i class="material-icons">visibility</i>
                            View Details
                        </button>
                        <button class="btn-action btn-success" onclick="contactItem('${moduleType}', ${item.id})">
                            <i class="material-icons">contact_mail</i>
                            Contact
                        </button>
                        ${isAdmin ? `
                            <button class="btn-action btn-warning" onclick="editItem('${moduleType}', ${item.id})">
                                <i class="material-icons">edit</i>
                            </button>
                            <button class="btn-action btn-danger" onclick="deleteItem('${moduleType}', ${item.id})">
                                <i class="material-icons">delete</i>
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function loadSubcategoryDropdown(subcategories) {
            const dropdown = document.getElementById('itemSubcategory');
            if (dropdown) {
                dropdown.innerHTML = '<option value="">Select Category</option>';
                subcategories.forEach(sub => {
                    dropdown.innerHTML += `<option value="${sub}">${sub}</option>`;
                });
            }
        }

        async function loadModuleItems() {
            if (!currentModuleName) return;
            
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getModuleItems(currentModuleName);
                
                if (result.success) {
                    renderModuleItemsList(result.items);
                } else {
                    showAlert('Error loading items: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error loading module items:', error);
                showAlert('Error loading items', 'error');
            }
        }

        function renderModuleItemsList(items) {
            const listContainer = document.getElementById('moduleItemsList');
            if (!listContainer) return;

            if (items.length === 0) {
                listContainer.innerHTML = `
                    <div class="text-center text-muted py-4">
                        <i class="fas fa-plus-circle fa-3x mb-3"></i>
                        <h6>No items added yet</h6>
                        <p>Add your first ${currentModuleName} item above</p>
                    </div>
                `;
                return;
            }

            const itemsHtml = items.map(item => `
                <div class="card mb-2">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="flex-grow-1">
                                <h6 class="mb-1">${item.item_name}</h6>
                                <small class="text-muted">${item.subcategory} • ${item.description}</small>
                                <div class="mt-2">
                                    <span class="badge bg-info">${item.media_count} media files</span>
                                    <span class="badge bg-warning">${item.rating}/5 stars</span>
                                    <span class="badge bg-secondary">${item.review_count} reviews</span>
                                </div>
                            </div>
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-outline-primary" onclick="editItem(${item.id})">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-success" onclick="manageItemMedia(${item.id})">
                                    <i class="fas fa-images"></i>
                                </button>
                                <button class="btn btn-sm btn-outline-danger" onclick="deleteItem(${item.id})">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            listContainer.innerHTML = itemsHtml;
        }

        async function addNewItem() {
            const itemData = {
                moduleName: currentModuleName,
                subcategory: document.getElementById('itemSubcategory').value,
                itemName: document.getElementById('itemName').value,
                description: document.getElementById('itemDescription').value,
                contactInfo: {
                    phone: document.getElementById('itemPhone').value,
                    email: document.getElementById('itemEmail').value,
                    website: document.getElementById('itemWebsite').value
                },
                locationInfo: {
                    address: document.getElementById('itemAddress').value,
                    gps: document.getElementById('itemGPS').value
                },
                operatingHours: {
                    open: document.getElementById('itemOpenTime').value,
                    close: document.getElementById('itemCloseTime').value
                },
                features: document.getElementById('itemFeatures').value.split(',').map(f => f.trim()).filter(f => f)
            };

            // Validation
            if (!itemData.itemName || !itemData.subcategory || !itemData.description) {
                showAlert('Please fill in all required fields', 'error');
                return;
            }

            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.addModuleItem(itemData);
                
                if (result.success) {
                    showAlert('Item added successfully!', 'success');
                    
                    // Clear form
                    document.getElementById('itemName').value = '';
                    document.getElementById('itemSubcategory').value = '';
                    document.getElementById('itemDescription').value = '';
                    document.getElementById('itemPhone').value = '';
                    document.getElementById('itemEmail').value = '';
                    document.getElementById('itemWebsite').value = '';
                    document.getElementById('itemAddress').value = '';
                    document.getElementById('itemGPS').value = '';
                    document.getElementById('itemFeatures').value = '';
                    document.getElementById('itemOpenTime').value = '';
                    document.getElementById('itemCloseTime').value = '';
                    
                    // Reload items list
                    loadModuleItems();
                } else {
                    showAlert('Error adding item: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error adding item:', error);
                showAlert('Error adding item', 'error');
            }
        }

        function editItem(itemId) {
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        function manageItemMedia(itemId) {
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        function deleteItem(itemId) {
            if (confirm('Are you sure you want to delete this item?')) {
                deleteItemFromDatabase(itemId);
            }
        }

        async function deleteItemFromDatabase(itemId) {
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.deleteModuleItem(itemId);
                
                if (result.success) {
                    showAlert('Item deleted successfully!', 'success');
                    loadModuleItems();
                } else {
                    showAlert('Error deleting item: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error deleting item:', error);
                showAlert('Error deleting item', 'error');
            }
        }

    async function showItemDetailManager(itemId) {
            hideAllPages();
            document.getElementById('itemDetailManager').style.display = 'block';
            // Determine permissions: admin or assigned manager can edit; otherwise read-only
            let canEdit = false;
            try {
                const sRaw = localStorage.getItem('vl_session');
                const s = sRaw ? JSON.parse(sRaw) : null;
                if (s?.role === 'admin') canEdit = true;
                else if (Array.isArray(s?.managerModules) && s.managerModules.includes(currentModuleName || '')) {
                    // Check item-level assignment when applicable
                    const { moduleManagerService } = await import('./js/advanced-supabase-services.js');
                    const check = await moduleManagerService.isAssignedToItem(itemId);
                    canEdit = !!check.assigned;
                }
            } catch {}

            // Toggle edit controls in the detail manager
            const container = document.getElementById('itemDetailManager');
            const inputs = container.querySelectorAll('input, textarea, select');
            inputs.forEach(el => { if (!canEdit) el.setAttribute('disabled','true'); else el.removeAttribute('disabled'); });
            // Hide Save/Delete/Upload when read-only
            const saveBtns = container.querySelectorAll("button[onclick='saveItemDetails()'], a.nav-item[onclick='saveItemDetails()']");
            saveBtns.forEach(b => b.style.display = canEdit ? '' : 'none');
            const uploadZone = container.querySelector('.upload-zone');
            if (uploadZone) uploadZone.style.display = canEdit ? '' : 'none';
            const deleteButtons = container.querySelectorAll("button[onclick^='deleteItemMedia']");
            deleteButtons.forEach(b => b.style.display = canEdit ? '' : 'none');

            loadItemDetails(itemId);
        }

        async function loadItemDetails(itemId) {
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getItemDetails(itemId);
                
                if (result.success) {
                    populateItemForm(result.item);
                    loadItemMedia(result.media);
                    loadItemReviews(itemId);
                    document.getElementById('itemManagerTitle').textContent = `${result.item.item_name} - Details Manager`;
                } else {
                    showAlert('Error loading item details: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error loading item details:', error);
                showAlert('Error loading item details', 'error');
            }
        }

        function populateItemForm(item) {
            document.getElementById('editItemName').value = item.item_name;
            document.getElementById('editItemDescription').value = item.description;
            
            if (item.contact_info) {
                document.getElementById('editItemPhone').value = item.contact_info.phone || '';
                document.getElementById('editItemEmail').value = item.contact_info.email || '';
                document.getElementById('editItemWebsite').value = item.contact_info.website || '';
            }
            
            if (item.location_info) {
                document.getElementById('editItemAddress').value = item.location_info.address || '';
            }
        }

        function loadItemMedia(media) {
            const mediaGrid = document.getElementById('itemMediaGrid');
            if (!mediaGrid) return;

            if (media.length === 0) {
                mediaGrid.innerHTML = `
                    <div class="text-center text-muted py-4">
                        <i class="fas fa-camera fa-3x mb-3"></i>
                        <h6>No media uploaded yet</h6>
                        <p>Upload images and videos above</p>
                    </div>
                `;
                return;
            }

            const mediaHtml = media.map(mediaItem => `
                <div class="media-item">
                    ${mediaItem.media_type === 'image' ? 
                        `<img src="${mediaItem.media_url}" alt="${mediaItem.media_title}">` :
                        `<video src="${mediaItem.media_url}" controls></video>`
                    }
                    <div class="media-overlay">
                        <div class="media-actions">
                            <button class="btn btn-sm btn-light" onclick="editItemMedia(${mediaItem.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="deleteItemMedia(${mediaItem.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                            ${!mediaItem.is_primary ? 
                                `<button class="btn btn-sm btn-warning" onclick="setPrimaryMedia(${mediaItem.id})">
                                    <i class="fas fa-star"></i>
                                </button>` : 
                                `<span class="badge bg-warning">Primary</span>`
                            }
                        </div>
                    </div>
                </div>
            `).join('');

            mediaGrid.innerHTML = mediaHtml;
        }

        async function loadItemReviews(itemId) {
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getItemReviews(itemId);
                
                if (result.success) {
                    renderItemReviews(result.reviews);
                }
            } catch (error) {
                console.error('Error loading reviews:', error);
            }
        }

        function renderItemReviews(reviews) {
            const reviewsList = document.getElementById('itemReviewsList');
            if (!reviewsList) return;

            if (reviews.length === 0) {
                reviewsList.innerHTML = '<p class="text-muted">No reviews yet</p>';
                return;
            }

            const reviewsHtml = reviews.map(review => `
                <div class="review-item border-bottom pb-2 mb-2">
                    <div class="d-flex justify-content-between">
                        <strong>${review.user_profiles.full_name}</strong>
                        <div class="rating">
                            ${'★'.repeat(review.rating)}${'☆'.repeat(5-review.rating)}
                        </div>
                    </div>
                    <p class="mb-1">${review.review_text}</p>
                    <small class="text-muted">${new Date(review.review_date).toLocaleDateString()}</small>
                </div>
            `).join('');

            reviewsList.innerHTML = reviewsHtml;
        }

        function triggerItemMediaUpload() {
            document.getElementById('itemMediaInput').click();
        }

        async function handleItemMediaUpload(event) {
            const files = Array.from(event.target.files);
            if (!files.length || !currentItemId) return;

            for (const file of files) {
                if (file.size > 50 * 1024 * 1024) { // 50MB limit
                    showAlert(`File ${file.name} is too large. Maximum 50MB allowed.`, 'error');
                    continue;
                }

                const mediaType = file.type.startsWith('image/') ? 'image' : 'video';
                
                try {
                    const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                    showAlert(`Uploading ${file.name}...`, 'info');
                    
                    const result = await moduleItemsService.uploadItemMedia(file, currentItemId, mediaType);
                    
                    if (result.success) {
                        showAlert(`${file.name} uploaded successfully!`, 'success');
                    } else {
                        showAlert(`Error uploading ${file.name}: ${result.error}`, 'error');
                    }
                } catch (error) {
                    console.error('Error uploading file:', error);
                    showAlert(`Error uploading ${file.name}`, 'error');
                }
            }
            
            // Reload media after uploads
            setTimeout(() => {
                loadItemDetails(currentItemId);
            }, 2000);
        }

        async function saveItemDetails() {
            if (!currentItemId) return;
            if (!canCurrentUserManage(currentModuleName || 'booking', currentItemId)) { showAlert(t('permission_denied_action'), 'error'); return; }

            const updateData = {
                item_name: document.getElementById('editItemName').value,
                description: document.getElementById('editItemDescription').value,
                contact_info: {
                    phone: document.getElementById('editItemPhone').value,
                    email: document.getElementById('editItemEmail').value,
                    website: document.getElementById('editItemWebsite').value
                },
                location_info: {
                    address: document.getElementById('editItemAddress').value
                }
            };

            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.updateModuleItem(currentItemId, updateData);
                
                if (result.success) {
                    showAlert('Item details saved successfully!', 'success');
                } else {
                    showAlert('Error saving details: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error saving item details:', error);
                showAlert('Error saving details', 'error');
            }
        }

        function backToModuleContentManager() {
            showModuleContentManager(currentModuleName);
        }

        function previewItem() {
            showAlert('Item preview functionality coming soon!', 'info');
        }

        // Override loadSubcategories to load items instead
        function loadSubcategories() {
            loadModuleItems();
        }

        // Update the admin content management to include image management buttons
        function enhanceAdminContentManagement() {
            const moduleButtons = document.querySelectorAll('.btn-outline-primary[onclick*="showModuleContentManager"]');
            moduleButtons.forEach(button => {
                const moduleName = button.getAttribute('onclick').match(/'([^']+)'/)[1];
                const imageButton = button.cloneNode(true);
                imageButton.innerHTML = `<i class="fas fa-image me-2"></i>${moduleName.charAt(0).toUpperCase() + moduleName.slice(1)} Images`;
                imageButton.setAttribute('onclick', `showModuleImageManager('${moduleName}')`);
                imageButton.classList.replace('btn-outline-primary', 'btn-outline-success');
                button.parentNode.appendChild(imageButton);
            });
        }

        function showModule(moduleName) {
            showPage(moduleName + 'Module');
        }
        
        // Booking-specific UX: show Hotels list and Add Hotel
        async function showHotelsList() {
            hideAllPages();
            document.getElementById('hotelsListModule').style.display = 'block';
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getModuleItems('booking');
                if (result.success) {
                    // Filter to Hotels/Guest Houses subcategories for safety
                    const hotels = (result.items || []).filter(it => ['Hotels','Guest Houses'].includes(it.subcategory));
                    renderHotelsList(hotels);
                } else {
                    renderHotelsList([]);
                }
            } catch (e) {
                console.warn('Hotels list load failed', e);
                renderHotelsList([]);
            }
        }

        function renderHotelsList(items) {
            const container = document.getElementById('hotelsListContainer');
            if (!container) return;
            const sRaw = localStorage.getItem('vl_session');
            const s = sRaw ? JSON.parse(sRaw) : null;
            const isAdmin = s?.role === 'admin';
            const isBookingManager = Array.isArray(s?.managerModules) && s.managerModules.includes('booking');
            const canManage = isAdmin || isBookingManager;
            if (!items.length) {
                container.innerHTML = `
                    <div class="text-center text-muted py-4">
                        <i class="fas fa-hotel fa-3x mb-2"></i>
                        <div data-translate="no_hotels_yet">No hotels yet. Click \"Add Hotel\" to create one.</div>
                    </div>
                `;
                return;
            }
            container.innerHTML = items.map(h => `
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="d-flex gap-3 align-items-start">
                            <div style="width:84px;height:84px;border-radius:8px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;">
                                ${h.thumbnail_url ? `<img src="${h.thumbnail_url}" style="width:100%;height:100%;object-fit:cover;"/>` : `<i class="fas fa-hotel fa-2x text-secondary"></i>`}
                            </div>
                            <div class="flex-grow-1">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <h6 class="mb-1">${h.item_name}</h6>
                                        <small class="text-muted">${h.subcategory || 'Hotel'} • ${h.rating || '—'}/5 • ${h.media_count || 0} media</small>
                                    </div>
                                    <div class="btn-group btn-group-sm">
                                        <button class="btn btn-outline-primary" onclick="openHotel(hotelId=${h.id})" title="${t('view_details')}"><i class="fas fa-door-open"></i></button>
                                        ${canManage ? `<button class="btn btn-outline-success" onclick="manageHotelMedia(${h.id})" title="Media"><i class="fas fa-images"></i></button>` : ''}
                                        ${canManage ? `<button class="btn btn-outline-secondary" onclick="openHotelSettings(${h.id})" title="Settings"><i class="fas fa-cog"></i></button>` : ''}
                                        ${canManage ? `<button class="btn btn-outline-dark" onclick="assignHotelManager(${h.id})" title="${t('assign_manager')}"><i class="fas fa-user-shield"></i></button>` : ''}
                                    </div>
                                </div>
                                <p class="mb-2 mt-2">${h.description || ''}</p>
                                ${h.address ? `<small class="text-muted"><i class='fas fa-map-marker-alt me-1'></i>${h.address}</small>` : ''}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            // Also hide Add button if cannot manage
            const addBtn = document.getElementById('btnAddHotelBooking');
            if (addBtn) addBtn.style.display = canManage ? '' : 'none';
            const addListBtn = document.getElementById('btnAddHotelList');
            if (addListBtn) addListBtn.style.display = canManage ? '' : 'none';
        }

        function handleAddHotel() {
            if (!canCurrentUserManage('booking')) { showAlert(t('permission_denied_action'), 'error'); return; }
            // Shortcut into Admin Content Manager > Booking > Items > Add New Item prefilled as Hotel
            currentModuleName = 'booking';
            showModuleContentManager('booking');
            showContentCategory('subcategories'); // ensure category controls visible
            // Prefill subcategory if present
            setTimeout(() => {
                const subSel = document.getElementById('itemSubcategory');
                if (subSel) {
                    const opt = Array.from(subSel.options).find(o => o.value === 'Hotels');
                    if (opt) subSel.value = 'Hotels';
                }
                const name = document.getElementById('itemName');
                if (name && !name.value) name.value = '';
            }, 100);
        }

        // Restaurants: list + add
        async function showRestaurantsList() {
            hideAllPages();
            document.getElementById('restaurantsListModule').style.display = 'block';
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getModuleItems('booking');
                if (result.success) {
                    const restaurants = (result.items || []).filter(it => it.subcategory === 'Restaurants');
                    renderRestaurantsList(restaurants);
                } else {
                    renderRestaurantsList([]);
                }
            } catch (e) {
                console.warn('Restaurants list load failed', e);
                renderRestaurantsList([]);
            }
        }

        function renderRestaurantsList(items) {
            const container = document.getElementById('restaurantsListContainer');
            if (!container) return;
            const sRaw = localStorage.getItem('vl_session');
            const s = sRaw ? JSON.parse(sRaw) : null;
            const isAdmin = s?.role === 'admin';
            const isBookingManager = Array.isArray(s?.managerModules) && s.managerModules.includes('booking');
            const canManage = isAdmin || isBookingManager;
            if (!items.length) {
                container.innerHTML = `
                    <div class="text-center text-muted py-4">
                        <i class="fas fa-utensils fa-3x mb-2"></i>
                        <div>No restaurants yet. Use "Add Restaurant" to create one.</div>
                    </div>
                `;
            } else {
                container.innerHTML = items.map(r => `
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="d-flex gap-3 align-items-start">
                                <div style="width:84px;height:84px;border-radius:8px;overflow:hidden;background:#f5f5f5;display:flex;align-items:center;justify-content:center;">
                                    ${r.thumbnail_url ? `<img src="${r.thumbnail_url}" style="width:100%;height:100%;object-fit:cover;"/>` : `<i class="fas fa-utensils fa-2x text-secondary"></i>`}
                                </div>
                                <div class="flex-grow-1">
                                    <div class="d-flex justify-content-between align-items-start">
                                        <div>
                                            <h6 class="mb-1">${r.item_name}</h6>
                                            <small class="text-muted">${r.subcategory || 'Restaurant'} • ${r.rating || '—'}/5 • ${r.media_count || 0} media</small>
                                        </div>
                                        <div class="btn-group btn-group-sm">
                                            <button class="btn btn-outline-primary" onclick="openPublicItem(${r.id})" title="${t('view_details')}"><i class="fas fa-door-open"></i></button>
                                            ${canManage ? `<button class="btn btn-outline-success" onclick="manageRestaurantMedia(${r.id})" title="Media"><i class="fas fa-images"></i></button>` : ''}
                                            ${canManage ? `<button class="btn btn-outline-secondary" onclick="openRestaurantSettings(${r.id})" title="Settings"><i class="fas fa-cog"></i></button>` : ''}
                                        </div>
                                    </div>
                                    <p class="mb-2 mt-2">${r.description || ''}</p>
                                    ${r.address ? `<small class="text-muted"><i class='fas fa-map-marker-alt me-1'></i>${r.address}</small>` : ''}
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            const addBtn = document.getElementById('btnAddRestaurantBooking');
            if (addBtn) addBtn.style.display = canManage ? '' : 'none';
            const addListBtn = document.getElementById('btnAddRestaurantList');
            if (addListBtn) addListBtn.style.display = canManage ? '' : 'none';
        }

        function handleAddRestaurant() {
            if (!canCurrentUserManage('booking')) { showAlert(t('permission_denied_action'), 'error'); return; }
            currentModuleName = 'booking';
            showModuleContentManager('booking');
            showContentCategory('subcategories');
            setTimeout(() => {
                const subSel = document.getElementById('itemSubcategory');
                if (subSel) {
                    const opt = Array.from(subSel.options).find(o => o.value === 'Restaurants');
                    if (opt) subSel.value = 'Restaurants';
                }
                const name = document.getElementById('itemName');
                if (name && !name.value) name.value = '';
            }, 100);
        }

        function manageRestaurantMedia(itemId) {
            if (!canCurrentUserManage('booking', itemId)) { showAlert(t('permission_denied_action'), 'error'); return; }
            currentModuleName = 'booking';
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        function openRestaurantSettings(itemId) {
            if (!canCurrentUserManage('booking', itemId)) { showAlert(t('permission_denied_action'), 'error'); return; }
            currentModuleName = 'booking';
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        // Public Item Detail (user-facing) for Hotels/Restaurants
        async function openPublicItem(itemId) {
            hideAllPages();
            document.getElementById('itemPublicDetailModule').style.display = 'block';
            try {
                const { moduleItemsService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleItemsService.getItemDetails(itemId);
                if (result.success) {
                    renderPublicItem(result.item, result.media);
                } else {
                    showAlert('Failed to load item', 'error');
                }
            } catch (e) {
                console.error(e);
                showAlert('Failed to load item', 'error');
            }
        }

        function renderPublicItem(item, media) {
            document.getElementById('publicItemTitle').textContent = item.item_name;
            document.getElementById('publicItemName').textContent = item.item_name;
            document.getElementById('publicItemCategory').textContent = item.subcategory || '';
            document.getElementById('publicItemRating').textContent = item.rating || '—';
            document.getElementById('publicItemDescription').textContent = item.description || '';
            document.getElementById('publicItemAddress').innerHTML = item.location_info?.address ? `<i class='fas fa-map-marker-alt me-1'></i>${item.location_info.address}` : '';
            const contact = [];
            if (item.contact_info?.phone) contact.push(`<div><i class='fas fa-phone me-1'></i>${item.contact_info.phone}</div>`);
            if (item.contact_info?.email) contact.push(`<div><i class='fas fa-envelope me-1'></i>${item.contact_info.email}</div>`);
            if (item.contact_info?.website) contact.push(`<div><i class='fas fa-globe me-1'></i><a href='${item.contact_info.website}' target='_blank' rel='noopener'>${item.contact_info.website}</a></div>`);
            document.getElementById('publicItemContact').innerHTML = contact.join('');

            const mediaGrid = document.getElementById('publicItemMedia');
            if (media && media.length) {
                mediaGrid.innerHTML = media.map(m => m.media_type === 'image'
                    ? `<div class='media-item'><img src='${m.media_url}' alt='${m.media_title || ''}'/></div>`
                    : `<div class='media-item'><video src='${m.media_url}' controls></video></div>`
                ).join('');
            } else {
                mediaGrid.innerHTML = `<div class='text-muted'>No media yet.</div>`;
            }

            // Actions: booking for hotels and call/website for restaurants
            const actions = [];
            if ((item.subcategory || '').toLowerCase().includes('hotel') || (item.subcategory || '').toLowerCase().includes('guest')) {
                actions.push(`<button class='btn btn-primary btn-sm'><i class='fas fa-bed me-1'></i>${t('book_now') || 'Book Now'}</button>`);
            }
            if ((item.subcategory || '').toLowerCase().includes('restaurant')) {
                if (item.contact_info?.phone) actions.push(`<a class='btn btn-success btn-sm' href='tel:${item.contact_info.phone}'><i class='fas fa-phone me-1'></i>${t('call_now') || 'Call Now'}</a>`);
                if (item.contact_info?.website) actions.push(`<a class='btn btn-outline-primary btn-sm' href='${item.contact_info.website}' target='_blank' rel='noopener'><i class='fas fa-globe me-1'></i>${t('view_details') || 'View Details'}</a>`);
            }
            document.getElementById('publicItemActions').innerHTML = actions.join(' ');
        }

        function backFromPublicItem() {
            // Default back to Booking module; could enhance to remember origin
            showModule('booking');
        }

        function manageHotelMedia(itemId) {
            // Open Item Detail Manager on Media tab for the selected hotel
            if (!canCurrentUserManage('booking', itemId)) { showAlert(t('permission_denied_action'), 'error'); return; }
            currentModuleName = 'booking';
            currentItemId = itemId;
            showItemDetailManager(itemId);
            // Switch to Media tab inside detail manager if tabs exist (kept simple here)
        }

        function openHotelSettings(itemId) {
            // Route to item detail manager for settings/editing
            if (!canCurrentUserManage('booking', itemId)) { showAlert(t('permission_denied_action'), 'error'); return; }
            currentModuleName = 'booking';
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        function openHotel(itemId) {
            // For now reuse the detail manager as read-only preview
            currentModuleName = 'booking';
            currentItemId = itemId;
            showItemDetailManager(itemId);
        }

        // Permission helpers
        function getSessionRole() {
            try { const s = JSON.parse(localStorage.getItem('vl_session') || 'null'); return s?.role || 'guest'; } catch { return 'guest'; }
        }
        function getManagerModules() {
            try { const s = JSON.parse(localStorage.getItem('vl_session') || 'null'); return Array.isArray(s?.managerModules) ? s.managerModules : []; } catch { return []; }
        }
        function canCurrentUserManage(moduleName, itemId = null) {
            const role = getSessionRole();
            if (role === 'admin') return true;
            const mods = getManagerModules();
            if (!mods.includes(moduleName)) return false;
            // If item-level is required, allow for now; item-level enforcement happens in detail manager
            return true;
        }

        // Booking video player
        function playBookingVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('booking_featured');
                attachCompletionHandler(videoElement, 'booking_featured');
            } else {
                videoElement.pause();
            }
        }
        
        // Shopping video player
        function playShoppingVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('shopping_featured');
                attachCompletionHandler(videoElement, 'shopping_featured');
            } else {
                videoElement.pause();
            }
        }
        
        // Health video player
        function playHealthVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('health_featured');
                attachCompletionHandler(videoElement, 'health_featured');
            } else {
                videoElement.pause();
            }
        }
        
        // Watch & Earn wiring: record and toast
    async function trackVideoWatch(localVideoKey) {
            try {
                const { watchEarnService } = await import('./js/advanced-supabase-services.js');
                const videoMap = {
                    booking_featured: { id: 'booking_featured', points: 10 },
                    shopping_featured: { id: 'shopping_featured', points: 10 },
                    health_featured: { id: 'health_featured', points: 10 },
                    education_featured: { id: 'education_featured', points: 10 },
            transport_featured: { id: 'transport_featured', points: 10 },
            culture_featured: { id: 'culture_featured', points: 10 },
            maps_featured: { id: 'maps_featured', points: 10 },
            gallery_featured: { id: 'gallery_featured', points: 10 },
            realestate_featured: { id: 'realestate_featured', points: 10 },
            services_featured: { id: 'services_featured', points: 10 },
            finance_featured: { id: 'finance_featured', points: 10 }
                };
                const v = videoMap[localVideoKey];
                if (!v) return;
                await watchEarnService.recordVideoWatch(v.id, 5, false);
                showAlert(`+${v.points} ${t('points_earned')} ${t('for_watching')}!`, 'success');
            } catch (e) { console.warn('watch&earn failed', e); }
        }
        
        // Shopping category handlers
        function showShoppingCategories() {
            showAlert(t('shopping_categories_coming_soon'), 'info');
        }
        
        function showShoppingCategory(category) {
            showAlert(`${t('showing_category')}: ${t(category)}`, 'info');
        }
        
        function handleAddProduct() {
            showModuleContentManager('shopping');
        }
        
        // Health category handlers
        function showHealthCategory(category) {
            showAlert(`${t('showing_category')}: ${t(category)}`, 'info');
        }

        // Education video player
        function playEducationVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('education_featured');
                attachCompletionHandler(videoElement, 'education_featured');
            } else {
                videoElement.pause();
            }
        }
        
        // Transport video player
        function playTransportVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('transport_featured');
                attachCompletionHandler(videoElement, 'transport_featured');
            } else {
                videoElement.pause();
            }
        }

        // Watch completion handler
        function attachCompletionHandler(videoEl, localVideoKey) {
            try {
                if (videoEl._hasEndedHandler) return;
                videoEl._hasEndedHandler = true;
                videoEl.addEventListener('ended', async () => {
                    try {
                        const { watchEarnService } = await import('./js/advanced-supabase-services.js');
                        const videoMap = {
                            booking_featured: { id: 'booking_featured', points: 10 },
                            shopping_featured: { id: 'shopping_featured', points: 10 },
                            health_featured: { id: 'health_featured', points: 10 },
                            education_featured: { id: 'education_featured', points: 10 },
                            transport_featured: { id: 'transport_featured', points: 10 },
                            culture_featured: { id: 'culture_featured', points: 10 },
                            maps_featured: { id: 'maps_featured', points: 10 },
                            gallery_featured: { id: 'gallery_featured', points: 10 },
                            realestate_featured: { id: 'realestate_featured', points: 10 },
                            services_featured: { id: 'services_featured', points: 10 },
                            finance_featured: { id: 'finance_featured', points: 10 }
                        };
                        const v = videoMap[localVideoKey];
                        if (!v) return;
                        await watchEarnService.recordVideoWatch(v.id, Math.floor(videoEl.duration || 30), true);
                        const badge = videoEl.parentElement?.querySelector('[data-role="complete-badge"]');
                        if (badge) badge.style.display = 'flex';
                        showAlert(`+${v.points} ${t('points_earned')} ${t('for_watching')}!`, 'success');
                    } catch (e) { console.warn('record completion failed', e); }
                }, { once: true });
            } catch {}
        }

        // Culture video player
        function playCultureVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('culture_featured');
                attachCompletionHandler(videoElement, 'culture_featured');
            } else {
                videoElement.pause();
            }
        }

        // Maps video player
        function playMapsVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('maps_featured');
                attachCompletionHandler(videoElement, 'maps_featured');
            } else {
                videoElement.pause();
            }
        }

        // Gallery video player
        function playGalleryVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('gallery_featured');
                attachCompletionHandler(videoElement, 'gallery_featured');
            } else {
                videoElement.pause();
            }
        }

        // Real Estate video player
        function playRealEstateVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('realestate_featured');
                attachCompletionHandler(videoElement, 'realestate_featured');
            } else {
                videoElement.pause();
            }
        }

        // Services video player
        function playServicesVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('services_featured');
                attachCompletionHandler(videoElement, 'services_featured');
            } else {
                videoElement.pause();
            }
        }

        // Finance video player
        function playFinanceVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('finance_featured');
                attachCompletionHandler(videoElement, 'finance_featured');
            } else {
                videoElement.pause();
            }
        }

        // Culture video player
        function playCultureVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('culture_featured');
                attachCompletionHandler(videoElement, 'culture_featured');
            } else {
                videoElement.pause();
            }
        }

        // Maps video player
        function playMapsVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('maps_featured');
                attachCompletionHandler(videoElement, 'maps_featured');
            } else {
                videoElement.pause();
            }
        }

        // Gallery video player
        function playGalleryVideo(videoElement) {
            if (videoElement.paused) {
                videoElement.play();
                trackVideoWatch('gallery_featured');
                attachCompletionHandler(videoElement, 'gallery_featured');
            } else {
                videoElement.pause();
            }
        }

        // Culture module functions
        function showCulturalSiteDetails(siteId) {
            showAlert(`Opening details for ${siteId}`, 'info');
            // Implementation for showing cultural site details
        }

        function showCulturalEvents() {
            showAlert('Loading cultural events...', 'info');
            // Implementation for showing cultural events
        }

        // Maps module functions
        function initializeMap() {
            showAlert('Loading interactive map...', 'info');
            // Implementation for map initialization
        }

        function findNearby(category) {
            showAlert(`Finding nearby ${category}...`, 'info');
            // Implementation for finding nearby locations
        }

        function showRoute(routeType) {
            showAlert(`Loading ${routeType} route...`, 'info');
            // Implementation for showing routes
        }

        // Gallery module functions
        function triggerGalleryUpload() {
            document.getElementById('galleryUploadInput').click();
        }

        function filterGallery(category) {
            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-category="${category}"]`).classList.add('active');
            
            // Filter gallery items
            const items = document.querySelectorAll('.gallery-item');
            items.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
            
            showAlert(`Showing ${category} media`, 'info');
        }

        function openGalleryItem(element) {
            const src = element.src;
            const title = element.alt;
            showAlert(`Opening ${title}`, 'info');
            // Implementation for full-screen gallery view
        }
        
        // Education category handlers
        function showEducationCategory(category) {
            showAlert(`${t('showing_category')}: ${t(category)}`, 'info');
        }
        
        // Transport category handlers
        function showTransportCategory(category) {
            showAlert(`${t('showing_category')}: ${t(category)}`, 'info');
        }
        
        // ============== MODULE NAVIGATION FUNCTIONS ==============
        
        // Updated module functions to use new DataService system
        function showRealEstateModule() {
            loadModuleContent('realestate');
        }
        
        function showServicesModule() {
            loadModuleContent('services');
        }
        
        function showFinanceModule() {
            loadModuleContent('finance');
        }
        
        function showCultureModule() {
            loadModuleContent('culture');
        }
        
        function showMapsModule() {
            loadModuleContent('maps');
        }
        
        function showGalleryModule() {
            loadModuleContent('gallery');
        }
        
        function showMediaModule() {
            loadModuleContent('gallery'); // Alias for gallery
        }
        
        function showJobsModule() {
            loadModuleContent('jobs');
        }
        
        function showEventsModule() {
            loadModuleContent('events');
        }
        
        function showAdsModule() {
            showPage('adsModule'); // Keep existing ads functionality
        }
        
        function showSmartGroModule() {
            loadModuleContent('smartgro');
        }
        
        function showStreamingModule() {
            loadModuleContent('streaming');
        }
        
        function showHealthModule() {
            loadModuleContent('health');
        }
        
        function showEducationModule() {
            loadModuleContent('education');
        }
        
        function showTransportModule() {
            loadModuleContent('transport');
        }
        
        function showCallCenterModule() {
            loadModuleContent('callcenter');
        }
        
        function showBookingModule() {
            loadModuleContent('booking');
        }
        
        function showShoppingModule() {
            loadModuleContent('shopping');
        }

        // ============== MODULE ACTION FUNCTIONS ==============

        // Utility functions
        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            const date = new Date(dateString);
            return date.toLocaleDateString('en', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        function formatDuration(minutes) {
            if (!minutes) return '0:00';
            const hours = Math.floor(minutes / 60);
            const mins = minutes % 60;
            if (hours > 0) {
                return `${hours}:${mins.toString().padStart(2, '0')}`;
            }
            return `${mins}:00`;
        }

        function getCurrentLanguage() {
            return localStorage.getItem('selectedLanguage') || 'en';
        }

        function checkAdminStatus() {
            try {
                const session = JSON.parse(localStorage.getItem('vl_session') || 'null');
                return session?.role === 'admin' || session?.role === 'super_admin';
            } catch {
                return false;
            }
        }

        // Module refresh functions
        async function refreshModule(moduleType) {
            try {
                console.log(`🔄 Refreshing ${moduleType} module`);
                dataService.cache.delete(moduleType);
                await loadModuleContent(moduleType);
                showNotification(`${moduleConfigs[moduleType]?.title || moduleType} refreshed`, 'success');
            } catch (error) {
                console.error(`Error refreshing ${moduleType}:`, error);
                showNotification('Failed to refresh module', 'error');
            }
        }

        // Module-specific refresh functions for real-time updates
        window.refreshBookingUI = async function(data) {
            if (window.currentModule === 'booking') {
                await refreshModule('booking');
            }
        };

        window.refreshShoppingUI = async function(data) {
            if (window.currentModule === 'shopping') {
                await refreshModule('shopping');
            }
        };

        window.refreshJobsUI = async function(data) {
            if (window.currentModule === 'jobs') {
                await refreshModule('jobs');
            }
        };

        window.refreshEventsUI = async function(data) {
            if (window.currentModule === 'events') {
                await refreshModule('events');
            }
        };

        window.refreshRealestateUI = async function(data) {
            if (window.currentModule === 'realestate') {
                await refreshModule('realestate');
            }
        };

        window.refreshServicesUI = async function(data) {
            if (window.currentModule === 'services') {
                await refreshModule('services');
            }
        };

        window.refreshFinanceUI = async function(data) {
            if (window.currentModule === 'finance') {
                await refreshModule('finance');
            }
        };

        window.refreshHealthUI = async function(data) {
            if (window.currentModule === 'health') {
                await refreshModule('health');
            }
        };

        window.refreshEducationUI = async function(data) {
            if (window.currentModule === 'education') {
                await refreshModule('education');
            }
        };

        window.refreshTransportUI = async function(data) {
            if (window.currentModule === 'transport') {
                await refreshModule('transport');
            }
        };

        window.refreshCultureUI = async function(data) {
            if (window.currentModule === 'culture') {
                await refreshModule('culture');
            }
        };

        window.refreshMapsUI = async function(data) {
            if (window.currentModule === 'maps') {
                await refreshModule('maps');
            }
        };

        window.refreshGalleryUI = async function(data) {
            if (window.currentModule === 'gallery') {
                await refreshModule('gallery');
            }
        };

        window.refreshSmartgroUI = async function(data) {
            if (window.currentModule === 'smartgro') {
                await refreshModule('smartgro');
            }
        };

        window.refreshStreamingUI = async function(data) {
            if (window.currentModule === 'streaming') {
                await refreshModule('streaming');
            }
        };

        window.refreshCallcenterUI = async function(data) {
            if (window.currentModule === 'callcenter') {
                await refreshModule('callcenter');
            }
        };

        // Search functionality
        function searchInModule(moduleType) {
            const searchQuery = prompt(`Search in ${moduleConfigs[moduleType]?.title || moduleType}:`);
            if (searchQuery && searchQuery.trim()) {
                console.log(`🔍 Searching for "${searchQuery}" in ${moduleType}`);
                // Filter current module data
                const filteredData = window.currentModuleData.filter(item => 
                    (item.name && item.name.toLowerCase().includes(searchQuery.toLowerCase())) ||
                    (item.title && item.title.toLowerCase().includes(searchQuery.toLowerCase())) ||
                    (item.description && item.description.toLowerCase().includes(searchQuery.toLowerCase()))
                );
                
                // Re-render with filtered data
                renderModuleGrid(moduleType, filteredData).then(html => {
                    const moduleContent = document.querySelector('.module-content');
                    if (moduleContent) {
                        moduleContent.innerHTML = html;
                        showNotification(`Found ${filteredData.length} results for "${searchQuery}"`, 'info');
                    }
                });
            }
        }

        // Filter functionality
        function filterModule(moduleType) {
            showNotification('Filter functionality will be implemented soon', 'info');
        }

        // Touch gesture handlers
        function addModuleTouchHandlers(moduleType) {
            const moduleContainer = document.querySelector('.module-container');
            if (!moduleContainer) return;

            let startY = 0;
            let currentY = 0;
            let isDragging = false;

            moduleContainer.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isDragging = true;
            });

            moduleContainer.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                currentY = e.touches[0].clientY;
                const diff = currentY - startY;
                
                // Pull to refresh
                if (diff > 100 && window.scrollY === 0) {
                    e.preventDefault();
                    moduleContainer.style.transform = `translateY(${Math.min(diff - 100, 50)}px)`;
                }
            });

            moduleContainer.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                isDragging = false;
                
                const diff = currentY - startY;
                moduleContainer.style.transform = '';
                
                // Trigger refresh if pulled enough
                if (diff > 150 && window.scrollY === 0) {
                    refreshModule(moduleType);
                }
            });
        }

        // ============== ITEM ACTION FUNCTIONS ==============

        // Modal system
        function showItemModal(title, content, footer = '') {
            const modal = document.getElementById('itemModal');
            if (!modal) {
                // Create modal if it doesn't exist
                document.body.insertAdjacentHTML('beforeend', `
                    <div id="itemModal" class="modal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h2 class="modal-title"></h2>
                                <button class="modal-close" onclick="closeModal()">
                                    <i class="material-icons">close</i>
                                </button>
                            </div>
                            <div class="modal-body"></div>
                            <div class="modal-footer"></div>
                        </div>
                    </div>
                `);
            }
            
            const modalElement = document.getElementById('itemModal');
            modalElement.querySelector('.modal-title').textContent = title;
            modalElement.querySelector('.modal-body').innerHTML = content;
            modalElement.querySelector('.modal-footer').innerHTML = footer;
            modalElement.classList.add('show');
        }

        function closeModal() {
            const modal = document.getElementById('itemModal');
            if (modal) {
                modal.classList.remove('show');
            }
        }

        // Hotel/Booking actions
        function viewHotelDetails(hotelId) {
            const hotel = window.currentModuleData.find(h => h.id == hotelId);
            if (!hotel) return;
            
            showItemModal('Hotel Details', `
                <div class="item-details">
                    <div class="item-details-image">
                        <img src="${hotel.image_url || hotel.imageUrl || 'assets/images/placeholder-hotel.jpg'}" alt="${hotel.name}">
                    </div>
                    <div class="item-details-content">
                        <h2>${hotel.name}</h2>
                        <div class="rating">
                            <span class="stars">${'★'.repeat(Math.floor(hotel.rating || 0))}${'☆'.repeat(5 - Math.floor(hotel.rating || 0))}</span>
                            <span class="rating-value">${(hotel.rating || 0).toFixed(1)}</span>
                        </div>
                        <p class="description">${hotel.description || 'No description available'}</p>
                        <div class="details-grid">
                            <div class="detail-item">
                                <i class="material-icons">location_on</i>
                                <span>${hotel.location || 'Limbe'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">local_offer</i>
                                <span>${hotel.price || '0'} FCFA/night</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">phone</i>
                                <span>${hotel.phone || 'Contact hotel for phone'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">email</i>
                                <span>${hotel.email || 'Contact hotel for email'}</span>
                            </div>
                        </div>
                        <div class="amenities">
                            <h3>Amenities</h3>
                            <div class="amenities-list">
                                ${(hotel.amenities || ['WiFi', 'Parking', 'Restaurant']).map(amenity => 
                                    `<span class="amenity-tag">${amenity}</span>`
                                ).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `, `
                <button class="btn-mobile btn-success" onclick="bookHotel(${hotelId}); closeModal();">
                    <i class="material-icons">book_online</i>
                    Book Now
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Close</button>
            `);
        }

        function bookHotel(hotelId) {
            const hotel = window.currentModuleData.find(h => h.id == hotelId);
            if (!hotel) return;
            
            showItemModal('Book Hotel', `
                <div class="booking-form">
                    <h3>Book ${hotel.name}</h3>
                    <form id="hotelBookingForm" onsubmit="submitHotelBooking(event, ${hotelId})">
                        <div class="form-group">
                            <label class="form-label">Check-in Date</label>
                            <input type="date" class="form-control" name="checkin" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Check-out Date</label>
                            <input type="date" class="form-control" name="checkout" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Number of Guests</label>
                            <select class="form-control" name="guests" required>
                                <option value="1">1 Guest</option>
                                <option value="2">2 Guests</option>
                                <option value="3">3 Guests</option>
                                <option value="4">4 Guests</option>
                                <option value="5+">5+ Guests</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Room Type</label>
                            <select class="form-control" name="roomType" required>
                                <option value="standard">Standard Room</option>
                                <option value="deluxe">Deluxe Room</option>
                                <option value="suite">Suite</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Special Requests</label>
                            <textarea class="form-control" name="requests" rows="3" placeholder="Any special requests..."></textarea>
                        </div>
                        <div class="price-summary">
                            <div class="price-item">
                                <span>Rate per night:</span>
                                <span>${hotel.price || '0'} FCFA</span>
                            </div>
                            <div class="price-total">
                                <span>Total (estimated):</span>
                                <span id="totalPrice">${hotel.price || '0'} FCFA</span>
                            </div>
                        </div>
                    </form>
                </div>
            `, `
                <button type="submit" form="hotelBookingForm" class="btn-mobile btn-success">
                    <i class="material-icons">book_online</i>
                    Confirm Booking
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Cancel</button>
            `);
        }

        function submitHotelBooking(event, hotelId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const bookingData = Object.fromEntries(formData);
            
            console.log('Hotel booking data:', bookingData);
            showNotification('Booking request submitted! You will receive confirmation soon.', 'success');
            closeModal();
        }

        // Product/Shopping actions
        function viewProductDetails(productId) {
            const product = window.currentModuleData.find(p => p.id == productId);
            if (!product) return;
            
            showItemModal('Product Details', `
                <div class="item-details">
                    <div class="item-details-image">
                        <img src="${product.image_url || 'assets/images/placeholder-product.jpg'}" alt="${product.name}">
                    </div>
                    <div class="item-details-content">
                        <h2>${product.name}</h2>
                        <p class="vendor">by ${product.vendor || 'Local Vendor'}</p>
                        <div class="price-info">
                            <span class="price">${product.price || '0'} FCFA</span>
                            ${product.discount ? `<span class="original-price">${Math.round(product.price / (1 - product.discount/100))} FCFA</span>` : ''}
                        </div>
                        <p class="description">${product.description || 'No description available'}</p>
                        <div class="details-grid">
                            <div class="detail-item">
                                <i class="material-icons">category</i>
                                <span>${product.category || 'General'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">inventory</i>
                                <span>${product.stock || 'In Stock'}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `, `
                <button class="btn-mobile btn-success" onclick="addToCart(${productId}); closeModal();">
                    <i class="material-icons">shopping_cart</i>
                    Add to Cart
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Close</button>
            `);
        }

        function addToCart(productId) {
            const product = window.currentModuleData.find(p => p.id == productId);
            if (!product) return;
            
            // Get existing cart
            let cart = JSON.parse(localStorage.getItem('shopping_cart') || '[]');
            
            // Check if product already in cart
            const existingIndex = cart.findIndex(item => item.id == productId);
            
            if (existingIndex >= 0) {
                cart[existingIndex].quantity = (cart[existingIndex].quantity || 1) + 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1,
                    addedAt: new Date().toISOString()
                });
            }
            
            localStorage.setItem('shopping_cart', JSON.stringify(cart));
            showNotification(`${product.name} added to cart!`, 'success');
        }

        // Job actions
        function viewJobDetails(jobId) {
            const job = window.currentModuleData.find(j => j.id == jobId);
            if (!job) return;
            
            showItemModal('Job Details', `
                <div class="item-details">
                    <div class="item-details-content">
                        <h2>${job.title}</h2>
                        <p class="company">${job.company || 'Company Name'}</p>
                        <div class="job-meta">
                            <span class="job-type">${job.type || 'Full-time'}</span>
                            <span class="salary">${job.salary || 'Negotiable'}</span>
                        </div>
                        <p class="description">${job.description || 'No description available'}</p>
                        <div class="details-grid">
                            <div class="detail-item">
                                <i class="material-icons">location_on</i>
                                <span>${job.location || 'Limbe'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">schedule</i>
                                <span>Posted ${formatDate(job.created_at)}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">work</i>
                                <span>${job.experience || 'Any level'}</span>
                            </div>
                        </div>
                        <div class="requirements">
                            <h3>Requirements</h3>
                            <ul>
                                ${(job.requirements || ['Relevant experience', 'Good communication skills']).map(req => 
                                    `<li>${req}</li>`
                                ).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `, `
                <button class="btn-mobile btn-success" onclick="applyToJob(${jobId}); closeModal();">
                    <i class="material-icons">send</i>
                    Apply Now
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Close</button>
            `);
        }

        function applyToJob(jobId) {
            const job = window.currentModuleData.find(j => j.id == jobId);
            if (!job) return;
            
            showItemModal('Apply for Job', `
                <div class="application-form">
                    <h3>Apply for ${job.title}</h3>
                    <form id="jobApplicationForm" onsubmit="submitJobApplication(event, ${jobId})">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-control" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" name="email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-control" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Cover Letter</label>
                            <textarea class="form-control" name="coverLetter" rows="4" placeholder="Tell us why you're interested in this position..." required></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Resume/CV</label>
                            <input type="file" class="form-control" name="resume" accept=".pdf,.doc,.docx">
                            <small class="form-text">Upload your resume (PDF, DOC, or DOCX)</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Years of Experience</label>
                            <select class="form-control" name="experience" required>
                                <option value="">Select experience level</option>
                                <option value="0-1">0-1 years</option>
                                <option value="1-3">1-3 years</option>
                                <option value="3-5">3-5 years</option>
                                <option value="5+">5+ years</option>
                            </select>
                        </div>
                    </form>
                </div>
            `, `
                <button type="submit" form="jobApplicationForm" class="btn-mobile btn-success">
                    <i class="material-icons">send</i>
                    Submit Application
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Cancel</button>
            `);
        }

        function submitJobApplication(event, jobId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const applicationData = Object.fromEntries(formData);
            
            console.log('Job application data:', applicationData);
            showNotification('Application submitted successfully! The employer will contact you soon.', 'success');
            closeModal();
        }

        // Event actions
        function viewEventDetails(eventId) {
            const event = window.currentModuleData.find(e => e.id == eventId);
            if (!event) return;
            
            const eventDate = new Date(event.date || event.event_date);
            const isUpcoming = eventDate > new Date();
            
            showItemModal('Event Details', `
                <div class="item-details">
                    <div class="item-details-image">
                        <img src="${event.image_url || 'assets/images/placeholder-event.jpg'}" alt="${event.name}">
                    </div>
                    <div class="item-details-content">
                        <h2>${event.name || event.title}</h2>
                        <p class="description">${event.description || 'No description available'}</p>
                        <div class="details-grid">
                            <div class="detail-item">
                                <i class="material-icons">event</i>
                                <span>${eventDate.toLocaleDateString('en', { 
                                    weekday: 'long', 
                                    year: 'numeric', 
                                    month: 'long', 
                                    day: 'numeric' 
                                })}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">schedule</i>
                                <span>${event.time || '18:00'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">location_on</i>
                                <span>${event.location || event.venue || 'Limbe'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">local_offer</i>
                                <span>${event.price || 'Free'}</span>
                            </div>
                            <div class="detail-item">
                                <i class="material-icons">person</i>
                                <span>${event.organizer || 'Event Organizer'}</span>
                            </div>
                        </div>
                        ${event.agenda ? `
                            <div class="agenda">
                                <h3>Event Agenda</h3>
                                <p>${event.agenda}</p>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `, `
                ${isUpcoming ? `
                    <button class="btn-mobile btn-success" onclick="rsvpToEvent(${eventId}); closeModal();">
                        <i class="material-icons">event_available</i>
                        RSVP
                    </button>
                ` : ''}
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Close</button>
            `);
        }

        function rsvpToEvent(eventId) {
            const event = window.currentModuleData.find(e => e.id == eventId);
            if (!event) return;
            
            showItemModal('RSVP to Event', `
                <div class="rsvp-form">
                    <h3>RSVP to ${event.name || event.title}</h3>
                    <form id="eventRsvpForm" onsubmit="submitEventRsvp(event, ${eventId})">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-control" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" name="email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-control" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Number of Attendees</label>
                            <select class="form-control" name="attendees" required>
                                <option value="1">1 person</option>
                                <option value="2">2 people</option>
                                <option value="3">3 people</option>
                                <option value="4">4 people</option>
                                <option value="5+">5+ people</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Additional Notes</label>
                            <textarea class="form-control" name="notes" rows="3" placeholder="Any special requirements or questions..."></textarea>
                        </div>
                    </form>
                </div>
            `, `
                <button type="submit" form="eventRsvpForm" class="btn-mobile btn-success">
                    <i class="material-icons">event_available</i>
                    Confirm RSVP
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Cancel</button>
            `);
        }

        function submitEventRsvp(event, eventId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const rsvpData = Object.fromEntries(formData);
            
            console.log('Event RSVP data:', rsvpData);
            showNotification('RSVP confirmed! You will receive event updates and reminders.', 'success');
            closeModal();
        }

        // Generic action functions for other modules
        function viewPropertyDetails(propertyId) {
            const property = window.currentModuleData.find(p => p.id == propertyId);
            if (!property) return;
            showGenericItemDetails('Property', property);
        }

        function inquireProperty(propertyId) {
            showGenericContactForm('Property Inquiry', propertyId);
        }

        function viewServiceDetails(serviceId) {
            const service = window.currentModuleData.find(s => s.id == serviceId);
            if (!service) return;
            showGenericItemDetails('Service', service);
        }

        function contactService(serviceId) {
            showGenericContactForm('Service Contact', serviceId);
        }

        function viewFinanceDetails(financeId) {
            const finance = window.currentModuleData.find(f => f.id == financeId);
            if (!finance) return;
            showGenericItemDetails('Financial Service', finance);
        }

        function contactFinance(financeId) {
            showGenericContactForm('Financial Service Contact', financeId);
        }

        // Generic functions for other modules
        function showGenericItemDetails(type, item) {
            showItemModal(`${type} Details`, `
                <div class="item-details">
                    <div class="item-details-content">
                        <h2>${item.name || item.title || `${type} Name`}</h2>
                        <p class="description">${item.description || `${type} description`}</p>
                        <div class="details-grid">
                            <div class="detail-item">
                                <i class="material-icons">location_on</i>
                                <span>${item.location || 'Limbe'}</span>
                            </div>
                            ${item.phone ? `
                                <div class="detail-item">
                                    <i class="material-icons">phone</i>
                                    <span>${item.phone}</span>
                                </div>
                            ` : ''}
                            ${item.email ? `
                                <div class="detail-item">
                                    <i class="material-icons">email</i>
                                    <span>${item.email}</span>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `, `
                <button class="btn-mobile btn-success" onclick="showGenericContactForm('Contact ${type}', ${item.id}); closeModal();">
                    <i class="material-icons">contact_mail</i>
                    Contact
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Close</button>
            `);
        }

        function showGenericContactForm(title, itemId) {
            showItemModal(title, `
                <div class="contact-form">
                    <form id="contactForm" onsubmit="submitGenericContact(event, ${itemId})">
                        <div class="form-group">
                            <label class="form-label">Your Name</label>
                            <input type="text" class="form-control" name="name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" name="email" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" class="form-control" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Message</label>
                            <textarea class="form-control" name="message" rows="4" placeholder="Your message..." required></textarea>
                        </div>
                    </form>
                </div>
            `, `
                <button type="submit" form="contactForm" class="btn-mobile btn-success">
                    <i class="material-icons">send</i>
                    Send Message
                </button>
                <button class="btn-mobile btn-secondary" onclick="closeModal();">Cancel</button>
            `);
        }

        function submitGenericContact(event, itemId) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const contactData = Object.fromEntries(formData);
            
            console.log('Contact form data:', contactData);
            showNotification('Message sent successfully! You will receive a response soon.', 'success');
            closeModal();
        }

        // Add more action functions for remaining modules (health, education, transport, etc.)
        function viewHealthDetails(healthId) { viewItemDetails('health', healthId); }
        function contactHealth(healthId) { contactItem('health', healthId); }
        function viewEducationDetails(educationId) { viewItemDetails('education', educationId); }
        function contactEducation(educationId) { contactItem('education', educationId); }
        function viewTransportDetails(transportId) { viewItemDetails('transport', transportId); }
        function bookTransport(transportId) { contactItem('transport', transportId); }
        function viewCultureDetails(cultureId) { viewItemDetails('culture', cultureId); }
        function visitCulture(cultureId) { contactItem('culture', cultureId); }
        function viewLocationDetails(locationId) { viewItemDetails('maps', locationId); }
        function navigateToLocation(locationId) { showNotification('Navigation feature coming soon!', 'info'); }
        function viewMediaDetails(mediaId) { viewItemDetails('gallery', mediaId); }
        function shareMedia(mediaId) { showNotification('Share feature coming soon!', 'info'); }
        function viewSmartgroDetails(productId) { viewItemDetails('smartgro', productId); }
        function orderProduct(productId) { contactItem('smartgro', productId); }
        function playStreamingVideo(videoId) { showNotification('Video player coming soon!', 'info'); }
        function shareVideo(videoId) { showNotification('Share feature coming soon!', 'info'); }
        function viewTicketDetails(ticketId) { viewItemDetails('callcenter', ticketId); }
        function respondToTicket(ticketId) { contactItem('callcenter', ticketId); }

        // Generic view and contact functions
        function viewItemDetails(moduleType, itemId) {
            const item = window.currentModuleData.find(i => i.id == itemId);
            if (!item) return;
            showGenericItemDetails(moduleConfigs[moduleType]?.title || moduleType, item);
        }

        function contactItem(moduleType, itemId) {
            showGenericContactForm(`Contact ${moduleConfigs[moduleType]?.title || moduleType}`, itemId);
        }

        // ============== UTILITY FUNCTIONS ==============

        // Notification system
        function showNotification(message, type = 'success') {
            // Remove existing notifications
            const existingNotifications = document.querySelectorAll('.notification');
            existingNotifications.forEach(notification => notification.remove());

            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icon = type === 'success' ? 'check_circle' : 
                        type === 'error' ? 'error' :
                        type === 'warning' ? 'warning' : 'info';
            
            notification.innerHTML = `
                <i class="material-icons">${icon}</i>
                <span>${message}</span>
            `;

            document.body.appendChild(notification);

            // Show notification with animation
            setTimeout(() => notification.classList.add('show'), 100);

            // Auto hide after 4 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Date formatting utility
        function formatDate(dateString) {
            if (!dateString) return 'Recently';
            
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays === 0) return 'Today';
            if (diffDays === 1) return 'Yesterday';
            if (diffDays < 7) return `${diffDays} days ago`;
            if (diffDays < 30) return `${Math.ceil(diffDays / 7)} weeks ago`;
            if (diffDays < 365) return `${Math.ceil(diffDays / 30)} months ago`;
            return `${Math.ceil(diffDays / 365)} years ago`;
        }

        // Price formatting utility
        function formatPrice(price, currency = 'FCFA') {
            if (!price) return 'Free';
            return `${Number(price).toLocaleString()} ${currency}`;
        }

        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                closeModal();
            }
        });

        // Close modal on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Prevent modal from closing when clicking inside modal content
        document.addEventListener('click', function(e) {
            if (e.target.closest('.modal-content')) {
                e.stopPropagation();
            }
        });
        
        function showGalleryModule() {
            showPage('galleryModule');
        }
        
        function showMediaModule() {
            showPage('mediaModule');
        }
        
        function showJobsModule() {
            showPage('jobsModule');
        }
        
        function showEventsModule() {
            window.open('modules/events-activities.html', '_blank');
        }
        
        function showAdsModule() {
            showPage('adsModule');
        }
        
        // New Advanced Module Functions
        function showSmartGroModule() {
            showPage('smartgroModule');
            loadAgriculturalData();
        }
        
        function showWatchEarnModule() {
            showPage('watchEarnModule');
            loadWatchEarnData();
        }
        
        // Booking & Streaming Module - Complete Implementation
        function showBookingStreamingModule() {
            hideAllPages();
            
            const bookingStreamingContent = document.createElement('div');
            bookingStreamingContent.id = 'bookingStreamingModule';
            bookingStreamingContent.className = 'page-container active';
            bookingStreamingContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-bed"></i> Booking & Streaming</h2>
                                <p>Book hotels, guesthouses and watch accommodation videos to earn points</p>
                            </div>
                            <div class="points-display">
                                <i class="fas fa-coins"></i>
                                <span id="streamingPoints">1,250 Points</span>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="booking-search">
                                <div class="search-inputs">
                                    <div class="input-group">
                                        <label>Check-in Date</label>
                                        <input type="date" id="checkinDate" class="date-input">
                                    </div>
                                    <div class="input-group">
                                        <label>Check-out Date</label>
                                        <input type="date" id="checkoutDate" class="date-input">
                                    </div>
                                    <div class="input-group">
                                        <label>Guests</label>
                                        <select id="guestCount" class="guest-select">
                                            <option value="1">1 Guest</option>
                                            <option value="2">2 Guests</option>
                                            <option value="3">3 Guests</option>
                                            <option value="4">4 Guests</option>
                                            <option value="5+">5+ Guests</option>
                                        </select>
                                    </div>
                                    <button onclick="searchAccommodation()" class="search-btn">
                                        <i class="fas fa-search"></i> Search
                                    </button>
                                </div>
                            </div>
                            <div class="accommodation-filters">
                                <button onclick="filterAccommodationType('hotels')" class="filter-btn active">Hotels</button>
                                <button onclick="filterAccommodationType('guesthouses')" class="filter-btn">Guesthouses</button>
                                <button onclick="filterAccommodationType('resorts')" class="filter-btn">Resorts</button>
                                <button onclick="filterAccommodationType('budget')" class="filter-btn">Budget</button>
                                <button onclick="filterAccommodationType('luxury')" class="filter-btn">Luxury</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="booking-stats">
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>Hotels & Guesthouses</p>
                            </div>
                            <div class="stat-card">
                                <h4>2,000+</h4>
                                <p>Satisfied Guests</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Booking Support</p>
                            </div>
                            <div class="stat-card">
                                <h4>100+</h4>
                                <p>Video Tours</p>
                            </div>
                        </div>
                        
                        <div class="watch-and-earn-section">
                            <h3>Watch Hotel Tours & Earn Points</h3>
                            <div class="streaming-videos-grid">
                                <div class="streaming-video-card" onclick="watchHotelVideo(1)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Beach+Hotel+Tour" alt="Limbe Beach Hotel">
                                        <div class="play-overlay">
                                            <i class="fas fa-play-circle"></i>
                                        </div>
                                        <div class="video-duration">8:45</div>
                                        <div class="points-reward">+25 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Limbe Beach Hotel - Virtual Tour</h4>
                                        <p class="hotel-name">Limbe Beach Resort & Spa</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 2,345 views</span>
                                            <span class="rating">⭐ 4.8</span>
                                        </div>
                                        <div class="hotel-highlights">
                                            <span class="highlight">Ocean View</span>
                                            <span class="highlight">Pool & Spa</span>
                                            <span class="highlight">Restaurant</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">From 45,000 XAF/night</span>
                                        </div>
                                    </div>
                                    <div class="video-actions">
                                        <button onclick="watchHotelVideo(1)" class="watch-btn">Watch & Earn</button>
                                        <button onclick="bookHotelFromVideo(1)" class="book-btn">Book Now</button>
                                    </div>
                                </div>
                                
                                <div class="streaming-video-card" onclick="watchHotelVideo(2)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Mountain+View+Guesthouse" alt="Mountain View Guesthouse">
                                        <div class="play-overlay">
                                            <i class="fas fa-play-circle"></i>
                                        </div>
                                        <div class="video-duration">6:30</div>
                                        <div class="points-reward">+20 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Mountain View Guesthouse - Room Tour</h4>
                                        <p class="hotel-name">Mountain View Guesthouse</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 1,567 views</span>
                                            <span class="rating">⭐ 4.6</span>
                                        </div>
                                        <div class="hotel-highlights">
                                            <span class="highlight">Mountain View</span>
                                            <span class="highlight">Garden</span>
                                            <span class="highlight">Family Friendly</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">From 25,000 XAF/night</span>
                                        </div>
                                    </div>
                                    <div class="video-actions">
                                        <button onclick="watchHotelVideo(2)" class="watch-btn">Watch & Earn</button>
                                        <button onclick="bookHotelFromVideo(2)" class="book-btn">Book Now</button>
                                    </div>
                                </div>
                                
                                <div class="streaming-video-card" onclick="watchHotelVideo(3)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Luxury+Resort+Suite" alt="Luxury Resort Suite">
                                        <div class="play-overlay">
                                            <i class="fas fa-play-circle"></i>
                                        </div>
                                        <div class="video-duration">12:20</div>
                                        <div class="points-reward">+35 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Atlantic Beach Resort - Luxury Suite Tour</h4>
                                        <p class="hotel-name">Atlantic Beach Resort</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 3,892 views</span>
                                            <span class="rating">⭐ 4.9</span>
                                        </div>
                                        <div class="hotel-highlights">
                                            <span class="highlight">Private Beach</span>
                                            <span class="highlight">Luxury Suite</span>
                                            <span class="highlight">Fine Dining</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">From 85,000 XAF/night</span>
                                        </div>
                                    </div>
                                    <div class="video-actions">
                                        <button onclick="watchHotelVideo(3)" class="watch-btn">Watch & Earn</button>
                                        <button onclick="bookHotelFromVideo(3)" class="book-btn">Book Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="featured-accommodations">
                            <h3>Featured Hotels & Guesthouses</h3>
                            <div class="accommodations-grid">
                                <div class="accommodation-card" onclick="viewAccommodationDetails(1)">
                                    <div class="accommodation-images">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Beach+Hotel" alt="Limbe Beach Hotel">
                                        <div class="accommodation-badge">Featured</div>
                                        <div class="virtual-tour-btn" onclick="startVirtualTour(1)">
                                            <i class="fas fa-video"></i>
                                            <span>Virtual Tour</span>
                                        </div>
                                        <div class="wishlist-btn" onclick="addToWishlist(1)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="accommodation-details">
                                        <h4>Limbe Beach Resort & Spa</h4>
                                        <div class="accommodation-location">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>Down Beach, Limbe</span>
                                        </div>
                                        <div class="accommodation-rating">
                                            <div class="stars">⭐⭐⭐⭐⭐</div>
                                            <span class="rating-score">4.8 (256 reviews)</span>
                                        </div>
                                        <div class="accommodation-amenities">
                                            <span class="amenity"><i class="fas fa-wifi"></i> Free WiFi</span>
                                            <span class="amenity"><i class="fas fa-swimming-pool"></i> Pool</span>
                                            <span class="amenity"><i class="fas fa-spa"></i> Spa</span>
                                            <span class="amenity"><i class="fas fa-utensils"></i> Restaurant</span>
                                        </div>
                                        <div class="room-types">
                                            <div class="room-type">
                                                <span class="room-name">Standard Room</span>
                                                <span class="room-price">45,000 XAF/night</span>
                                            </div>
                                            <div class="room-type">
                                                <span class="room-name">Ocean View Suite</span>
                                                <span class="room-price">75,000 XAF/night</span>
                                            </div>
                                        </div>
                                        <div class="booking-actions">
                                            <button onclick="quickBookRoom(1)" class="quick-book-btn">Quick Book</button>
                                            <button onclick="viewHotelDetails(1)" class="details-btn">View Details</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accommodation-card" onclick="viewAccommodationDetails(2)">
                                    <div class="accommodation-images">
                                        <img src="https://via.placeholder.com/300x200?text=Cozy+Guesthouse" alt="Cozy Guesthouse">
                                        <div class="accommodation-badge">Popular</div>
                                        <div class="virtual-tour-btn" onclick="startVirtualTour(2)">
                                            <i class="fas fa-video"></i>
                                            <span>Virtual Tour</span>
                                        </div>
                                        <div class="wishlist-btn" onclick="addToWishlist(2)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="accommodation-details">
                                        <h4>Cozy Mountain Guesthouse</h4>
                                        <div class="accommodation-location">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>Mile 2, Limbe</span>
                                        </div>
                                        <div class="accommodation-rating">
                                            <div class="stars">⭐⭐⭐⭐</div>
                                            <span class="rating-score">4.6 (128 reviews)</span>
                                        </div>
                                        <div class="accommodation-amenities">
                                            <span class="amenity"><i class="fas fa-wifi"></i> Free WiFi</span>
                                            <span class="amenity"><i class="fas fa-parking"></i> Parking</span>
                                            <span class="amenity"><i class="fas fa-coffee"></i> Breakfast</span>
                                            <span class="amenity"><i class="fas fa-mountain"></i> Mountain View</span>
                                        </div>
                                        <div class="room-types">
                                            <div class="room-type">
                                                <span class="room-name">Single Room</span>
                                                <span class="room-price">20,000 XAF/night</span>
                                            </div>
                                            <div class="room-type">
                                                <span class="room-name">Double Room</span>
                                                <span class="room-price">30,000 XAF/night</span>
                                            </div>
                                        </div>
                                        <div class="booking-actions">
                                            <button onclick="quickBookRoom(2)" class="quick-book-btn">Quick Book</button>
                                            <button onclick="viewHotelDetails(2)" class="details-btn">View Details</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="accommodation-card" onclick="viewAccommodationDetails(3)">
                                    <div class="accommodation-images">
                                        <img src="https://via.placeholder.com/300x200?text=Budget+Inn" alt="Budget Inn">
                                        <div class="accommodation-badge">Best Value</div>
                                        <div class="virtual-tour-btn" onclick="startVirtualTour(3)">
                                            <i class="fas fa-video"></i>
                                            <span>Virtual Tour</span>
                                        </div>
                                        <div class="wishlist-btn" onclick="addToWishlist(3)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="accommodation-details">
                                        <h4>Limbe Budget Inn</h4>
                                        <div class="accommodation-location">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>Main Street, Limbe</span>
                                        </div>
                                        <div class="accommodation-rating">
                                            <div class="stars">⭐⭐⭐</div>
                                            <span class="rating-score">4.2 (89 reviews)</span>
                                        </div>
                                        <div class="accommodation-amenities">
                                            <span class="amenity"><i class="fas fa-wifi"></i> Free WiFi</span>
                                            <span class="amenity"><i class="fas fa-shower"></i> Private Bath</span>
                                            <span class="amenity"><i class="fas fa-tv"></i> Cable TV</span>
                                            <span class="amenity"><i class="fas fa-shield-alt"></i> Security</span>
                                        </div>
                                        <div class="room-types">
                                            <div class="room-type">
                                                <span class="room-name">Economy Room</span>
                                                <span class="room-price">15,000 XAF/night</span>
                                            </div>
                                            <div class="room-type">
                                                <span class="room-name">Standard Room</span>
                                                <span class="room-price">22,000 XAF/night</span>
                                            </div>
                                        </div>
                                        <div class="booking-actions">
                                            <button onclick="quickBookRoom(3)" class="quick-book-btn">Quick Book</button>
                                            <button onclick="viewHotelDetails(3)" class="details-btn">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="live-streaming-section">
                            <h3>Live Hotel Events & Tours</h3>
                            <div class="live-streams-grid">
                                <div class="live-stream-card" onclick="joinLiveStream(1)">
                                    <div class="stream-thumbnail">
                                        <img src="https://via.placeholder.com/250x150?text=Live+Hotel+Tour" alt="Live Hotel Tour">
                                        <div class="live-indicator">
                                            <span class="live-dot"></span>
                                            <span>LIVE</span>
                                        </div>
                                        <div class="viewer-count">
                                            <i class="fas fa-eye"></i>
                                            <span>23 watching</span>
                                        </div>
                                    </div>
                                    <div class="stream-details">
                                        <h4>Live Tour: Limbe Beach Resort</h4>
                                        <p class="stream-host">Hosted by Resort Manager</p>
                                        <div class="stream-schedule">
                                            <i class="fas fa-clock"></i>
                                            <span>Started 15 minutes ago</span>
                                        </div>
                                        <div class="stream-rewards">
                                            <i class="fas fa-coins"></i>
                                            <span>Earn 50 points for watching</span>
                                        </div>
                                    </div>
                                    <button onclick="joinLiveStream(1)" class="join-stream-btn">Join Live Tour</button>
                                </div>
                                
                                <div class="live-stream-card" onclick="joinLiveStream(2)">
                                    <div class="stream-thumbnail">
                                        <img src="https://via.placeholder.com/250x150?text=Cooking+Class" alt="Cooking Class">
                                        <div class="live-indicator">
                                            <span class="live-dot"></span>
                                            <span>LIVE</span>
                                        </div>
                                        <div class="viewer-count">
                                            <i class="fas fa-eye"></i>
                                            <span>45 watching</span>
                                        </div>
                                    </div>
                                    <div class="stream-details">
                                        <h4>Live Cooking Class: Local Cuisine</h4>
                                        <p class="stream-host">Chef Maria from Hotel Restaurant</p>
                                        <div class="stream-schedule">
                                            <i class="fas fa-clock"></i>
                                            <span>Started 5 minutes ago</span>
                                        </div>
                                        <div class="stream-rewards">
                                            <i class="fas fa-coins"></i>
                                            <span>Earn 30 points for participating</span>
                                        </div>
                                    </div>
                                    <button onclick="joinLiveStream(2)" class="join-stream-btn">Join Cooking Class</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="booking-services">
                            <h3>Booking Services</h3>
                            <div class="services-grid">
                                <div class="service-item" onclick="accessConciergeService()">
                                    <i class="fas fa-concierge-bell"></i>
                                    <h4>Concierge Service</h4>
                                    <p>Personal assistance with bookings and arrangements</p>
                                    <button class="service-btn">Request Concierge</button>
                                </div>
                                <div class="service-item" onclick="accessGroupBooking()">
                                    <i class="fas fa-users"></i>
                                    <h4>Group Bookings</h4>
                                    <p>Special rates for group reservations</p>
                                    <button class="service-btn">Book for Group</button>
                                </div>
                                <div class="service-item" onclick="accessEventBooking()">
                                    <i class="fas fa-calendar-check"></i>
                                    <h4>Event Venues</h4>
                                    <p>Book hotels for weddings and events</p>
                                    <button class="service-btn">Book Event</button>
                                </div>
                                <div class="service-item" onclick="accessLoyaltyProgram()">
                                    <i class="fas fa-star"></i>
                                    <h4>Loyalty Program</h4>
                                    <p>Earn points and get exclusive benefits</p>
                                    <button class="service-btn">Join Program</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="rewards-redemption">
                            <h3>Redeem Your Points</h3>
                            <div class="rewards-grid">
                                <div class="reward-option" onclick="redeemReward('discount')">
                                    <div class="reward-icon">
                                        <i class="fas fa-percentage"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>10% Hotel Discount</h4>
                                        <p>Get 10% off your next booking</p>
                                        <div class="points-cost">500 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                                
                                <div class="reward-option" onclick="redeemReward('upgrade')">
                                    <div class="reward-icon">
                                        <i class="fas fa-arrow-up"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>Free Room Upgrade</h4>
                                        <p>Upgrade to the next room category</p>
                                        <div class="points-cost">1,000 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                                
                                <div class="reward-option" onclick="redeemReward('night')">
                                    <div class="reward-icon">
                                        <i class="fas fa-bed"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>Free Night Stay</h4>
                                        <p>One free night at participating hotels</p>
                                        <div class="points-cost">2,500 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(bookingStreamingContent);
        }

        function openShoppingMarketplace() {
            // Try multiple approaches to open the shopping marketplace
            try {
                // First try opening in new tab
                const newWindow = window.open('./modules/shopping-marketplace.html', '_blank');
                
                // If popup was blocked, try opening in same window
                if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                    // Popup blocked, open in same window
                    window.location.href = './modules/shopping-marketplace.html';
                }
            } catch (error) {
                console.error('Error opening shopping marketplace:', error);
                // Fallback: navigate to the module
                window.location.href = './modules/shopping-marketplace.html';
            }
        }

        function openEventsActivities() {
            // Try multiple approaches to open the events & activities module
            try {
                // First try opening in new tab
                const newWindow = window.open('./modules/events-activities.html', '_blank');
                
                // If popup was blocked, try opening in same window
                if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                    // Popup blocked, open in same window
                    window.location.href = './modules/events-activities.html';
                }
            } catch (error) {
                console.error('Error opening events & activities:', error);
                // Fallback: navigate to the module
                window.location.href = './modules/events-activities.html';
            }
        }
        
        // SmartGro Functions
        async function loadAgriculturalData() {
            try {
                // Load agricultural products, weather, and market prices
                const { smartGroService } = await import('./js/advanced-supabase-services.js');
                
                const [products, weather, prices] = await Promise.all([
                    smartGroService.getAgriculturalProducts(),
                    smartGroService.getWeatherData(),
                    smartGroService.getMarketPrices()
                ]);
                
                console.log('Agricultural data loaded:', { products, weather, prices });
            } catch (error) {
                console.error('Error loading agricultural data:', error);
            }
        }
        
        async function orderProduct(productType) {
            alert(`Ordering ${productType}. This will redirect to payment gateway.`);
            // Integration with payment system
            showPaymentModal('agricultural_order', productType);
        }
        
        async function submitAgriculturalProduct() {
            const postingFee = 400; // XAF
            if (confirm(`Submit product for approval? Posting fee: ${postingFee} XAF`)) {
                showPaymentModal('vendor_posting', 'agriculture');
            }
        }
        
        // Watch & Earn Functions
        async function loadWatchEarnData() {
            try {
                const { watchEarnService, pointsService } = await import('./js/advanced-supabase-services.js');
                
                const [videos, points] = await Promise.all([
                    watchEarnService.getWatchEarnVideos(),
                    pointsService.getUserPoints()
                ]);
                
                // Update points display
                document.getElementById('userPoints').textContent = points.total || 125;
                
                console.log('Watch & Earn data loaded:', { videos, points });
            } catch (error) {
                console.error('Error loading watch & earn data:', error);
            }
        }
        
        async function watchVideo(videoId, points) {
            // Simulate video watching
            const watchModal = document.createElement('div');
            watchModal.innerHTML = `
                <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:10000;display:flex;align-items:center;justify-content:center;">
                    <div style="background:white;padding:2rem;border-radius:15px;text-align:center;max-width:90%;">
                        <h5>🎬 Watching Video...</h5>
                        <p>Video: ${videoId.replace('_', ' ')}</p>
                        <div style="width:100%;height:10px;background:#e2e8f0;border-radius:5px;margin:1rem 0;">
                            <div id="videoProgress" style="width:0%;height:100%;background:#059669;border-radius:5px;transition:width 0.1s;"></div>
                        </div>
                        <p id="videoTimer">0 / 180 seconds</p>
                        <button onclick="closeVideoModal()" style="background:#dc2626;color:white;border:none;padding:0.5rem 1rem;border-radius:5px;">Skip</button>
                    </div>
                </div>
            `;
            document.body.appendChild(watchModal);
            
            // Simulate video progress
            let currentTime = 0;
            const duration = 180; // 3 minutes
            const interval = setInterval(() => {
                currentTime += 1;
                const progress = (currentTime / duration) * 100;
                document.getElementById('videoProgress').style.width = progress + '%';
                document.getElementById('videoTimer').textContent = `${currentTime} / ${duration} seconds`;
                
                if (currentTime >= duration) {
                    clearInterval(interval);
                    // Award points
                    awardPoints(points, videoId);
                    closeVideoModal();
                }
            }, 1000);
            
            window.currentVideoInterval = interval;
        }
        
        function closeVideoModal() {
            if (window.currentVideoInterval) {
                clearInterval(window.currentVideoInterval);
            }
            const modal = document.querySelector('div[style*="position:fixed"]');
            if (modal) {
                modal.remove();
            }
        }
        
        async function awardPoints(points, source) {
            try {
                const { pointsService } = await import('./js/advanced-supabase-services.js');
                await pointsService.awardPoints(points, 'video_watch', source);
                
                // Update UI
                const currentPoints = parseInt(document.getElementById('userPoints').textContent);
                document.getElementById('userPoints').textContent = currentPoints + points;
                
                alert(`🎉 Congratulations! You earned ${points} points!`);
            } catch (error) {
                console.error('Error awarding points:', error);
                alert(`Points awarded: ${points} (offline mode)`);
            }
        }
        
        async function redeemReward(rewardType, cost) {
            const currentPoints = parseInt(document.getElementById('userPoints').textContent);
            if (currentPoints >= cost) {
                if (confirm(`Redeem ${rewardType.replace('_', ' ')} for ${cost} points?`)) {
                    // Deduct points
                    document.getElementById('userPoints').textContent = currentPoints - cost;
                    alert(`🎁 ${rewardType.replace('_', ' ')} redeemed successfully!`);
                }
            } else {
                alert(`Insufficient points. You need ${cost - currentPoints} more points.`);
            }
        }
        
        // Payment Integration Functions
        function showPaymentModal(purpose, relatedData) {
            const paymentModal = document.createElement('div');
            paymentModal.innerHTML = `
                <div style="position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:10000;display:flex;align-items:center;justify-content:center;">
                    <div style="background:white;padding:2rem;border-radius:15px;text-align:center;max-width:90%;width:350px;">
                        <h5>💳 Choose Payment Method</h5>
                        <p>Purpose: ${purpose.replace('_', ' ')}</p>
                        
                        <div class="payment-method mtn-payment" onclick="selectPaymentMethod('mtn_momo')">
                            <div class="d-flex align-items-center">
                                <div class="payment-icon" style="background:#ffcb00;color:#000;">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0">MTN Mobile Money</h6>
                                    <small>Pay with MTN MoMo</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="payment-method orange-payment" onclick="selectPaymentMethod('orange_money')">
                            <div class="d-flex align-items-center">
                                <div class="payment-icon" style="background:#ff6600;">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0">Orange Money</h6>
                                    <small>Pay with Orange Money</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="payment-method flutterwave-payment" onclick="selectPaymentMethod('flutterwave')">
                            <div class="d-flex align-items-center">
                                <div class="payment-icon" style="background:#f5a623;">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0">Card Payment</h6>
                                    <small>Visa, Mastercard via Flutterwave</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <button onclick="closePaymentModal()" style="background:#6b7280;color:white;border:none;padding:0.5rem 1rem;border-radius:5px;">Cancel</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(paymentModal);
            window.currentPaymentPurpose = purpose;
            window.currentPaymentData = relatedData;
        }
        
        async function selectPaymentMethod(method) {
            const amount = getPaymentAmount(window.currentPaymentPurpose);
            const phoneNumber = prompt(`Enter your ${method.replace('_', ' ')} phone number:`);
            
            if (phoneNumber) {
                try {
                    const { paymentService } = await import('./js/advanced-supabase-services.js');
                    
                    const paymentData = {
                        amount: amount,
                        paymentMethod: method,
                        phoneNumber: phoneNumber,
                        purpose: window.currentPaymentPurpose,
                        relatedId: window.currentPaymentData
                    };
                    
                    const result = await paymentService.initiatePayment(paymentData);
                    
                    if (result.data && result.data.success) {
                        alert(`Payment initiated! Reference: ${result.data.transaction_ref}\\n${result.data.instructions}`);
                        
                        // Simulate payment confirmation after 5 seconds
                        setTimeout(() => {
                            confirmPayment(result.data.transaction_ref, 'successful');
                        }, 5000);
                    } else {
                        alert('Payment failed to initiate. Please try again.');
                    }
                } catch (error) {
                    console.error('Payment error:', error);
                    alert('Payment system offline. Please try again later.');
                }
            }
            closePaymentModal();
        }
        
        function getPaymentAmount(purpose) {
            const fees = {
                'vendor_posting': 400,
                'agricultural_order': 1000,
                'booking': 5000,
                'subscription': 2000
            };
            return fees[purpose] || 1000;
        }
        
        async function confirmPayment(transactionRef, status) {
            try {
                const { paymentService } = await import('./js/advanced-supabase-services.js');
                await paymentService.confirmPayment(transactionRef, status);
                
                if (status === 'successful') {
                    alert('🎉 Payment confirmed! Your submission has been sent for approval.');
                    // Award points for successful payment
                    awardPoints(5, 'payment_completion');
                } else {
                    alert('❌ Payment failed. Please try again.');
                }
            } catch (error) {
                console.error('Payment confirmation error:', error);
            }
        }
        
        function closePaymentModal() {
            const modal = document.querySelector('div[style*="position:fixed"]');
            if (modal) {
                modal.remove();
            }
        }
        
        // Module Manager Login Function
        async function moduleManagerLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('managerEmail').value;
            const password = document.getElementById('managerPassword').value;
            const module = document.getElementById('moduleSelect').value;
            
            try {
                const { moduleManagerService } = await import('./js/advanced-supabase-services.js');
                const result = await moduleManagerService.loginModuleManager(email, password);
                
                if (result.success && result.manager.module_name === module) {
                    // Store manager session
                    sessionStorage.setItem('moduleManager', JSON.stringify(result.manager));
                    sessionStorage.setItem('currentUser', JSON.stringify(result.user));
                    sessionStorage.setItem('userRole', 'module_manager');
                    
                    // Show module manager dashboard
                    showModuleManagerDashboard(result.manager.module_name);
                } else {
                    alert('Invalid credentials or module access denied');
                }
            } catch (error) {
                console.error('Module manager login error:', error);
                // Fallback for demo
                if (email.includes(module) && password.length > 6) {
                    sessionStorage.setItem('userRole', 'module_manager');
                    sessionStorage.setItem('managerModule', module);
                    showModuleManagerDashboard(module);
                } else {
                    alert('Invalid credentials');
                }
            }
        }
        
        function showModuleManagerDashboard(moduleName) {
            // Create dedicated module manager dashboard
            const dashboardHTML = `
                <div class="dashboard">
                    <div class="top-bar">
                        <h3>${moduleName.charAt(0).toUpperCase() + moduleName.slice(1)} Manager</h3>
                        <div class="user-info">
                            <span>Manager Dashboard</span>
                            <button class="btn btn-sm btn-outline-danger" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-content">
                        <h5>📊 Module Statistics</h5>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h6>Total Posts</h6>
                                <h3>24</h3>
                                <small class="text-success">+3 this week</small>
                            </div>
                            <div class="stat-card">
                                <h6>Pending Approval</h6>
                                <h3>7</h3>
                                <small class="text-warning">Needs review</small>
                            </div>
                            <div class="stat-card">
                                <h6>Active Users</h6>
                                <h3>156</h3>
                                <small class="text-info">+12 today</small>
                            </div>
                        </div>
                        
                        <h5 class="mt-4">📝 Content Management</h5>
                        <div class="management-actions">
                            <button class="btn btn-primary btn-lg" onclick="showContentForm('${moduleName}')">
                                <i class="fas fa-plus"></i> Add New Content
                            </button>
                            <button class="btn btn-warning btn-lg" onclick="showPendingApprovals('${moduleName}')">
                                <i class="fas fa-clock"></i> Review Pending (7)
                            </button>
                            <button class="btn btn-info btn-lg" onclick="showContentList('${moduleName}')">
                                <i class="fas fa-list"></i> Manage Existing
                            </button>
                        </div>
                        
                        <h5 class="mt-4">🔧 Module Settings</h5>
                        <div class="module-settings">
                            <button class="btn btn-secondary" onclick="changeModuleIcon('${moduleName}')">
                                <i class="fas fa-image"></i> Change Module Icon
                            </button>
                            <button class="btn btn-secondary" onclick="editModuleDescription('${moduleName}')">
                                <i class="fas fa-edit"></i> Edit Description
                            </button>
                            <button class="btn btn-secondary" onclick="managePermissions('${moduleName}')">
                                <i class="fas fa-shield-alt"></i> Permissions
                            </button>
                        </div>
                        
                        <h5 class="mt-4">📈 Analytics</h5>
                        <div class="analytics-section">
                            <div class="chart-placeholder">
                                <p>📊 Views: 1,234 this month</p>
                                <p>👥 Engagement: 89% approval rate</p>
                                <p>💰 Revenue: 45,000 XAF generated</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Replace current page content
            const page = document.createElement('div');
            page.id = 'moduleManagerDashboard';
            page.className = 'page active';
            page.innerHTML = dashboardHTML;
            
            // Hide all pages and show manager dashboard
            hideAllPages();
            document.querySelector('.app-container').appendChild(page);
        }
        
        function showContentForm(moduleName) {
            alert(`Opening content creation form for ${moduleName} module. This would allow adding new ${moduleName} entries with bilingual support.`);
        }
        
        function showPendingApprovals(moduleName) {
            alert(`Showing pending approvals for ${moduleName} module. Managers can approve/reject vendor submissions here.`);
        }
        
        function showContentList(moduleName) {
            alert(`Showing existing content for ${moduleName} module. Managers can edit/delete existing entries here.`);
        }
        
        function changeModuleIcon(moduleName) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = async function(e) {
                const file = e.target.files[0];
                if (file) {
                    try {
                        const { adminContentService } = await import('./js/advanced-supabase-services.js');
                        const result = await adminContentService.updateModuleIcon(moduleName, file);
                        
                        if (result.success) {
                            alert(`✅ Module icon updated successfully!`);
                        } else {
                            alert(`❌ Error updating icon: ${result.error}`);
                        }
                    } catch (error) {
                        alert(`Icon updated for ${moduleName} (demo mode)`);
                    }
                }
            };
            input.click();
        }
        
        function editModuleDescription(moduleName) {
            const newDescription = prompt(`Enter new description for ${moduleName} module:`);
            if (newDescription) {
                alert(`Description updated for ${moduleName}: "${newDescription}"`);
            }
        }
        
        function managePermissions(moduleName) {
            alert(`Permission management for ${moduleName} module. Set create/edit/delete/approve permissions.`);
        }
        function showIntroVideo() {
            document.getElementById('introVideoModal').style.display = 'block';
            const video = document.getElementById('introVideo');
            video.currentTime = 0; // Start from beginning
        }
        
        function closeIntroVideo() {
            document.getElementById('introVideoModal').style.display = 'none';
            const video = document.getElementById('introVideo');
            video.pause();
        }
        
        // Quick action functions
        function showSearchPage() {
            alert('Search functionality - Coming soon!');
        }
        
        function showNotifications() {
            alert('You have 3 new notifications:\n1. Welcome to Visit Limbe!\n2. Special offer: Mount Cameroon trek\n3. New photos added to gallery');
        }
        
        function showCallCenter() {
            showPage('callcenterModule');
        }

        function dialNumber(number) {
            alert('Dialing ' + number + '...');
        }

        function openSupportChat() {
            alert('Opening tourist support chat...');
        }
        
        // Admin functions
        function showModuleManagement(module) {
            alert(`Managing ${module} module:\n\n- View all ${module} entries\n- Add new entries\n- Edit existing entries\n- Delete entries\n- Monitor activity`);
        }
        
    function showSystemAdmin(system) {
            switch(system) {
                case 'icons':
            showPage('adminIconManager');
            buildIconManagerGrid();
                    break;
                case 'analytics':
                    alert('Analytics Dashboard:\n\n📊 User engagement: 94%\n📱 Daily active users: 1,247\n⭐ App rating: 4.8/5\n🔄 Session duration: 12 min\n📈 Growth rate: +15%');
                    break;
                case 'users':
                    alert('User Management:\n\n👥 Total users: 2,847\n✅ Active users: 1,247\n⛔ Blocked users: 3\n🆕 New today: 24\n🔐 Admin users: 5');
                    break;
                case 'settings':
                    showPage('adminSettingsPage');
                    buildSettingsModulesGrid();
                    loadAppSettingsToUI();
                    updateAdminDisplay(); // Load admin security info
                    break;
                case 'content':
                    alert('Content Management:\n\n📝 Text content editor\n🖼️ Image gallery manager\n📢 Ads campaign manager\n🔔 Notification templates\n🎨 UI customization');
                    break;
                default:
                    alert('System administration panel');
            }
        }
        
        // Media Management Functions
        function triggerImageUpload(module) {
            const input = document.getElementById(module + 'MediaInput');
            if (input) {
                input.click();
            } else {
                alert(`📸 Media Upload for ${module}:\n\n✓ Select images/videos\n✓ Multiple file support\n✓ Auto-resize images\n✓ Upload to cloud storage\n✓ Generate thumbnails`);
            }
        }
        
        function deleteMedia(module, filename) {
            if (confirm(`Delete ${filename} from ${module} module?`)) {
                alert(`✅ Deleted ${filename} from ${module} gallery`);
            }
        }
        
        function viewMedia(module, filename) {
            alert(`🖼️ Viewing ${filename} from ${module} module`);
        }
        
        function addMediaToModule(module) {
            alert(`📱 ${module} Media Management:\n\n✓ Upload images/videos\n✓ Edit media metadata\n✓ Create photo galleries\n✓ Video thumbnails\n✓ Share on social media`);
        }

        // Auth + User Management with Supabase
        async function checkAuthStatus() {
            try {
                // Check Supabase session
                const { data: { session }, error } = await supabase.auth.getSession();
                
                if (session && session.user) {
                    // User is authenticated, get profile
                    const userProfile = await UserService.getUserProfile(session.user.id);
                    const displayName = userProfile?.full_name || session.user.email.split('@')[0];
                    
                    // Update local session
                    const localSession = { 
                        role: 'user', 
                        name: displayName, 
                        email: session.user.email, 
                        userId: session.user.id,
                        time: Date.now() 
                    };
                    localStorage.setItem('vl_session', JSON.stringify(localSession));
                    
                    return localSession;
                } else {
                    // No valid session
                    localStorage.removeItem('vl_session');
                    return null;
                }
            } catch (error) {
                console.error('Auth check error:', error);
                localStorage.removeItem('vl_session');
                return null;
            }
        }
        
        // Enhanced Authentication Service with Email Verification and Persistent Login
        class EnhancedAuthService {
            constructor() {
                this.sessionKey = 'visitLimbe_userSession';
                this.rememberKey = 'visitLimbe_rememberUser';
                this.emailVerificationPendingKey = 'visitLimbe_emailPending';
            }

            // Sign up with email verification
            async signUp(email, password, metadata = {}) {
                try {
                    console.log('🔐 Starting user registration with email verification...');
                    
                    const { data, error } = await supabase.auth.signUp({
                        email: email,
                        password: password,
                        options: {
                            emailRedirectTo: `${window.location.origin}?email-confirmed=true`,
                            data: {
                                full_name: metadata.full_name || '',
                                location: metadata.location || 'Limbe, Cameroon'
                            }
                        }
                    });

                    if (error) throw error;

                    // Store email verification pending status
                    localStorage.setItem(this.emailVerificationPendingKey, JSON.stringify({
                        email: email,
                        timestamp: new Date().toISOString(),
                        full_name: metadata.full_name
                    }));

                    console.log('✅ Registration successful, email verification sent');
                    return { data, error: null };
                } catch (error) {
                    console.error('❌ Registration failed:', error);
                    return { data: null, error };
                }
            }

            // Sign in with remember me option
            async signIn(email, password, rememberMe = false) {
                try {
                    console.log('🔐 Attempting user login...');
                    
                    const { data, error } = await supabase.auth.signInWithPassword({
                        email: email,
                        password: password
                    });

                    if (error) throw error;

                    // Check if email is verified
                    if (!data.user.email_confirmed_at) {
                        await this.signOut(); // Sign out unverified user
                        throw new Error('Email not confirmed. Please check your email and click the verification link.');
                    }

                    // Store session based on remember me preference
                    if (rememberMe) {
                        localStorage.setItem(this.rememberKey, 'true');
                        localStorage.setItem(this.sessionKey, JSON.stringify({
                            user: data.user,
                            session: data.session,
                            timestamp: new Date().toISOString(),
                            persistent: true
                        }));
                    } else {
                        sessionStorage.setItem(this.sessionKey, JSON.stringify({
                            user: data.user,
                            session: data.session,
                            timestamp: new Date().toISOString(),
                            persistent: false
                        }));
                    }

                    // Store user data for dashboard
                    localStorage.setItem('currentUser', JSON.stringify({
                        id: data.user.id,
                        name: data.user.user_metadata?.full_name || data.user.email,
                        email: data.user.email,
                        role: 'user'
                    }));
                    localStorage.setItem('currentUserId', data.user.id);

                    // Clear email verification pending
                    localStorage.removeItem(this.emailVerificationPendingKey);

                    console.log('✅ Login successful');
                    return { data, error: null };
                } catch (error) {
                    console.error('❌ Login failed:', error);
                    return { data: null, error };
                }
            }

            // Check for existing session on app load
            async checkExistingSession() {
                try {
                    console.log('🔍 Checking for existing user session...');
                    
                    // First check Supabase session
                    const { data: { session }, error } = await supabase.auth.getSession();
                    
                    if (session && session.user.email_confirmed_at) {
                        console.log('✅ Active Supabase session found');
                        
                        // Update stored user data
                        localStorage.setItem('currentUser', JSON.stringify({
                            id: session.user.id,
                            name: session.user.user_metadata?.full_name || session.user.email,
                            email: session.user.email,
                            role: 'user'
                        }));
                        localStorage.setItem('currentUserId', session.user.id);
                        
                        return { user: session.user, session };
                    }

                    // Check stored session (remember me)
                    const storedSession = localStorage.getItem(this.sessionKey) || sessionStorage.getItem(this.sessionKey);
                    
                    if (storedSession) {
                        const sessionData = JSON.parse(storedSession);
                        const sessionAge = Date.now() - new Date(sessionData.timestamp).getTime();
                        const maxAge = sessionData.persistent ? 30 * 24 * 60 * 60 * 1000 : 24 * 60 * 60 * 1000; // 30 days vs 1 day
                        
                        if (sessionAge < maxAge && sessionData.user.email_confirmed_at) {
                            console.log('✅ Valid stored session found');
                            return { user: sessionData.user, session: sessionData.session };
                        } else {
                            console.log('⏰ Stored session expired');
                            this.clearStoredSession();
                        }
                    }

                    return null;
                } catch (error) {
                    console.error('❌ Session check failed:', error);
                    return null;
                }
            }

            // Sign out and clear all stored data
            async signOut() {
                try {
                    await supabase.auth.signOut();
                    this.clearStoredSession();
                    console.log('✅ User signed out successfully');
                } catch (error) {
                    console.error('❌ Sign out failed:', error);
                }
            }

            // Clear stored session data
            clearStoredSession() {
                localStorage.removeItem(this.sessionKey);
                sessionStorage.removeItem(this.sessionKey);
                localStorage.removeItem(this.rememberKey);
                localStorage.removeItem('currentUser');
                localStorage.removeItem('currentUserId');
            }

            // Resend email verification
            async resendEmailVerification(email) {
                try {
                    const { error } = await supabase.auth.resend({
                        type: 'signup',
                        email: email
                    });

                    if (error) throw error;
                    return { success: true };
                } catch (error) {
                    console.error('❌ Failed to resend verification:', error);
                    return { success: false, error };
                }
            }

            // Check if email verification is pending
            getEmailVerificationPending() {
                const pending = localStorage.getItem(this.emailVerificationPendingKey);
                return pending ? JSON.parse(pending) : null;
            }

            // Reset password
            async resetPassword(email) {
                try {
                    const { error } = await supabase.auth.resetPasswordForEmail(email, {
                        redirectTo: `${window.location.origin}?reset-password=true`
                    });
                    
                    if (error) throw error;
                    return { success: true };
                } catch (error) {
                    console.error('❌ Password reset failed:', error);
                    return { success: false, error };
                }
            }
        }

        // Global enhanced auth service instance
        const EnhancedAuth = new EnhancedAuthService();
        
        // Initialize authentication on page load
        async function initializeAuth() {
            try {
                console.log('🔍 Initializing authentication...');
                
                // Check URL for email confirmation
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.get('email-confirmed') === 'true') {
                    showNotification('✅ Email verified successfully! You can now login.', 'success');
                    showLoginPage('user');
                    return;
                }
                
                // Check for existing session
                const session = await EnhancedAuth.checkExistingSession();
                
                if (session) {
                    console.log('✅ Existing session found, redirecting to dashboard');
                    showNotification('✅ Welcome back!', 'success');
                    showUserDashboard();
                } else {
                    console.log('ℹ️ No existing session, showing welcome page');
                    
                    // Check if there's a pending email verification
                    const pendingVerification = EnhancedAuth.getEmailVerificationPending();
                    if (pendingVerification) {
                        showEmailVerificationPage(pendingVerification.email, pendingVerification.full_name);
                    } else {
                        showWelcomePage();
                    }
                }
            } catch (error) {
                console.error('❌ Auth initialization failed:', error);
                showWelcomePage();
            }
        }

        // Show email verification page
        function showEmailVerificationPage(email, fullName) {
            hideAllPages();
            
            // Create email verification page if it doesn't exist
            let verificationPage = document.getElementById('emailVerificationPage');
            if (!verificationPage) {
                verificationPage = document.createElement('div');
                verificationPage.id = 'emailVerificationPage';
                verificationPage.className = 'page';
                verificationPage.innerHTML = `
                    <div class="auth-page">
                        <div class="auth-container">
                            <div class="auth-header text-center">
                                <div class="email-icon">
                                    <i class="fas fa-envelope" style="font-size: 3rem; color: var(--primary); margin-bottom: 1rem;"></i>
                                </div>
                                <h2>Check Your Email</h2>
                                <p>We've sent a verification link to:</p>
                                <strong id="verificationEmail" style="color: var(--primary);">${email}</strong>
                            </div>
                            
                            <div class="verification-content text-center">
                                <div class="verification-instructions">
                                    <h4>Next Steps:</h4>
                                    <ol style="text-align: left; padding-left: 1.5rem; line-height: 1.6;">
                                        <li>Open your email inbox</li>
                                        <li>Look for an email from Visit Limbe</li>
                                        <li>Click the verification link</li>
                                        <li>Return here to login</li>
                                    </ol>
                                </div>
                                
                                <div class="verification-actions" style="margin-top: 2rem;">
                                    <button class="btn-auth" onclick="resendEmailVerification('${email}')" style="margin-bottom: 1rem;">
                                        <i class="fas fa-paper-plane"></i> Resend Email
                                    </button>
                                    <br>
                                    <button class="btn-secondary-cta" onclick="showLoginPage('user')">
                                        <i class="fas fa-sign-in-alt"></i> I've Verified, Let Me Login
                                    </button>
                                </div>
                                
                                <div class="help-text" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #e0e0e0;">
                                    <p style="font-size: 0.9rem; color: var(--text-secondary);">
                                        <strong>Having trouble?</strong><br>
                                        Check your spam folder or <a href="#" onclick="showLoginPage('user')" style="color: var(--primary);">go back to login</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(verificationPage);
            } else {
                // Update email if page already exists
                const emailElement = verificationPage.querySelector('#verificationEmail');
                if (emailElement) {
                    emailElement.textContent = email;
                }
            }
            
            verificationPage.style.display = 'block';
        }

        // Resend email verification
        async function resendEmailVerification(email) {
            try {
                const result = await EnhancedAuth.resendEmailVerification(email);
                
                if (result.success) {
                    showNotification('✅ Verification email sent! Please check your inbox.', 'success');
                } else {
                    showNotification('❌ Failed to send verification email. Please try again later.', 'error');
                }
            } catch (error) {
                showNotification('❌ Failed to resend verification email.', 'error');
            }
        }

        // Small helper to escape HTML when inserting content
        function escapeHtml(unsafe) {
            if (unsafe == null) return '';
            return String(unsafe)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');
        }

        // Modal system functions
        function showModal(title, content) {
            // Remove existing modal if any
            hideAllModals();
            
            const modal = document.createElement('div');
            modal.id = 'dynamicModal';
            modal.className = 'modal';
            modal.style.display = 'block';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h4>${escapeHtml(title)}</h4>
                        <button type="button" class="btn btn-sm btn-secondary" onclick="hideAllModals()">&times;</button>
                    </div>
                    <div class="modal-body">
                        ${content}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Close on background click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) hideAllModals();
            });
        }

        function hideAllModals() {
            const modals = document.querySelectorAll('.modal, #dynamicModal');
            modals.forEach(modal => {
                if (modal.parentNode) {
                    modal.parentNode.removeChild(modal);
                }
            });
        }

        // Alert system function
        function showAlert(message, type = 'info') {
            // Remove existing alerts
            const existingAlerts = document.querySelectorAll('.dynamic-alert');
            existingAlerts.forEach(alert => alert.remove());
            
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} dynamic-alert`;
            alertDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                max-width: 400px;
                padding: 12px 16px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                background: ${type === 'success' ? '#d4edda' : type === 'error' ? '#f8d7da' : '#d1ecf1'};
                color: ${type === 'success' ? '#155724' : type === 'error' ? '#721c24' : '#0c5460'};
                border: 1px solid ${type === 'success' ? '#c3e6cb' : type === 'error' ? '#f5c6cb' : '#bee5eb'};
                animation: slideIn 0.3s ease-out;
            `;
            alertDiv.textContent = message;
            
            // Add close button
            const closeBtn = document.createElement('button');
            closeBtn.innerHTML = '&times;';
            closeBtn.style.cssText = 'float: right; background: none; border: none; font-size: 18px; cursor: pointer; margin-left: 10px;';
            closeBtn.onclick = () => alertDiv.remove();
            alertDiv.appendChild(closeBtn);
            
            document.body.appendChild(alertDiv);
            
            // Auto-remove after 5 seconds
            setTimeout(() => {
                if (alertDiv.parentNode) alertDiv.remove();
            }, 5000);
        }

        // Refresh offers list from Supabase
        async function refreshOffersList() {
            try {
                const adsService = window.VisitLimbeServices?.Ads;
                if (!adsService) return;
                
                const { data: offers, error } = await adsService.getAds();
                if (error) {
                    console.warn('Failed to refresh offers:', error);
                    return;
                }
                
                const listEl = document.getElementById('offersList');
                if (listEl && offers) {
                    listEl.innerHTML = offers.map(o => `
                        <div class="card p-3 mb-2">
                            <strong>${escapeHtml(o.title || '')}</strong>
                            <div class="text-muted small">${escapeHtml(o.description || '')}</div>
                        </div>
                    `).join('');
                }
            } catch(e) {
                console.warn('refreshOffersList error:', e);
            }
        }
        
        // Password reset function
        async function resetPassword(email) {
            try {
                const { error } = await AuthService.resetPassword(email);
                
                if (error) {
                    alert('Password reset failed: ' + error.message);
                    return;
                }
                
                showNotification('✅ Password reset email sent! Check your inbox.', 'success');
                
            } catch (error) {
                console.error('Password reset error:', error);
                alert('Password reset failed. Please try again.');
            }
        }
        
        // Show forgot password modal
        function showForgotPassword() {
            showModal('Reset Password', `
                <div class="forgot-password-form">
                    <p>Enter your email address and we'll send you a link to reset your password.</p>
                    <form onsubmit="handlePasswordReset(event)">
                        <div class="form-group">
                            <label>Email Address:</label>
                            <input type="email" id="resetEmail" class="form-control" placeholder="Enter your email" required>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Send Reset Link</button>
                            <button type="button" onclick="hideAllModals()" class="btn-secondary">Cancel</button>
                        </div>
                    </form>
                </div>
            `);
        }
        
        // Handle password reset submission
        async function handlePasswordReset(event) {
            event.preventDefault();
            const email = document.getElementById('resetEmail').value.trim();
            
            if (!email) {
                alert('Please enter your email address');
                return;
            }
            
            // Show loading
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Sending...';
            submitBtn.disabled = true;
            
            try {
                await resetPassword(email);
                hideAllModals();
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }

        function getUsersStore() {
            try { return JSON.parse(localStorage.getItem('vl_users') || '{}'); } catch { return {}; }
        }
        function saveUsersStore(store) {
            localStorage.setItem('vl_users', JSON.stringify(store));
        }
        function upsertUserProfile({ email, name }) {
            if (!email) return null;
            const store = getUsersStore();
            store[email] = store[email] || {};
            store[email].email = email;
            if (name) store[email].name = name;
            saveUsersStore(store);
            return store[email];
        }
        function getUserProfile(email) {
            if (!email) return null;
            const store = getUsersStore();
            return store[email] || null;
        }

        async function userLogin(event) {
            event.preventDefault();
            const email = (document.getElementById('loginEmail')?.value || '').trim();
            const password = (document.getElementById('loginPassword')?.value || '').trim();
            const rememberMe = document.getElementById('rememberMe')?.checked || false;

            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="loading-spinner"></div>Logging in...';
            submitBtn.disabled = true;
            submitBtn.classList.add('loading');

            try {
                // Use enhanced auth service with remember me
                const { data, error } = await EnhancedAuth.signIn(email, password, rememberMe);

                if (error) {
                    if (error.message.includes('Invalid login credentials')) {
                        showNotification('❌ Invalid email or password', 'error');
                    } else if (error.message.includes('Email not confirmed')) {
                        showNotification('❌ Please verify your email before logging in. Check your inbox.', 'error');
                        
                        // Show resend verification option
                        setTimeout(() => {
                            const resendBtn = document.createElement('button');
                            resendBtn.className = 'btn-secondary-cta mt-2';
                            resendBtn.textContent = 'Resend Verification Email';
                            resendBtn.onclick = () => resendEmailVerification(email);
                            
                            const form = event.target;
                            if (!form.querySelector('.resend-verification')) {
                                resendBtn.classList.add('resend-verification');
                                form.appendChild(resendBtn);
                            }
                        }, 2000);
                        
                        return;
                    } else if (error.message.includes('too many requests')) {
                        showNotification('⏰ Too many login attempts. Please wait before trying again.', 'error');
                    } else {
                        showNotification('❌ Login failed: ' + error.message, 'error');
                    }
                    return;
                }

                // Login successful
                showNotification('✅ Welcome back! Loading your dashboard...', 'success');
                
                // Clear form
                event.target.reset();
                
                // Redirect to dashboard after brief delay
                setTimeout(() => {
                    showUserDashboard();
                }, 1500);

            } catch (error) {
                console.error('Login error:', error);
                showNotification('❌ Login failed. Please try again.', 'error');
            } finally {
                // Reset button state
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                submitBtn.classList.remove('loading');
            }
        }

        async function userRegister(event) {
            event.preventDefault();
            const fullName = (document.getElementById('registerFullName')?.value || '').trim();
            const email = (document.getElementById('registerEmail')?.value || '').trim();
            const password = (document.getElementById('registerPassword')?.value || '').trim();
            const confirmPassword = (document.getElementById('confirmPassword')?.value || '').trim();

            if (password !== confirmPassword) {
                showNotification('❌ Passwords do not match!', 'error');
                return;
            }

            if (password.length < 6) {
                showNotification('❌ Password must be at least 6 characters long!', 'error');
                return;
            }

            // Show loading state
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Creating Account...';
            submitBtn.disabled = true;

            try {
                // Use Supabase authentication with email confirmation
                const { data, error } = await AuthService.signUp(email, password, {
                    full_name: fullName,
                    email_confirm: true
                });

                if (error) {
                    showNotification('❌ Registration failed: ' + error.message, 'error');
                    return;
                }

                // Create user profile in database (will be activated after email confirmation)
                if (data.user) {
                    await UserService.createUserProfile({
                        user_id: data.user.id,
                        email: email,
                        full_name: fullName,
                        phone: '',
                        location: 'Limbe, Cameroon',
                        email_confirmed: false
                    });
                }

                // Clear form
                event.target.reset();

                // Show success message and redirect to login
                showNotification('✅ Registration successful! Please check your email and click the confirmation link to activate your account.', 'success');

                // Redirect to login page after 3 seconds
                setTimeout(() => {
                    showLoginPage('user');
                    // Add verification message to login page
                    setTimeout(() => {
                        const loginContainer = document.querySelector('#userLoginPage .auth-container');
                        if (loginContainer) {
                            const verificationMsg = document.createElement('div');
                            verificationMsg.className = 'alert alert-info text-center mb-3';
                            verificationMsg.innerHTML = '<i class="fas fa-envelope"></i> Please check your email and click the confirmation link before logging in.';
                            loginContainer.insertBefore(verificationMsg, loginContainer.querySelector('form'));
                        }
                    }, 100);
                }, 3000);

            } catch (error) {
                console.error('Registration error:', error);
                showNotification('❌ Registration failed. Please try again.', 'error');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }

        // Function to check if user exists when email is entered
        async function checkExistingUser(email) {
            if (!email || !email.includes('@')) return;

            const statusMessage = document.getElementById('userStatusMessage');
            if (!statusMessage) return;

            try {
                // Check if user exists in Supabase auth
                const { data, error } = await supabase.auth.getUser();

                // For demo purposes, we'll show a message based on email pattern
                // In production, you might want to check against your user database
                const existingUsers = ['admin@visitlimbe.com', 'admin', 'demo@visitlimbe.com'];

                if (existingUsers.includes(email.toLowerCase())) {
                    statusMessage.className = 'user-status-message success';
                    statusMessage.innerHTML = '<i class="fas fa-check-circle"></i> Compte existant détecté - Entrez votre mot de passe';
                    statusMessage.style.display = 'block';
                } else {
                    statusMessage.className = 'user-status-message info';
                    statusMessage.innerHTML = '<i class="fas fa-info-circle"></i> Nouveau compte détecté - <a href="#" onclick="showRegisterPage()">Créer un compte</a>';
                    statusMessage.style.display = 'block';
                }

                // Hide message after 5 seconds
                setTimeout(() => {
                    statusMessage.style.display = 'none';
                }, 5000);

            } catch (error) {
                console.error('Error checking user:', error);
            }
        }

        // Function to handle email confirmation redirect
        function handleEmailConfirmation() {
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');
            const type = urlParams.get('type');

            if (type === 'signup' && token) {
                // Email confirmed successfully
                showNotification('✅ Email confirmé avec succès ! Vous pouvez maintenant vous connecter.', 'success');
                showLoginPage('user');

                // Clean URL
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }

        // Call this function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            handleEmailConfirmation();
        });

        function adminLogin(event) {
            event.preventDefault();
            const username = (document.getElementById('adminUsername')?.value || '').trim();
            const password = (document.getElementById('adminPassword')?.value || '').trim();
            // Simple configurable defaults; replace with Supabase/Auth later
            const defaultAdmin = JSON.parse(localStorage.getItem('vl_admin') || '{"username":"admin","password":"admin123"}');
            const ok = username === defaultAdmin.username && password === defaultAdmin.password;
            if (!ok) {
                alert('Invalid admin credentials');
                return;
            }
            const session = { role: 'admin', name: username, time: Date.now() };
            localStorage.setItem('vl_session', JSON.stringify(session));
            alert('Admin login successful!');
            showAdminDashboard();
        }

        async function logout() {
            try {
                // Sign out from Supabase
                await AuthService.signOut();
                
                // Clear local session
                localStorage.removeItem('vl_session');
                
                showNotification('✅ Logged out successfully', 'success');
                showWelcomePage();
                
            } catch (error) {
                console.error('Logout error:', error);
                // Clear local session anyway
                localStorage.removeItem('vl_session');
                showWelcomePage();
            }
        }

        // ============== Admin Security Functions ==============
        
        function updateAdminDisplay() {
            const adminData = JSON.parse(localStorage.getItem('vl_admin') || '{"username":"admin","password":"admin123"}');
            const usernameEl = document.getElementById('currentAdminUsername');
            const lastChangeEl = document.getElementById('lastPasswordChange');
            
            if (usernameEl) usernameEl.textContent = adminData.username;
            if (lastChangeEl) {
                const lastChange = adminData.lastPasswordChange;
                lastChangeEl.textContent = lastChange ? new Date(lastChange).toLocaleString('fr-FR') : 'Jamais';
            }
        }
        
        function changeAdminUsername() {
            const newUsername = document.getElementById('newAdminUsername').value.trim();
            const currentPassword = document.getElementById('confirmCurrentPasswordForUsername').value.trim();
            
            if (!newUsername) {
                alert('❌ Veuillez entrer un nouveau nom d\'utilisateur');
                return;
            }
            
            if (newUsername.length < 4) {
                alert('❌ Le nom d\'utilisateur doit contenir au moins 4 caractères');
                return;
            }
            
            if (newUsername.includes(' ')) {
                alert('❌ Le nom d\'utilisateur ne peut pas contenir d\'espaces');
                return;
            }
            
            if (!currentPassword) {
                alert('❌ Veuillez entrer votre mot de passe actuel pour confirmer');
                return;
            }
            
            // Verify current password
            const adminData = JSON.parse(localStorage.getItem('vl_admin') || '{"username":"admin","password":"admin123"}');
            if (currentPassword !== adminData.password) {
                alert('❌ Mot de passe actuel incorrect');
                return;
            }
            
            // Update username
            adminData.username = newUsername;
            adminData.lastUsernameChange = Date.now();
            localStorage.setItem('vl_admin', JSON.stringify(adminData));
            
            // Clear form
            document.getElementById('newAdminUsername').value = '';
            document.getElementById('confirmCurrentPasswordForUsername').value = '';
            
            // Update display
            updateAdminDisplay();
            
            alert(`✅ Nom d'utilisateur changé avec succès!\n\nNouveau username: ${newUsername}\n\n⚠️ Vous devrez utiliser ce nouveau nom d'utilisateur lors de votre prochaine connexion.`);
        }
        
        function changeAdminPassword() {
            const currentPassword = document.getElementById('currentAdminPassword').value.trim();
            const newPassword = document.getElementById('newAdminPassword').value.trim();
            const confirmPassword = document.getElementById('confirmNewPassword').value.trim();
            
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('❌ Veuillez remplir tous les champs');
                return;
            }
            
            if (newPassword.length < 6) {
                alert('❌ Le nouveau mot de passe doit contenir au moins 6 caractères');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('❌ La confirmation du mot de passe ne correspond pas');
                return;
            }
            
            // Verify current password
            const adminData = JSON.parse(localStorage.getItem('vl_admin') || '{"username":"admin","password":"admin123"}');
            if (currentPassword !== adminData.password) {
                alert('❌ Mot de passe actuel incorrect');
                return;
            }
            
            if (newPassword === currentPassword) {
                alert('❌ Le nouveau mot de passe doit être différent de l\'actuel');
                return;
            }
            
            // Update password
            adminData.password = newPassword;
            adminData.lastPasswordChange = Date.now();
            localStorage.setItem('vl_admin', JSON.stringify(adminData));
            
            // Clear form
            document.getElementById('currentAdminPassword').value = '';
            document.getElementById('newAdminPassword').value = '';
            document.getElementById('confirmNewPassword').value = '';
            
            // Update display
            updateAdminDisplay();
            
            alert(`✅ Mot de passe changé avec succès!\n\n🔒 Votre compte admin est maintenant plus sécurisé.\n⚠️ Vous devrez utiliser ce nouveau mot de passe lors de votre prochaine connexion.`);
        }
        
        function generateSecurePassword() {
            const charset = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*';
            let password = '';
            for (let i = 0; i < 12; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }
            
            // Set generated password in the form
            document.getElementById('newAdminPassword').value = password;
            document.getElementById('confirmNewPassword').value = password;
            
            alert(`🔐 Mot de passe sécurisé généré!\n\nMot de passe: ${password}\n\n✅ Le mot de passe a été automatiquement rempli dans les champs.\n⚠️ Assurez-vous de le sauvegarder avant de le changer!`);
        }
        
        function resetToDefaults() {
            if (confirm('⚠️ ATTENTION!\n\nCette action va remettre les identifiants admin aux valeurs par défaut:\nUsername: admin\nPassword: admin123\n\nÊtes-vous sûr de vouloir continuer?')) {
                const defaultAdmin = {
                    username: 'admin',
                    password: 'admin123',
                    lastPasswordChange: Date.now(),
                    resetToDefaults: Date.now()
                };
                
                localStorage.setItem('vl_admin', JSON.stringify(defaultAdmin));
                updateAdminDisplay();
                
                alert('✅ Identifiants remis aux valeurs par défaut!\n\nUsername: admin\nPassword: admin123\n\n⚠️ Changez ces identifiants dès que possible pour des raisons de sécurité.');
            }
        }
        
        function exportSecurityBackup() {
            const adminData = JSON.parse(localStorage.getItem('vl_admin') || '{"username":"admin","password":"admin123"}');
            const backupData = {
                username: adminData.username,
                passwordHash: btoa(adminData.password), // Simple encoding, not real security
                lastPasswordChange: adminData.lastPasswordChange,
                backupDate: Date.now(),
                appVersion: 'Visit Limbe v1.0'
            };
            
            const dataStr = JSON.stringify(backupData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = `visit-limbe-admin-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            alert('✅ Sauvegarde de sécurité exportée!\n\n📁 Le fichier de sauvegarde a été téléchargé.\n🔒 Conservez-le en lieu sûr pour restaurer vos identifiants si nécessaire.');
        }

        // User Dashboard Functions
        function showExplore() {
            // Show explore page with all modules
            showSearchPage();
        }

        function showSaved() {
            // Show saved items page
            alert('Saved items feature coming soon!');
        }

        function showProfile() {
            // Show user profile page
            alert('Profile page coming soon!');
        }

        // =============================================
        // 🧑‍💻 USER PROFILE SETTINGS FUNCTION
        // =============================================
        function showProfileSettings() {
            console.log('Opening Profile Settings...');

            // Create or show profile settings modal
            let modal = document.getElementById('profileSettingsModal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'profileSettingsModal';
                modal.className = 'modal';
                modal.innerHTML = `
                    <div class="modal-content" style="max-width: 800px; width: 90%;">
                        <div class="modal-header">
                            <h3><i class="fas fa-user-cog"></i> Paramètres du Profil</h3>
                            <button class="close-btn" onclick="closeProfileSettings()">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="profile-settings-container">
                                <!-- Personal Information -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-id-card"></i> Informations Personnelles</h4>
                                    <div class="settings-grid">
                                        <div class="form-group">
                                            <label>Nom complet</label>
                                            <input type="text" id="userFullName" class="form-control" placeholder="Votre nom complet">
                                        </div>
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" id="userEmail" class="form-control" placeholder="votre.email@example.com">
                                        </div>
                                        <div class="form-group">
                                            <label>Téléphone</label>
                                            <input type="tel" id="userPhone" class="form-control" placeholder="+237 6XX XXX XXX">
                                        </div>
                                        <div class="form-group">
                                            <label>Date de naissance</label>
                                            <input type="date" id="userBirthDate" class="form-control">
                                        </div>
                                    </div>
                                </div>

                                <!-- Profile Picture -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-camera"></i> Photo de Profil</h4>
                                    <div class="profile-picture-section">
                                        <div class="current-picture">
                                            <img id="currentProfilePic" src="https://via.placeholder.com/100x100?text=Photo" alt="Profile Picture" style="width: 100px; height: 100px; border-radius: 50%; object-fit: cover;">
                                        </div>
                                        <div class="picture-controls">
                                            <input type="file" id="profilePicInput" accept="image/*" style="display: none;">
                                            <button class="btn btn-outline-primary" onclick="document.getElementById('profilePicInput').click()">
                                                <i class="fas fa-upload"></i> Changer la photo
                                            </button>
                                            <button class="btn btn-outline-danger" onclick="removeProfilePicture()">
                                                <i class="fas fa-trash"></i> Supprimer
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Preferences -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-sliders-h"></i> Préférences</h4>
                                    <div class="settings-grid">
                                        <div class="form-group">
                                            <label>Langue préférée</label>
                                            <select id="userPreferredLanguage" class="form-control">
                                                <option value="fr">Français</option>
                                                <option value="en">English</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Devise</label>
                                            <select id="userCurrency" class="form-control">
                                                <option value="XAF">FCFA (XAF)</option>
                                                <option value="EUR">Euro (€)</option>
                                                <option value="USD">Dollar ($)</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Format de date</label>
                                            <select id="userDateFormat" class="form-control">
                                                <option value="DD/MM/YYYY">JJ/MM/AAAA</option>
                                                <option value="MM/DD/YYYY">MM/JJ/AAAA</option>
                                                <option value="YYYY-MM-DD">AAAA-MM-JJ</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Thème</label>
                                            <select id="userTheme" class="form-control">
                                                <option value="light">Clair</option>
                                                <option value="dark">Sombre</option>
                                                <option value="auto">Automatique</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Notifications -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-bell"></i> Notifications</h4>
                                    <div class="notification-settings">
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="notifyPromotions" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Promotions et offres spéciales</span>
                                        </div>
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="notifyEvents" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Événements locaux</span>
                                        </div>
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="notifyBookings" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Confirmations de réservation</span>
                                        </div>
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="notifyUpdates" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Mises à jour de l'application</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Privacy & Security -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-shield-alt"></i> Confidentialité & Sécurité</h4>
                                    <div class="security-settings">
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="profileVisibility" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Profil visible par les autres utilisateurs</span>
                                        </div>
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="locationSharing" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Partager ma localisation</span>
                                        </div>
                                        <div class="setting-item">
                                            <label class="switch">
                                                <input type="checkbox" id="dataAnalytics" checked>
                                                <span class="slider round"></span>
                                            </label>
                                            <span>Autoriser l'analyse d'usage</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Favorite Modules -->
                                <div class="settings-section">
                                    <h4><i class="fas fa-star"></i> Modules Favoris</h4>
                                    <div class="favorite-modules" id="favoriteModulesList">
                                        <!-- Will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="closeProfileSettings()">Annuler</button>
                            <button class="btn btn-primary" onclick="saveProfileSettings()">
                                <i class="fas fa-save"></i> Enregistrer les modifications
                            </button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);

                // Add CSS styles for the modal
                const style = document.createElement('style');
                style.textContent = `
                    .profile-settings-container {
                        display: flex;
                        flex-direction: column;
                        gap: 2rem;
                    }

                    .settings-section {
                        background: #f8fafc;
                        border-radius: 12px;
                        padding: 1.5rem;
                        border: 1px solid #e2e8f0;
                    }

                    .settings-section h4 {
                        margin: 0 0 1rem 0;
                        color: #1e293b;
                        font-size: 1.1rem;
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                    }

                    .settings-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                        gap: 1rem;
                    }

                    .form-group {
                        display: flex;
                        flex-direction: column;
                        gap: 0.5rem;
                    }

                    .form-group label {
                        font-weight: 600;
                        color: #475569;
                        font-size: 0.9rem;
                    }

                    .profile-picture-section {
                        display: flex;
                        align-items: center;
                        gap: 2rem;
                        flex-wrap: wrap;
                    }

                    .current-picture {
                        position: relative;
                    }

                    .picture-controls {
                        display: flex;
                        flex-direction: column;
                        gap: 0.5rem;
                    }

                    .notification-settings, .security-settings {
                        display: flex;
                        flex-direction: column;
                        gap: 1rem;
                    }

                    .setting-item {
                        display: flex;
                        align-items: center;
                        gap: 1rem;
                        padding: 0.5rem 0;
                    }

                    .switch {
                        position: relative;
                        display: inline-block;
                        width: 50px;
                        height: 24px;
                    }

                    .switch input {
                        opacity: 0;
                        width: 0;
                        height: 0;
                    }

                    .slider {
                        position: absolute;
                        cursor: pointer;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;
                        background-color: #ccc;
                        transition: .4s;
                        border-radius: 24px;
                    }

                    .slider:before {
                        position: absolute;
                        content: "";
                        height: 18px;
                        width: 18px;
                        left: 3px;
                        bottom: 3px;
                        background-color: white;
                        transition: .4s;
                        border-radius: 50%;
                    }

                    input:checked + .slider {
                        background-color: #667eea;
                    }

                    input:checked + .slider:before {
                        transform: translateX(26px);
                    }

                    .favorite-modules {
                        display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                        gap: 0.5rem;
                    }

                    .favorite-module-item {
                        display: flex;
                        align-items: center;
                        gap: 0.5rem;
                        padding: 0.5rem;
                        background: white;
                        border-radius: 8px;
                        border: 1px solid #e2e8f0;
                        font-size: 0.9rem;
                    }

                    .favorite-module-item input[type="checkbox"] {
                        margin: 0;
                    }

                    @media (max-width: 768px) {
                        .settings-grid {
                            grid-template-columns: 1fr;
                        }

                        .profile-picture-section {
                            flex-direction: column;
                            text-align: center;
                        }
                    }
                `;
                document.head.appendChild(style);
            }

            // Load current user settings
            loadCurrentUserSettings();

            // Show modal
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeProfileSettings() {
            const modal = document.getElementById('profileSettingsModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        }

        function loadCurrentUserSettings() {
            try {
                // Get current user session
                const session = JSON.parse(localStorage.getItem('vl_session') || '{}');
                const userProfile = getUserProfile(session.email || '');

                // Load personal information
                document.getElementById('userFullName').value = userProfile.name || '';
                document.getElementById('userEmail').value = session.email || '';
                document.getElementById('userPhone').value = userProfile.phone || '';
                document.getElementById('userBirthDate').value = userProfile.birthDate || '';

                // Load preferences
                const settings = getAppSettings();
                document.getElementById('userPreferredLanguage').value = localStorage.getItem('visitLimbeLanguage') || 'fr';
                document.getElementById('userCurrency').value = userProfile.currency || 'XAF';
                document.getElementById('userDateFormat').value = userProfile.dateFormat || 'DD/MM/YYYY';
                document.getElementById('userTheme').value = userProfile.theme || 'light';

                // Load notification preferences
                document.getElementById('notifyPromotions').checked = userProfile.notifications?.promotions !== false;
                document.getElementById('notifyEvents').checked = userProfile.notifications?.events !== false;
                document.getElementById('notifyBookings').checked = userProfile.notifications?.bookings !== false;
                document.getElementById('notifyUpdates').checked = userProfile.notifications?.updates !== false;

                // Load privacy settings
                document.getElementById('profileVisibility').checked = userProfile.privacy?.profileVisible !== false;
                document.getElementById('locationSharing').checked = userProfile.privacy?.locationSharing !== false;
                document.getElementById('dataAnalytics').checked = userProfile.privacy?.dataAnalytics !== false;

                // Load profile picture
                const profilePic = document.getElementById('currentProfilePic');
                if (userProfile.profilePic) {
                    profilePic.src = userProfile.profilePic;
                }

                // Load favorite modules
                loadFavoriteModules();

            } catch (error) {
                console.error('Error loading user settings:', error);
            }
        }

        function saveProfileSettings() {
            try {
                const session = JSON.parse(localStorage.getItem('vl_session') || '{}');

                if (!session.email) {
                    alert('Erreur: Aucun utilisateur connecté');
                    return;
                }

                // Collect form data
                const userData = {
                    name: document.getElementById('userFullName').value,
                    email: session.email,
                    phone: document.getElementById('userPhone').value,
                    birthDate: document.getElementById('userBirthDate').value,
                    currency: document.getElementById('userCurrency').value,
                    dateFormat: document.getElementById('userDateFormat').value,
                    theme: document.getElementById('userTheme').value,
                    notifications: {
                        promotions: document.getElementById('notifyPromotions').checked,
                        events: document.getElementById('notifyEvents').checked,
                        bookings: document.getElementById('notifyBookings').checked,
                        updates: document.getElementById('notifyUpdates').checked
                    },
                    privacy: {
                        profileVisible: document.getElementById('profileVisibility').checked,
                        locationSharing: document.getElementById('locationSharing').checked,
                        dataAnalytics: document.getElementById('dataAnalytics').checked
                    },
                    updatedAt: new Date().toISOString()
                };

                // Save to user store
                upsertUserProfile(userData);

                // Save language preference
                const selectedLang = document.getElementById('userPreferredLanguage').value;
                localStorage.setItem('visitLimbeLanguage', selectedLang);
                switchLanguage(selectedLang);

                // Save favorite modules
                saveFavoriteModules();

                // Show success message
                showNotification('✅ Paramètres enregistrés avec succès!', 'success');

                // Close modal
                closeProfileSettings();

            } catch (error) {
                console.error('Error saving profile settings:', error);
                showNotification('❌ Erreur lors de la sauvegarde', 'error');
            }
        }

        function loadFavoriteModules() {
            const modulesList = document.getElementById('favoriteModulesList');
            const favoriteModules = JSON.parse(localStorage.getItem('userFavoriteModules') || '[]');

            const modules = [
                { key: 'booking', name: 'Hôtels', icon: 'fas fa-hotel' },
                { key: 'shopping', name: 'Shopping', icon: 'fas fa-shopping-bag' },
                { key: 'culture', name: 'Culture', icon: 'fas fa-theater-masks' },
                { key: 'health', name: 'Santé', icon: 'fas fa-hospital' },
                { key: 'transport', name: 'Transport', icon: 'fas fa-car' },
                { key: 'education', name: 'Éducation', icon: 'fas fa-graduation-cap' },
                { key: 'jobs', name: 'Emploi', icon: 'fas fa-briefcase' },
                { key: 'finance', name: 'Finance', icon: 'fas fa-money-bill-wave' }
            ];

            modulesList.innerHTML = modules.map(module => `
                <div class="favorite-module-item">
                    <input type="checkbox" id="fav-${module.key}"
                           ${favoriteModules.includes(module.key) ? 'checked' : ''}>
                    <label for="fav-${module.key}">
                        <i class="${module.icon}"></i> ${module.name}
                    </label>
                </div>
            `).join('');
        }

        function saveFavoriteModules() {
            const favoriteModules = [];
            const checkboxes = document.querySelectorAll('#favoriteModulesList input[type="checkbox"]');

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    favoriteModules.push(checkbox.id.replace('fav-', ''));
                }
            });

            localStorage.setItem('userFavoriteModules', JSON.stringify(favoriteModules));
        }

        function removeProfilePicture() {
            const profilePic = document.getElementById('currentProfilePic');
            profilePic.src = 'https://via.placeholder.com/100x100?text=Photo';

            // Update user profile
            const session = JSON.parse(localStorage.getItem('vl_session') || '{}');
            if (session.email) {
                const userProfile = getUserProfile(session.email);
                userProfile.profilePic = null;
                upsertUserProfile(userProfile);
            }
        }

        // Handle profile picture upload
        document.addEventListener('change', function(e) {
            if (e.target.id === 'profilePicInput') {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const profilePic = document.getElementById('currentProfilePic');
                        profilePic.src = event.target.result;

                        // Save to user profile
                        const session = JSON.parse(localStorage.getItem('vl_session') || '{}');
                        if (session.email) {
                            const userProfile = getUserProfile(session.email);
                            userProfile.profilePic = event.target.result;
                            upsertUserProfile(userProfile);
                        }
                    };
                    reader.readAsDataURL(file);
                }
            }
        });

        function showAllModules() {
            // Toggle between detailed view and simple grid
            const detailedView = document.querySelector('.modules-grid-detailed').parentElement;
            const simpleGrid = document.getElementById('modulesGrid');
            
            if (simpleGrid.style.display === 'none') {
                detailedView.style.display = 'none';
                simpleGrid.style.display = 'grid';
                loadModulesWithImages();
            } else {
                detailedView.style.display = 'block';
                simpleGrid.style.display = 'none';
            }
        }

        function showModule(moduleType) {
            // Enhanced module navigation with real-time admin connection
            console.log('Opening module:', moduleType);
            
            // Show loading state
            showLoadingOverlay();
            
            // Track module access for analytics
            if (dashboardManager) {
                dashboardManager.trackModuleAccess(moduleType);
            }
            
            switch(moduleType) {
                case 'hotels':
                    showEnhancedHotelsModule();
                    break;
                case 'tourism':
                    showEnhancedTourismModule();
                    break;
                case 'restaurants':
                    showEnhancedRestaurantsModule();
                    break;
                case 'shopping':
                    showEnhancedShoppingModule();
                    break;
                case 'jobs':
                    showEnhancedJobsModule();
                    break;
                case 'real-estate':
                    showEnhancedRealEstateModule();
                    break;
                case 'events':
                    showEnhancedEventsModule();
                    break;
                case 'streaming':
                    showEnhancedStreamingModule();
                    break;
                case 'finance':
                    showEnhancedFinanceModule();
                    break;
                case 'education':
                    showEnhancedEducationModule();
                    break;
                case 'healthcare':
                    showEnhancedHealthcareModule();
                    break;
                case 'transportation':
                    showEnhancedTransportationModule();
                    break;
                case 'smartgro':
                    showEnhancedSmartGroModule();
                    break;
                case 'booking-streaming':
                    showBookingStreamingModule();
                    break;
                case 'watch-earn':
                    showWatchEarnModule();
                    break;
                case 'support':
                    showSupportModule();
                    break;
                case 'ticketing':
                    showTicketingModule();
                    break;
                default:
                    showAlert('Module coming soon with advanced features and professional services!', 'info');
            }
            
            // Hide loading after 500ms
            setTimeout(() => {
                hideLoadingOverlay();
            }, 500);
        }

        function playIntroVideo() {
            // Enhanced intro video with detailed app showcase
            showAlert('🎬 Welcome to Visit Limbe! This video showcases all 16+ modules: Hotels, Tourism, Restaurants, Shopping, Jobs, Real Estate, Events, Streaming, Education, Healthcare, Transportation, SmartGro Agriculture, Financial Services, and Support. Experience the complete digital ecosystem for Limbe!', 'success');
        }

        // Enhanced Module Functions with Real-time Admin Connection
        
        // Enhanced Hotels Module
        async function showEnhancedHotelsModule() {
            hideAllPages();
            
            // Create enhanced hotels module screen
            const hotelsScreen = `
                <div id="hotelsModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🏨 Hotels & Accommodation</h3>
                        <div class="header-actions">
                            <button class="filter-btn" onclick="showHotelFilters()">
                                <i class="material-icons">filter_list</i>
                            </button>
                            <button class="search-btn" onclick="searchHotels()">
                                <i class="material-icons">search</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="quick-filters">
                            <button class="filter-chip active" onclick="filterHotels('all')">All</button>
                            <button class="filter-chip" onclick="filterHotels('luxury')">Luxury</button>
                            <button class="filter-chip" onclick="filterHotels('budget')">Budget</button>
                            <button class="filter-chip" onclick="filterHotels('beach')">Beach</button>
                        </div>
                        
                        <div class="hotels-grid" id="hotelsGrid">
                            <div class="loading-placeholder">Loading hotels...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', hotelsScreen);
            document.getElementById('hotelsModule').style.display = 'block';
            
            // Load real-time hotel data from admin
            await loadHotelsFromAdmin();
        }

        // Enhanced Restaurants Module
        async function showEnhancedRestaurantsModule() {
            hideAllPages();
            
            const restaurantsScreen = `
                <div id="restaurantsModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🍽️ Restaurants & Dining</h3>
                        <div class="header-actions">
                            <button class="filter-btn" onclick="showRestaurantFilters()">
                                <i class="material-icons">filter_list</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="quick-filters">
                            <button class="filter-chip active" onclick="filterRestaurants('all')">All</button>
                            <button class="filter-chip" onclick="filterRestaurants('local')">Local Cuisine</button>
                            <button class="filter-chip" onclick="filterRestaurants('international')">International</button>
                            <button class="filter-chip" onclick="filterRestaurants('fastfood')">Fast Food</button>
                        </div>
                        
                        <div class="restaurants-grid" id="restaurantsGrid">
                            <div class="loading-placeholder">Loading restaurants...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', restaurantsScreen);
            document.getElementById('restaurantsModule').style.display = 'block';
            
            await loadRestaurantsFromAdmin();
        }

        // Enhanced Tourism Module
        async function showEnhancedTourismModule() {
            hideAllPages();
            
            const tourismScreen = `
                <div id="tourismModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🏔️ Tourism & Attractions</h3>
                        <div class="header-actions">
                            <button class="map-btn" onclick="showAttractionMap()">
                                <i class="material-icons">map</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="featured-attraction">
                            <div class="attraction-hero">
                                <h4>Mount Cameroon</h4>
                                <p>Active volcano and highest peak in West Africa</p>
                                <button class="explore-btn" onclick="exploreAttraction('mount-cameroon')">
                                    Explore Now
                                </button>
                            </div>
                        </div>
                        
                        <div class="attractions-list" id="attractionsList">
                            <div class="loading-placeholder">Loading attractions...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', tourismScreen);
            document.getElementById('tourismModule').style.display = 'block';
            
            await loadAttractionsFromAdmin();
        }

        // Enhanced Events Module
        async function showEnhancedEventsModule() {
            hideAllPages();
            
            const eventsScreen = `
                <div id="eventsModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🎭 Events & Activities</h3>
                        <div class="header-actions">
                            <button class="calendar-btn" onclick="showEventCalendar()">
                                <i class="material-icons">calendar_today</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="event-categories">
                            <button class="category-btn active" onclick="filterEvents('all')">All Events</button>
                            <button class="category-btn" onclick="filterEvents('cultural')">Cultural</button>
                            <button class="category-btn" onclick="filterEvents('music')">Music</button>
                            <button class="category-btn" onclick="filterEvents('sports')">Sports</button>
                        </div>
                        
                        <div class="events-timeline" id="eventsTimeline">
                            <div class="loading-placeholder">Loading events...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', eventsScreen);
            document.getElementById('eventsModule').style.display = 'block';
            
            await loadEventsFromAdmin();
        }

        // Enhanced Healthcare Module
        async function showEnhancedHealthcareModule() {
            hideAllPages();
            
            const healthcareScreen = `
                <div id="healthcareModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🏥 Healthcare Services</h3>
                        <div class="header-actions">
                            <button class="emergency-btn" onclick="callEmergency()">
                                <i class="material-icons">emergency</i>
                                Emergency
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="service-categories">
                            <div class="service-card" onclick="showService('hospitals')">
                                <i class="material-icons">local_hospital</i>
                                <h5>Hospitals</h5>
                                <p>Medical centers and clinics</p>
                            </div>
                            <div class="service-card" onclick="showService('pharmacies')">
                                <i class="material-icons">medication</i>
                                <h5>Pharmacies</h5>
                                <p>Medicines and health products</p>
                            </div>
                            <div class="service-card" onclick="showService('doctors')">
                                <i class="material-icons">person</i>
                                <h5>Doctors</h5>
                                <p>Find medical specialists</p>
                            </div>
                        </div>
                        
                        <div class="healthcare-list" id="healthcareList">
                            <div class="loading-placeholder">Loading healthcare services...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', healthcareScreen);
            document.getElementById('healthcareModule').style.display = 'block';
            
            await loadHealthcareFromAdmin();
        }

        // Enhanced Education Module
        async function showEnhancedEducationModule() {
            hideAllPages();
            
            const educationScreen = `
                <div id="educationModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🎓 Education & Learning</h3>
                    </div>
                    
                    <div class="module-content">
                        <div class="education-categories">
                            <div class="education-card" onclick="showEducationCategory('schools')">
                                <i class="material-icons">school</i>
                                <h5>Schools</h5>
                                <p>Primary & Secondary schools</p>
                            </div>
                            <div class="education-card" onclick="showEducationCategory('universities')">
                                <i class="material-icons">account_balance</i>
                                <h5>Universities</h5>
                                <p>Higher education institutions</p>
                            </div>
                            <div class="education-card" onclick="showEducationCategory('training')">
                                <i class="material-icons">work</i>
                                <h5>Training Centers</h5>
                                <p>Professional development</p>
                            </div>
                        </div>
                        
                        <div class="education-list" id="educationList">
                            <div class="loading-placeholder">Loading education services...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', educationScreen);
            document.getElementById('educationModule').style.display = 'block';
            
            await loadEducationFromAdmin();
        }

        // Enhanced Transportation Module
        async function showEnhancedTransportationModule() {
            hideAllPages();
            
            const transportationScreen = `
                <div id="transportationModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🚗 Transportation</h3>
                    </div>
                    
                    <div class="module-content">
                        <div class="transport-options">
                            <div class="transport-card" onclick="bookTransport('taxi')">
                                <i class="material-icons">local_taxi</i>
                                <h5>Taxi Services</h5>
                                <p>Quick rides around Limbe</p>
                            </div>
                            <div class="transport-card" onclick="bookTransport('bus')">
                                <i class="material-icons">directions_bus</i>
                                <h5>Bus Routes</h5>
                                <p>Public transportation</p>
                            </div>
                            <div class="transport-card" onclick="bookTransport('rental')">
                                <i class="material-icons">car_rental</i>
                                <h5>Car Rental</h5>
                                <p>Self-drive options</p>
                            </div>
                        </div>
                        
                        <div class="transport-live-updates" id="transportUpdates">
                            <div class="loading-placeholder">Loading transport updates...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', transportationScreen);
            document.getElementById('transportationModule').style.display = 'block';
            
            await loadTransportationFromAdmin();
        }

        // Enhanced Shopping Module
        async function showEnhancedShoppingModule() {
            hideAllPages();
            
            const shoppingScreen = `
                <div id="shoppingModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🛍️ Shopping & Markets</h3>
                    </div>
                    
                    <div class="module-content">
                        <div class="shopping-categories">
                            <button class="category-btn active" onclick="filterShopping('all')">All</button>
                            <button class="category-btn" onclick="filterShopping('markets')">Markets</button>
                            <button class="category-btn" onclick="filterShopping('malls')">Shopping Centers</button>
                            <button class="category-btn" onclick="filterShopping('crafts')">Local Crafts</button>
                        </div>
                        
                        <div class="shopping-grid" id="shoppingGrid">
                            <div class="loading-placeholder">Loading shopping places...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', shoppingScreen);
            document.getElementById('shoppingModule').style.display = 'block';
            
            await loadShoppingFromAdmin();
        }

        // Enhanced Jobs Module
        async function showEnhancedJobsModule() {
            hideAllPages();
            
            const jobsScreen = `
                <div id="jobsModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>💼 Jobs & Opportunities</h3>
                        <div class="header-actions">
                            <button class="post-job-btn" onclick="postNewJob()">
                                <i class="material-icons">add</i>
                                Post Job
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="job-filters">
                            <button class="filter-btn active" onclick="filterJobs('all')">All Jobs</button>
                            <button class="filter-btn" onclick="filterJobs('fulltime')">Full-time</button>
                            <button class="filter-btn" onclick="filterJobs('parttime')">Part-time</button>
                            <button class="filter-btn" onclick="filterJobs('remote')">Remote</button>
                        </div>
                        
                        <div class="jobs-list" id="jobsList">
                            <div class="loading-placeholder">Loading job opportunities...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', jobsScreen);
            document.getElementById('jobsModule').style.display = 'block';
            
            await loadJobsFromAdmin();
        }

        // Enhanced Real Estate Module
        async function showEnhancedRealEstateModule() {
            hideAllPages();
            
            const realEstateScreen = `
                <div id="realEstateModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🏠 Real Estate</h3>
                        <div class="header-actions">
                            <button class="filter-btn" onclick="showPropertyFilters()">
                                <i class="material-icons">filter_list</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="property-filters">
                            <button class="filter-btn active" onclick="filterProperties('all')">All Properties</button>
                            <button class="filter-btn" onclick="filterProperties('sale')">For Sale</button>
                            <button class="filter-btn" onclick="filterProperties('rent')">For Rent</button>
                            <button class="filter-btn" onclick="filterProperties('commercial')">Commercial</button>
                        </div>
                        
                        <div class="properties-grid" id="propertiesGrid">
                            <div class="loading-placeholder">Loading properties...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', realEstateScreen);
            document.getElementById('realEstateModule').style.display = 'block';
            
            await loadPropertiesFromAdmin();
        }

        // Enhanced Streaming Module
        async function showEnhancedStreamingModule() {
            hideAllPages();
            
            const streamingScreen = `
                <div id="streamingModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🎬 Streaming & Media</h3>
                        <div class="header-actions">
                            <button class="search-btn" onclick="searchContent()">
                                <i class="material-icons">search</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="content-categories">
                            <button class="category-btn active" onclick="filterContent('all')">All Content</button>
                            <button class="category-btn" onclick="filterContent('movies')">Movies</button>
                            <button class="category-btn" onclick="filterContent('music')">Music</button>
                            <button class="category-btn" onclick="filterContent('local')">Local Content</button>
                        </div>
                        
                        <div class="streaming-content" id="streamingContent">
                            <div class="loading-placeholder">Loading content...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', streamingScreen);
            document.getElementById('streamingModule').style.display = 'block';
            
            await loadStreamingFromAdmin();
        }

        // Enhanced Finance Module
        async function showEnhancedFinanceModule() {
            hideAllPages();
            
            const financeScreen = `
                <div id="financeModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>💰 Financial Services</h3>
                        <div class="header-actions">
                            <button class="calculator-btn" onclick="showCalculator()">
                                <i class="material-icons">calculate</i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="finance-services">
                            <div class="service-card" onclick="showService('banking')">
                                <i class="material-icons">account_balance</i>
                                <h5>Banking</h5>
                                <p>Local banks and financial institutions</p>
                            </div>
                            <div class="service-card" onclick="showService('loans')">
                                <i class="material-icons">monetization_on</i>
                                <h5>Loans & Credit</h5>
                                <p>Personal and business loans</p>
                            </div>
                            <div class="service-card" onclick="showService('insurance')">
                                <i class="material-icons">security</i>
                                <h5>Insurance</h5>
                                <p>Protect your assets and future</p>
                            </div>
                            <div class="service-card" onclick="showService('investment')">
                                <i class="material-icons">trending_up</i>
                                <h5>Investment</h5>
                                <p>Grow your wealth with smart investments</p>
                            </div>
                        </div>
                        
                        <div class="finance-list" id="financeList">
                            <div class="loading-placeholder">Loading financial services...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', financeScreen);
            document.getElementById('financeModule').style.display = 'block';
            
            await loadFinanceFromAdmin();
        }

        // Enhanced SmartGro Agriculture Module
        async function showEnhancedSmartGroModule() {
            hideAllPages();
            
            const smartgroScreen = `
                <div id="smartgroModule" class="page">
                    <div class="module-header">
                        <button class="back-btn" onclick="showUserDashboard()">
                            <i class="material-icons">arrow_back</i>
                        </button>
                        <h3>🌱 SmartGro Agriculture</h3>
                        <div class="header-actions">
                            <button class="weather-btn" onclick="showWeatherForecast()">
                                <i class="material-icons">wb_sunny</i>
                                Weather
                            </button>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="agriculture-categories">
                            <div class="agri-card" onclick="showAgriCategory('crops')">
                                <i class="material-icons">grass</i>
                                <h5>Crop Management</h5>
                                <p>Modern farming techniques</p>
                            </div>
                            <div class="agri-card" onclick="showAgriCategory('livestock')">
                                <i class="material-icons">pets</i>
                                <h5>Livestock</h5>
                                <p>Animal husbandry solutions</p>
                            </div>
                            <div class="agri-card" onclick="showAgriCategory('equipment')">
                                <i class="material-icons">agriculture</i>
                                <h5>Equipment</h5>
                                <p>Agricultural machinery and tools</p>
                            </div>
                            <div class="agri-card" onclick="showAgriCategory('market')">
                                <i class="material-icons">store</i>
                                <h5>Market Prices</h5>
                                <p>Current crop and livestock prices</p>
                            </div>
                        </div>
                        
                        <div class="smartgro-content" id="smartgroContent">
                            <div class="loading-placeholder">Loading agriculture data...</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', smartgroScreen);
            document.getElementById('smartgroModule').style.display = 'block';
            
            await loadSmartGroFromAdmin();
        }

        // Additional Data Loading Functions

        async function loadPropertiesFromAdmin() {
            try {
                const { data: properties, error } = await supabase
                    .from('real_estate')
                    .select('*')
                    .eq('active', true)
                    .order('price', { ascending: true });

                if (error) throw error;

                renderProperties(properties || []);
            } catch (error) {
                console.error('Error loading properties:', error);
                document.getElementById('propertiesGrid').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load properties. Please try again.</p>
                        <button onclick="loadPropertiesFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadStreamingFromAdmin() {
            try {
                const { data: content, error } = await supabase
                    .from('streaming_content')
                    .select('*')
                    .eq('active', true)
                    .order('created_at', { ascending: false });

                if (error) throw error;

                renderStreamingContent(content || []);
            } catch (error) {
                console.error('Error loading streaming content:', error);
                document.getElementById('streamingContent').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load content. Please try again.</p>
                        <button onclick="loadStreamingFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadFinanceFromAdmin() {
            try {
                const { data: services, error } = await supabase
                    .from('financial_services')
                    .select('*')
                    .eq('active', true)
                    .order('name', { ascending: true });

                if (error) throw error;

                renderFinanceServices(services || []);
            } catch (error) {
                console.error('Error loading finance services:', error);
                document.getElementById('financeList').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load financial services. Please try again.</p>
                        <button onclick="loadFinanceFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadSmartGroFromAdmin() {
            try {
                const { data: agriData, error } = await supabase
                    .from('agriculture_data')
                    .select('*')
                    .eq('active', true)
                    .order('created_at', { ascending: false });

                if (error) throw error;

                renderSmartGroData(agriData || []);
            } catch (error) {
                console.error('Error loading agriculture data:', error);
                document.getElementById('smartgroContent').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load agriculture data. Please try again.</p>
                        <button onclick="loadSmartGroFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        // Render Functions for New Modules

        function renderProperties(properties) {
            const propertiesGrid = document.getElementById('propertiesGrid');
            if (!propertiesGrid) return;
            
            if (properties.length === 0) {
                propertiesGrid.innerHTML = '<div class="no-data">No properties available</div>';
                return;
            }
            
            propertiesGrid.innerHTML = properties.map(property => `
                <div class="property-card" onclick="viewPropertyDetails('${property.id}')">
                    <div class="property-image">
                        <img src="${property.image_url || '/images/property-placeholder.jpg'}" alt="${property.title}">
                        <div class="property-type">${property.property_type || 'Property'}</div>
                        <div class="property-status">${property.status || 'Available'}</div>
                    </div>
                    <div class="property-info">
                        <h5>${property.title}</h5>
                        <p>${property.description || 'Quality property in Limbe'}</p>
                        <div class="property-location">📍 ${property.location || 'Limbe'}</div>
                        <div class="property-price">${property.price || 'Price on request'} FCFA</div>
                        <div class="property-features">
                            ${property.bedrooms ? `${property.bedrooms} bed • ` : ''}
                            ${property.bathrooms ? `${property.bathrooms} bath • ` : ''}
                            ${property.area ? `${property.area} m²` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderStreamingContent(content) {
            const streamingContent = document.getElementById('streamingContent');
            if (!streamingContent) return;
            
            if (content.length === 0) {
                streamingContent.innerHTML = '<div class="no-data">No content available</div>';
                return;
            }
            
            streamingContent.innerHTML = content.map(item => `
                <div class="content-card" onclick="playContent('${item.id}')">
                    <div class="content-thumbnail">
                        <img src="${item.thumbnail_url || '/images/content-placeholder.jpg'}" alt="${item.title}">
                        <div class="play-overlay">
                            <i class="material-icons">play_arrow</i>
                        </div>
                        <div class="content-duration">${item.duration || '00:00'}</div>
                    </div>
                    <div class="content-info">
                        <h6>${item.title}</h6>
                        <p>${item.description || 'Entertainment content'}</p>
                        <div class="content-meta">
                            <span class="content-category">${item.category || 'General'}</span>
                            <span class="content-rating">⭐ ${item.rating || 'N/A'}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderFinanceServices(services) {
            const financeList = document.getElementById('financeList');
            if (!financeList) return;
            
            if (services.length === 0) {
                financeList.innerHTML = '<div class="no-data">No financial services available</div>';
                return;
            }
            
            financeList.innerHTML = services.map(service => `
                <div class="finance-card" onclick="viewFinanceDetails('${service.id}')">
                    <div class="service-icon">
                        <i class="material-icons">${this.getFinanceIcon(service.type)}</i>
                    </div>
                    <div class="service-info">
                        <h5>${service.name}</h5>
                        <p>${service.description || 'Professional financial service'}</p>
                        <div class="service-type">${service.type || 'Financial Service'}</div>
                        <div class="service-location">📍 ${service.location || 'Limbe'}</div>
                        <div class="service-contact">📞 ${service.phone || 'Contact available'}</div>
                    </div>
                </div>
            `).join('');
        }

        function renderSmartGroData(agriData) {
            const smartgroContent = document.getElementById('smartgroContent');
            if (!smartgroContent) return;
            
            if (agriData.length === 0) {
                smartgroContent.innerHTML = '<div class="no-data">No agriculture data available</div>';
                return;
            }
            
            smartgroContent.innerHTML = agriData.map(data => `
                <div class="agri-data-card" onclick="viewAgriDetails('${data.id}')">
                    <div class="data-icon">
                        <i class="material-icons">${this.getAgriIcon(data.type)}</i>
                    </div>
                    <div class="data-info">
                        <h5>${data.title}</h5>
                        <p>${data.description || 'Agricultural information'}</p>
                        <div class="data-type">${data.type || 'General'}</div>
                        <div class="data-location">📍 ${data.location || 'Limbe Region'}</div>
                        <div class="data-date">📅 ${data.created_at ? new Date(data.created_at).toLocaleDateString() : 'Recent'}</div>
                    </div>
                </div>
            `).join('');
        }

        // Helper functions for icons
        function getFinanceIcon(type) {
            const icons = {
                'bank': 'account_balance',
                'loan': 'monetization_on',
                'insurance': 'security',
                'investment': 'trending_up',
                'exchange': 'currency_exchange'
            };
            return icons[type] || 'account_balance_wallet';
        }

        function getAgriIcon(type) {
            const icons = {
                'crop': 'grass',
                'livestock': 'pets',
                'equipment': 'agriculture',
                'market': 'store',
                'weather': 'wb_sunny'
            };
            return icons[type] || 'grass';
        }

        // Data Loading Functions with Real-time Admin Connection

        async function loadHotelsFromAdmin() {
            try {
                const { data: hotels, error } = await supabase
                    .from('hotels')
                    .select('*')
                    .eq('active', true)
                    .order('rating', { ascending: false });

                if (error) throw error;

                renderHotels(hotels || []);
            } catch (error) {
                console.error('Error loading hotels:', error);
                document.getElementById('hotelsGrid').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load hotels. Please try again.</p>
                        <button onclick="loadHotelsFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadRestaurantsFromAdmin() {
            try {
                const { data: restaurants, error } = await supabase
                    .from('restaurants')
                    .select('*')
                    .eq('active', true)
                    .order('rating', { ascending: false });

                if (error) throw error;

                renderRestaurants(restaurants || []);
            } catch (error) {
                console.error('Error loading restaurants:', error);
                document.getElementById('restaurantsGrid').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load restaurants. Please try again.</p>
                        <button onclick="loadRestaurantsFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadAttractionsFromAdmin() {
            try {
                const { data: attractions, error } = await supabase
                    .from('tourism')
                    .select('*')
                    .eq('active', true)
                    .order('popularity', { ascending: false });

                if (error) throw error;

                renderAttractions(attractions || []);
            } catch (error) {
                console.error('Error loading attractions:', error);
                document.getElementById('attractionsList').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load attractions. Please try again.</p>
                        <button onclick="loadAttractionsFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadEventsFromAdmin() {
            try {
                const { data: events, error } = await supabase
                    .from('events')
                    .select('*')
                    .eq('active', true)
                    .gte('event_date', new Date().toISOString())
                    .order('event_date', { ascending: true });

                if (error) throw error;

                renderEvents(events || []);
            } catch (error) {
                console.error('Error loading events:', error);
                document.getElementById('eventsTimeline').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load events. Please try again.</p>
                        <button onclick="loadEventsFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadHealthcareFromAdmin() {
            try {
                const { data: healthcare, error } = await supabase
                    .from('healthcare')
                    .select('*')
                    .eq('active', true)
                    .order('name', { ascending: true });

                if (error) throw error;

                renderHealthcare(healthcare || []);
            } catch (error) {
                console.error('Error loading healthcare:', error);
                document.getElementById('healthcareList').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load healthcare services. Please try again.</p>
                        <button onclick="loadHealthcareFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadEducationFromAdmin() {
            try {
                const { data: education, error } = await supabase
                    .from('education')
                    .select('*')
                    .eq('active', true)
                    .order('name', { ascending: true });

                if (error) throw error;

                renderEducation(education || []);
            } catch (error) {
                console.error('Error loading education:', error);
                document.getElementById('educationList').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load education services. Please try again.</p>
                        <button onclick="loadEducationFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadTransportationFromAdmin() {
            try {
                const { data: transportation, error } = await supabase
                    .from('transportation')
                    .select('*')
                    .eq('active', true)
                    .order('name', { ascending: true });

                if (error) throw error;

                renderTransportation(transportation || []);
            } catch (error) {
                console.error('Error loading transportation:', error);
                document.getElementById('transportUpdates').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load transportation updates. Please try again.</p>
                        <button onclick="loadTransportationFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadShoppingFromAdmin() {
            try {
                const { data: shopping, error } = await supabase
                    .from('shopping')
                    .select('*')
                    .eq('active', true)
                    .order('name', { ascending: true });

                if (error) throw error;

                renderShopping(shopping || []);
            } catch (error) {
                console.error('Error loading shopping:', error);
                document.getElementById('shoppingGrid').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load shopping places. Please try again.</p>
                        <button onclick="loadShoppingFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        async function loadJobsFromAdmin() {
            try {
                const { data: jobs, error } = await supabase
                    .from('jobs')
                    .select('*')
                    .eq('active', true)
                    .order('created_at', { ascending: false });

                if (error) throw error;

                renderJobs(jobs || []);
            } catch (error) {
                console.error('Error loading jobs:', error);
                document.getElementById('jobsList').innerHTML = `
                    <div class="error-message">
                        <p>Failed to load jobs. Please try again.</p>
                        <button onclick="loadJobsFromAdmin()">Retry</button>
                    </div>
                `;
            }
        }

        // Render Functions for Module Data
        
        function renderHotels(hotels) {
            const hotelsGrid = document.getElementById('hotelsGrid');
            if (!hotelsGrid) return;
            
            if (hotels.length === 0) {
                hotelsGrid.innerHTML = '<div class="no-data">No hotels available</div>';
                return;
            }
            
            hotelsGrid.innerHTML = hotels.map(hotel => `
                <div class="hotel-card" onclick="viewHotelDetails('${hotel.id}')">
                    <div class="hotel-image">
                        <img src="${hotel.image_url || '/images/hotel-placeholder.jpg'}" alt="${hotel.name}">
                        <div class="hotel-rating">⭐ ${hotel.rating || 'N/A'}</div>
                    </div>
                    <div class="hotel-info">
                        <h5>${hotel.name}</h5>
                        <p>${hotel.description || 'Quality accommodation in Limbe'}</p>
                        <div class="hotel-price">${hotel.price || 'Price on request'} FCFA/night</div>
                        <div class="hotel-amenities">
                            ${hotel.amenities ? hotel.amenities.split(',').map(a => `<span class="amenity">${a.trim()}</span>`).join('') : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderRestaurants(restaurants) {
            const restaurantsGrid = document.getElementById('restaurantsGrid');
            if (!restaurantsGrid) return;
            
            if (restaurants.length === 0) {
                restaurantsGrid.innerHTML = '<div class="no-data">No restaurants available</div>';
                return;
            }
            
            restaurantsGrid.innerHTML = restaurants.map(restaurant => `
                <div class="restaurant-card" onclick="viewRestaurantDetails('${restaurant.id}')">
                    <div class="restaurant-image">
                        <img src="${restaurant.image_url || '/images/restaurant-placeholder.jpg'}" alt="${restaurant.name}">
                        <div class="restaurant-rating">⭐ ${restaurant.rating || 'N/A'}</div>
                    </div>
                    <div class="restaurant-info">
                        <h5>${restaurant.name}</h5>
                        <p>${restaurant.cuisine_type || 'Local cuisine'}</p>
                        <div class="restaurant-price">${restaurant.price_range || 'Moderate'}</div>
                        <div class="restaurant-hours">${restaurant.hours || 'Check hours'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderAttractions(attractions) {
            const attractionsList = document.getElementById('attractionsList');
            if (!attractionsList) return;
            
            if (attractions.length === 0) {
                attractionsList.innerHTML = '<div class="no-data">No attractions available</div>';
                return;
            }
            
            attractionsList.innerHTML = attractions.map(attraction => `
                <div class="attraction-card" onclick="viewAttractionDetails('${attraction.id}')">
                    <div class="attraction-image">
                        <img src="${attraction.image_url || '/images/attraction-placeholder.jpg'}" alt="${attraction.name}">
                        <div class="attraction-type">${attraction.type || 'Attraction'}</div>
                    </div>
                    <div class="attraction-info">
                        <h5>${attraction.name}</h5>
                        <p>${attraction.description || 'Beautiful attraction in Limbe'}</p>
                        <div class="attraction-location">📍 ${attraction.location || 'Limbe'}</div>
                        <div class="attraction-entry-fee">${attraction.entry_fee || 'Free entry'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderEvents(events) {
            const eventsTimeline = document.getElementById('eventsTimeline');
            if (!eventsTimeline) return;
            
            if (events.length === 0) {
                eventsTimeline.innerHTML = '<div class="no-data">No upcoming events</div>';
                return;
            }
            
            eventsTimeline.innerHTML = events.map(event => `
                <div class="event-card" onclick="viewEventDetails('${event.id}')">
                    <div class="event-date">
                        <div class="date-day">${new Date(event.event_date).getDate()}</div>
                        <div class="date-month">${new Date(event.event_date).toLocaleDateString('en', {month: 'short'})}</div>
                    </div>
                    <div class="event-info">
                        <h5>${event.title}</h5>
                        <p>${event.description || 'Exciting event in Limbe'}</p>
                        <div class="event-location">📍 ${event.location || 'Limbe'}</div>
                        <div class="event-time">🕒 ${event.start_time || 'Time TBA'}</div>
                        <div class="event-price">${event.price || 'Free'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderHealthcare(healthcare) {
            const healthcareList = document.getElementById('healthcareList');
            if (!healthcareList) return;
            
            if (healthcare.length === 0) {
                healthcareList.innerHTML = '<div class="no-data">No healthcare services available</div>';
                return;
            }
            
            healthcareList.innerHTML = healthcare.map(service => `
                <div class="healthcare-card" onclick="viewHealthcareDetails('${service.id}')">
                    <div class="service-icon">
                        <i class="material-icons">${service.type === 'hospital' ? 'local_hospital' : service.type === 'pharmacy' ? 'medication' : 'healing'}</i>
                    </div>
                    <div class="service-info">
                        <h5>${service.name}</h5>
                        <p>${service.description || 'Quality healthcare service'}</p>
                        <div class="service-location">📍 ${service.location || 'Limbe'}</div>
                        <div class="service-hours">🕒 ${service.hours || '24/7'}</div>
                        <div class="service-contact">📞 ${service.phone || 'Contact available'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderEducation(education) {
            const educationList = document.getElementById('educationList');
            if (!educationList) return;
            
            if (education.length === 0) {
                educationList.innerHTML = '<div class="no-data">No education services available</div>';
                return;
            }
            
            educationList.innerHTML = education.map(school => `
                <div class="education-card" onclick="viewEducationDetails('${school.id}')">
                    <div class="school-icon">
                        <i class="material-icons">${school.type === 'university' ? 'account_balance' : school.type === 'training' ? 'work' : 'school'}</i>
                    </div>
                    <div class="school-info">
                        <h5>${school.name}</h5>
                        <p>${school.description || 'Quality education institution'}</p>
                        <div class="school-type">${school.type || 'School'}</div>
                        <div class="school-location">📍 ${school.location || 'Limbe'}</div>
                        <div class="school-contact">📞 ${school.phone || 'Contact available'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderTransportation(transportation) {
            const transportUpdates = document.getElementById('transportUpdates');
            if (!transportUpdates) return;
            
            if (transportation.length === 0) {
                transportUpdates.innerHTML = '<div class="no-data">No transportation services available</div>';
                return;
            }
            
            transportUpdates.innerHTML = transportation.map(transport => `
                <div class="transport-card" onclick="viewTransportDetails('${transport.id}')">
                    <div class="transport-icon">
                        <i class="material-icons">${transport.type === 'taxi' ? 'local_taxi' : transport.type === 'bus' ? 'directions_bus' : 'car_rental'}</i>
                    </div>
                    <div class="transport-info">
                        <h5>${transport.name}</h5>
                        <p>${transport.description || 'Reliable transport service'}</p>
                        <div class="transport-route">${transport.route || 'Multiple routes available'}</div>
                        <div class="transport-price">${transport.price || 'Affordable rates'}</div>
                        <div class="transport-contact">📞 ${transport.phone || 'Contact available'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderShopping(shopping) {
            const shoppingGrid = document.getElementById('shoppingGrid');
            if (!shoppingGrid) return;
            
            if (shopping.length === 0) {
                shoppingGrid.innerHTML = '<div class="no-data">No shopping places available</div>';
                return;
            }
            
            shoppingGrid.innerHTML = shopping.map(shop => `
                <div class="shopping-card" onclick="viewShoppingDetails('${shop.id}')">
                    <div class="shop-image">
                        <img src="${shop.image_url || '/images/shop-placeholder.jpg'}" alt="${shop.name}">
                        <div class="shop-type">${shop.type || 'Shop'}</div>
                    </div>
                    <div class="shop-info">
                        <h5>${shop.name}</h5>
                        <p>${shop.description || 'Quality products and services'}</p>
                        <div class="shop-location">📍 ${shop.location || 'Limbe'}</div>
                        <div class="shop-hours">🕒 ${shop.hours || 'Check hours'}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function renderJobs(jobs) {
            const jobsList = document.getElementById('jobsList');
            if (!jobsList) return;
            
            if (jobs.length === 0) {
                jobsList.innerHTML = '<div class="no-data">No jobs available</div>';
                return;
            }
            
            jobsList.innerHTML = jobs.map(job => `
                <div class="job-card" onclick="viewJobDetails('${job.id}')">
                    <div class="job-header">
                        <h5>${job.title}</h5>
                        <div class="job-type">${job.employment_type || 'Full-time'}</div>
                    </div>
                    <div class="job-info">
                        <p>${job.company_name || 'Company'}</p>
                        <div class="job-location">📍 ${job.location || 'Limbe'}</div>
                        <div class="job-salary">${job.salary_range || 'Competitive salary'}</div>
                        <div class="job-posted">Posted ${job.created_at ? new Date(job.created_at).toLocaleDateString() : 'Recently'}</div>
                    </div>
                </div>
            `).join('');
        }

        // Real Estate Module Functions
        function showRealEstateModule() {
            hideAllPages();
            document.getElementById('realEstateModule').style.display = 'block';
            
            // Check if user is admin and show admin controls
            const currentUser = JSON.parse(localStorage.getItem('vl_session') || '{}');
            if (currentUser.role === 'admin' || currentUser.email === 'admin@visitlimbe.com') {
                document.getElementById('realEstateAdminControls').style.display = 'block';
            } else {
                document.getElementById('realEstateAdminControls').style.display = 'none';
            }
            
            loadRealEstateData();
        }

        function loadRealEstateData() {
            // Sample real estate data
            const properties = [
                {
                    id: 1,
                    title: "Modern 3BR House in Limbe",
                    price: 25000000,
                    type: "sale",
                    location: "Limbe Town",
                    bedrooms: 3,
                    bathrooms: 2,
                    size: 120,
                    agent: "John Mboka",
                    phone: "+237 678 123 456",
                    image: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=400",
                    description: "Beautiful modern house with garden and mountain view",
                    amenities: ["Parking", "Garden", "Security", "Water"]
                },
                {
                    id: 2,
                    title: "2BR Apartment Near Beach",
                    price: 350000,
                    type: "rent",
                    location: "Limbe Beach",
                    bedrooms: 2,
                    bathrooms: 1,
                    size: 80,
                    agent: "Marie Nkomo",
                    phone: "+237 678 987 654",
                    image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400",
                    description: "Furnished apartment with ocean view and modern amenities",
                    amenities: ["Furnished", "Ocean View", "WiFi", "Kitchen"]
                },
                {
                    id: 3,
                    title: "Commercial Plot in Down Beach",
                    price: 45000000,
                    type: "sale",
                    location: "Down Beach",
                    bedrooms: 0,
                    bathrooms: 0,
                    size: 500,
                    agent: "Paul Ekema",
                    phone: "+237 678 555 123",
                    image: "https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400",
                    description: "Prime commercial land perfect for hotel or restaurant",
                    amenities: ["Road Access", "Utilities", "Beach Front", "Commercial"]
                },
                {
                    id: 4,
                    title: "Luxury Villa with Pool",
                    price: 850000,
                    type: "rent",
                    location: "Mile 2 Limbe",
                    bedrooms: 4,
                    bathrooms: 3,
                    size: 200,
                    agent: "Grace Molua",
                    phone: "+237 678 777 888",
                    image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=400",
                    description: "Luxurious villa with private pool and premium finishes",
                    amenities: ["Pool", "Generator", "Parking", "Garden", "Security"]
                }
            ];

            renderRealEstateProperties(properties);
        }

        function renderRealEstateProperties(properties) {
            const container = document.getElementById('realEstateContainer');
            if (!container) return;

            container.innerHTML = properties.map(property => `
                <div class="col-md-6 col-lg-4 mb-4">
                    <div class="property-card" onclick="showPropertyDetails(${property.id})">
                        <div class="property-image">
                            <img src="${property.image}" alt="${property.title}">
                            <div class="property-type-badge ${property.type}">
                                ${property.type === 'sale' ? 'FOR SALE' : 'FOR RENT'}
                            </div>
                            <button class="virtual-tour-btn" onclick="event.stopPropagation(); showVirtualTour(${property.id})">
                                <i class="fas fa-street-view"></i> Virtual Tour
                            </button>
                            <button class="save-property-btn" onclick="event.stopPropagation(); saveProperty(${property.id})">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                        <div class="property-details">
                            <h5 class="property-title">${property.title}</h5>
                            <div class="property-price">
                                ${property.price.toLocaleString()} XAF
                                ${property.type === 'rent' ? '/month' : ''}
                            </div>
                            <div class="property-location">
                                <i class="fas fa-map-marker-alt"></i> ${property.location}
                            </div>
                            <div class="property-features">
                                ${property.bedrooms > 0 ? `<span><i class="fas fa-bed"></i> ${property.bedrooms} Beds</span>` : ''}
                                ${property.bathrooms > 0 ? `<span><i class="fas fa-bath"></i> ${property.bathrooms} Baths</span>` : ''}
                                <span><i class="fas fa-ruler-combined"></i> ${property.size}m²</span>
                            </div>
                            <div class="property-amenities">
                                ${property.amenities.slice(0, 3).map(amenity => 
                                    `<span class="amenity-tag">${amenity}</span>`
                                ).join('')}
                                ${property.amenities.length > 3 ? '<span class="amenity-more">+' + (property.amenities.length - 3) + ' more</span>' : ''}
                            </div>
                            <div class="property-agent">
                                <i class="fas fa-user"></i> ${property.agent}
                                <button class="contact-btn" onclick="event.stopPropagation(); contactAgent('${property.phone}', '${property.agent}')">
                                    <i class="fas fa-phone"></i> Contact
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showPropertyDetails(propertyId) {
            showAlert(`Opening detailed view for Property ID: ${propertyId}. Features: Full property gallery, 360° virtual tour, neighborhood info, mortgage calculator, viewing scheduler, and direct agent contact!`, 'info');
        }

        function showVirtualTour(propertyId) {
            showAlert(`🏠 Virtual Tour: Experience the property in 360° view! Navigate through rooms, check layouts, and get a feel for the space before visiting. VR compatible!`, 'success');
        }

        function saveProperty(propertyId) {
            showAlert(`💾 Property saved to your favorites! Access all saved properties from your profile dashboard.`, 'success');
        }

        function contactAgent(phone, agent) {
            showAlert(`📞 Contacting ${agent} at ${phone}. Options: Call now, WhatsApp, Schedule viewing, Request info, or Send message!`, 'primary');
        }

        function filterRealEstateProperties() {
            showAlert('🔍 Filtering properties by: Price range, Location, Property type, Bedrooms, Amenities, and more. Advanced search with map view available!', 'info');
        }

        function addNewProperty() {
            showAlert('🏗️ ADMIN: Add New Property - Upload images, set details, configure pricing, add amenities, set agent info, and publish instantly!', 'warning');
        }

        function editProperty(propertyId) {
            showAlert(`✏️ ADMIN: Edit Property ${propertyId} - Modify all details, update images, change pricing, manage availability, and track inquiries!`, 'warning');
        }

        function deleteProperty(propertyId) {
            if (confirm('Are you sure you want to delete this property?')) {
                showAlert(`🗑️ ADMIN: Property ${propertyId} deleted successfully. All related inquiries and bookings archived.`, 'danger');
            }
        }

        // Additional Real Estate Functions
        function showSavedProperties() {
            showAlert('💾 Saved Properties: View all your favorite properties, compare features, and track price changes!', 'info');
        }

        function toggleMapView() {
            showAlert('🗺️ Map View: Interactive map showing all properties with precise locations, nearby amenities, and transport links!', 'primary');
        }

        function filterByType(type) {
            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.dataset.type === type) {
                    tab.classList.add('active');
                }
            });
            
            showAlert(`🔍 Filtered by: ${type}. Showing relevant properties with advanced sorting options!`, 'info');
        }

        // Real Estate Admin Module
        function showRealEstateAdminModule() {
            hideAllPages();
            
            // Create Real Estate Admin Interface
            const adminContent = document.createElement('div');
            adminContent.id = 'realEstateAdmin';
            adminContent.className = 'page-container active';
            adminContent.innerHTML = `
                <div class="admin-dashboard-container">
                    <div class="admin-sidebar">
                        <div class="admin-sidebar-header">
                            <div class="admin-logo">
                                <i class="fas fa-home"></i>
                                <h4>Real Estate Admin</h4>
                            </div>
                        </div>
                        <div class="admin-sidebar-nav">
                            <div class="admin-nav-section">
                                <div class="admin-nav-section-title">PROPERTIES</div>
                                <a href="#" class="admin-nav-item active" onclick="showRealEstateAdminSection('properties')">
                                    <i class="fas fa-building"></i>
                                    <span>All Properties</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('add-property')">
                                    <i class="fas fa-plus"></i>
                                    <span>Add Property</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('property-types')">
                                    <i class="fas fa-home"></i>
                                    <span>Property Types</span>
                                </a>
                            </div>
                            
                            <div class="admin-nav-section">
                                <div class="admin-nav-section-title">AGENTS</div>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('agents')">
                                    <i class="fas fa-user-tie"></i>
                                    <span>Manage Agents</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('add-agent')">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Add Agent</span>
                                </a>
                            </div>
                            
                            <div class="admin-nav-section">
                                <div class="admin-nav-section-title">ANALYTICS</div>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('analytics')">
                                    <i class="fas fa-chart-line"></i>
                                    <span>Property Analytics</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('inquiries')">
                                    <i class="fas fa-envelope"></i>
                                    <span>Inquiries</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('bookings')">
                                    <i class="fas fa-calendar"></i>
                                    <span>Viewings</span>
                                </a>
                            </div>
                            
                            <div class="admin-nav-section">
                                <div class="admin-nav-section-title">SETTINGS</div>
                                <a href="#" class="admin-nav-item" onclick="showRealEstateAdminSection('settings')">
                                    <i class="fas fa-cog"></i>
                                    <span>Module Settings</span>
                                </a>
                                <a href="#" class="admin-nav-item" onclick="showAdminDashboard()">
                                    <i class="fas fa-arrow-left"></i>
                                    <span>Back to Admin</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-main-content">
                        <div class="admin-top-bar">
                            <div>
                                <h3>Real Estate Management</h3>
                                <div class="admin-breadcrumb">
                                    <span>Admin</span> / <span>Real Estate</span> / <span id="re-breadcrumb">Properties</span>
                                </div>
                            </div>
                            <div class="user-info">
                                <div class="user-avatar">RE</div>
                                <span>Real Estate Admin</span>
                            </div>
                        </div>
                        
                        <div class="admin-content-area" id="realEstateAdminContent">
                            <!-- Content will be loaded here -->
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(adminContent);
            
            // Show default section
            showRealEstateAdminSection('properties');
        }

        function showRealEstateAdminSection(section) {
            // Update active navigation
            document.querySelectorAll('#realEstateAdmin .admin-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.admin-nav-item').classList.add('active');
            
            // Update breadcrumb
            document.getElementById('re-breadcrumb').textContent = 
                section.charAt(0).toUpperCase() + section.slice(1).replace('-', ' ');
            
            const content = document.getElementById('realEstateAdminContent');
            
            switch (section) {
                case 'properties':
                    content.innerHTML = getRealEstatePropertiesAdminContent();
                    break;
                case 'add-property':
                    content.innerHTML = getAddPropertyAdminContent();
                    break;
                case 'agents':
                    content.innerHTML = getRealEstateAgentsAdminContent();
                    break;
                case 'analytics':
                    content.innerHTML = getRealEstateAnalyticsAdminContent();
                    break;
                case 'inquiries':
                    content.innerHTML = getRealEstateInquiriesAdminContent();
                    break;
                default:
                    content.innerHTML = getRealEstatePropertiesAdminContent();
            }
        }

        // Real Estate Admin Content Functions
        function getRealEstatePropertiesAdminContent() {
            return `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>🏢 Property Management</h5>
                        <p>Manage all real estate properties in the system</p>
                        <div class="admin-actions">
                            <button class="btn btn-primary" onclick="showRealEstateAdminSection('add-property')">
                                <i class="fas fa-plus"></i> Add New Property
                            </button>
                            <button class="btn btn-outline-primary" onclick="exportPropertiesData()">
                                <i class="fas fa-download"></i> Export Data
                            </button>
                        </div>
                    </div>
                    
                    <div class="admin-stats mb-4">
                        <div class="admin-stat-card">
                            <h6>Total Properties</h6>
                            <div class="stat-number">156</div>
                            <small>+12 this month</small>
                        </div>
                        <div class="admin-stat-card">
                            <h6>Active Listings</h6>
                            <div class="stat-number">142</div>
                            <small>91% active rate</small>
                        </div>
                        <div class="admin-stat-card">
                            <h6>Pending Approval</h6>
                            <div class="stat-number">8</div>
                            <small>Requires review</small>
                        </div>
                        <div class="admin-stat-card">
                            <h6>Avg. Price</h6>
                            <div class="stat-number">45M XAF</div>
                            <small>+5% this quarter</small>
                        </div>
                    </div>
                    
                    <div class="admin-filters mb-4">
                        <div class="row">
                            <div class="col-md-3">
                                <select class="form-control" onchange="filterPropertiesByStatus(this.value)">
                                    <option value="all">All Status</option>
                                    <option value="active">Active</option>
                                    <option value="pending">Pending</option>
                                    <option value="sold">Sold</option>
                                    <option value="rented">Rented</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" onchange="filterPropertiesByType(this.value)">
                                    <option value="all">All Types</option>
                                    <option value="sale">For Sale</option>
                                    <option value="rent">For Rent</option>
                                    <option value="commercial">Commercial</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" placeholder="Search properties..." onkeyup="searchProperties(this.value)">
                            </div>
                            <div class="col-md-3">
                                <button class="btn btn-outline-secondary btn-block" onclick="resetPropertyFilters()">
                                    <i class="fas fa-refresh"></i> Reset Filters
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="properties-admin-list">
                        ${generatePropertiesAdminList()}
                    </div>
                </div>
            `;
        }

        function getAddPropertyAdminContent() {
            return `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>🏗️ Add New Property</h5>
                        <p>Create a new property listing with complete details</p>
                    </div>
                    
                    <form class="property-form" onsubmit="saveNewProperty(event)">
                        <div class="row">
                            <div class="col-md-8">
                                <div class="form-section">
                                    <h6>Basic Information</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Property Title *</label>
                                                <input type="text" class="form-control" required placeholder="e.g., Modern 3BR Apartment">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Property Type *</label>
                                                <select class="form-control" required>
                                                    <option value="">Select Type</option>
                                                    <option value="apartment">Apartment</option>
                                                    <option value="house">House</option>
                                                    <option value="villa">Villa</option>
                                                    <option value="commercial">Commercial</option>
                                                    <option value="land">Land</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Bedrooms</label>
                                                <input type="number" class="form-control" min="0" max="10">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Bathrooms</label>
                                                <input type="number" class="form-control" min="0" max="10">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Area (sqm)</label>
                                                <input type="number" class="form-control" min="1">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea class="form-control" rows="4" placeholder="Detailed property description..."></textarea>
                                    </div>
                                </div>
                                
                                <div class="form-section">
                                    <h6>Location Details</h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Address *</label>
                                                <input type="text" class="form-control" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Neighborhood</label>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>City</label>
                                                <input type="text" class="form-control" value="Limbe">
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Postal Code</label>
                                                <input type="text" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-section">
                                    <h6>Property Images</h6>
                                    <div class="image-upload-area">
                                        <input type="file" id="propertyImages" multiple accept="image/*" onchange="handlePropertyImageUpload(event)">
                                        <div class="upload-placeholder" onclick="document.getElementById('propertyImages').click()">
                                            <i class="fas fa-cloud-upload-alt fa-3x"></i>
                                            <p>Click to upload property images</p>
                                            <small>Supports multiple images (max 10)</small>
                                        </div>
                                        <div class="image-preview-grid" id="propertyImagePreview"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <div class="form-section">
                                    <h6>Pricing & Availability</h6>
                                    <div class="form-group">
                                        <label>Listing Type *</label>
                                        <select class="form-control" required onchange="togglePriceFields(this.value)">
                                            <option value="">Select Type</option>
                                            <option value="sale">For Sale</option>
                                            <option value="rent">For Rent</option>
                                            <option value="both">Sale & Rent</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group" id="salePrice" style="display: none;">
                                        <label>Sale Price (XAF)</label>
                                        <input type="number" class="form-control" min="0">
                                    </div>
                                    
                                    <div class="form-group" id="rentPrice" style="display: none;">
                                        <label>Monthly Rent (XAF)</label>
                                        <input type="number" class="form-control" min="0">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Deposit Amount (XAF)</label>
                                        <input type="number" class="form-control" min="0">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Available From</label>
                                        <input type="date" class="form-control">
                                    </div>
                                    
                                    <div class="form-check">
                                        <input type="checkbox" class="form-check-input" id="negotiable">
                                        <label class="form-check-label" for="negotiable">Price Negotiable</label>
                                    </div>
                                </div>
                                
                                <div class="form-section">
                                    <h6>Agent Information</h6>
                                    <div class="form-group">
                                        <label>Assigned Agent</label>
                                        <select class="form-control">
                                            <option value="">Select Agent</option>
                                            <option value="1">John Doe - Primary Agent</option>
                                            <option value="2">Jane Smith - Senior Agent</option>
                                            <option value="3">Mike Johnson - Associate</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Contact Phone</label>
                                        <input type="tel" class="form-control" placeholder="+237 XXX XXX XXX">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Contact Email</label>
                                        <input type="email" class="form-control">
                                    </div>
                                </div>
                                
                                <div class="form-section">
                                    <h6>Property Features</h6>
                                    <div class="features-checklist">
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="parking">
                                            <label class="form-check-label" for="parking">Parking</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="garden">
                                            <label class="form-check-label" for="garden">Garden</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="pool">
                                            <label class="form-check-label" for="pool">Swimming Pool</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="security">
                                            <label class="form-check-label" for="security">Security</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="furnished">
                                            <label class="form-check-label" for="furnished">Furnished</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" class="form-check-input" id="ac">
                                            <label class="form-check-label" for="ac">Air Conditioning</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-save"></i> Save Property
                            </button>
                            <button type="button" class="btn btn-primary" onclick="saveAndPublishProperty()">
                                <i class="fas fa-globe"></i> Save & Publish
                            </button>
                            <button type="button" class="btn btn-outline-secondary" onclick="showRealEstateAdminSection('properties')">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                        </div>
                    </form>
                </div>
            `;
        }

        function getRealEstateAgentsAdminContent() {
            return `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>👥 Agent Management</h5>
                        <p>Manage real estate agents and their assignments</p>
                        <div class="admin-actions">
                            <button class="btn btn-primary" onclick="showAddAgentModal()">
                                <i class="fas fa-user-plus"></i> Add New Agent
                            </button>
                        </div>
                    </div>
                    
                    <div class="agents-list">
                        ${generateAgentsAdminList()}
                    </div>
                </div>
            `;
        }

        function getRealEstateAnalyticsAdminContent() {
            return `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>📊 Real Estate Analytics</h5>
                        <p>Comprehensive analytics and performance metrics</p>
                    </div>
                    
                    <div class="analytics-dashboard">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="analytics-card">
                                    <h6>Property Views</h6>
                                    <div class="analytics-number">12,450</div>
                                    <small class="text-success">+18% this month</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="analytics-card">
                                    <h6>Inquiries</h6>
                                    <div class="analytics-number">284</div>
                                    <small class="text-success">+12% this month</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="analytics-card">
                                    <h6>Viewings Booked</h6>
                                    <div class="analytics-number">156</div>
                                    <small class="text-success">+8% this month</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="analytics-card">
                                    <h6>Conversions</h6>
                                    <div class="analytics-number">23</div>
                                    <small class="text-success">+5% this month</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-md-8">
                                <div class="chart-container">
                                    <h6>Property Performance Over Time</h6>
                                    <div class="chart-placeholder">
                                        <i class="fas fa-chart-line fa-3x"></i>
                                        <p>Interactive chart showing property views, inquiries, and conversions</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="top-properties">
                                    <h6>Top Performing Properties</h6>
                                    <div class="property-performance-list">
                                        <div class="performance-item">
                                            <div class="property-thumb"></div>
                                            <div class="property-stats">
                                                <strong>Modern Villa in Batoke</strong>
                                                <small>245 views, 15 inquiries</small>
                                            </div>
                                        </div>
                                        <div class="performance-item">
                                            <div class="property-thumb"></div>
                                            <div class="property-stats">
                                                <strong>Downtown Apartment</strong>
                                                <small>198 views, 12 inquiries</small>
                                            </div>
                                        </div>
                                        <div class="performance-item">
                                            <div class="property-thumb"></div>
                                            <div class="property-stats">
                                                <strong>Beachfront Condo</strong>
                                                <small>167 views, 8 inquiries</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getRealEstateInquiriesAdminContent() {
            return `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>📧 Property Inquiries</h5>
                        <p>Manage customer inquiries and viewing requests</p>
                    </div>
                    
                    <div class="inquiries-filters mb-4">
                        <div class="row">
                            <div class="col-md-3">
                                <select class="form-control" onchange="filterInquiriesByStatus(this.value)">
                                    <option value="all">All Status</option>
                                    <option value="new">New</option>
                                    <option value="contacted">Contacted</option>
                                    <option value="scheduled">Scheduled</option>
                                    <option value="closed">Closed</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <select class="form-control" onchange="filterInquiriesByAgent(this.value)">
                                    <option value="all">All Agents</option>
                                    <option value="1">John Doe</option>
                                    <option value="2">Jane Smith</option>
                                    <option value="3">Mike Johnson</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <input type="text" class="form-control" placeholder="Search inquiries..." onkeyup="searchInquiries(this.value)">
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-secondary btn-block" onclick="resetInquiryFilters()">
                                    <i class="fas fa-refresh"></i> Reset
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="inquiries-list">
                        ${generateInquiriesAdminList()}
                    </div>
                </div>
            `;
        }

        // Helper functions for Real Estate Admin
        function generatePropertiesAdminList() {
            const properties = [
                {
                    id: 1,
                    title: "Modern Villa in Batoke",
                    type: "Villa",
                    price: "85,000,000 XAF",
                    status: "active",
                    agent: "John Doe",
                    views: 245,
                    inquiries: 15
                },
                {
                    id: 2,
                    title: "Downtown Apartment",
                    type: "Apartment",
                    price: "35,000,000 XAF",
                    status: "active",
                    agent: "Jane Smith",
                    views: 198,
                    inquiries: 12
                },
                {
                    id: 3,
                    title: "Beachfront Condo",
                    type: "Condo",
                    price: "65,000,000 XAF",
                    status: "pending",
                    agent: "Mike Johnson",
                    views: 167,
                    inquiries: 8
                },
                {
                    id: 4,
                    title: "Commercial Building",
                    type: "Commercial",
                    price: "150,000,000 XAF",
                    status: "active",
                    agent: "John Doe",
                    views: 89,
                    inquiries: 5
                }
            ];

            return properties.map(property => `
                <div class="property-admin-item">
                    <div class="property-admin-image">
                        <img src="https://via.placeholder.com/150x100?text=Property+${property.id}" alt="${property.title}">
                        <div class="property-status ${property.status}">${property.status.toUpperCase()}</div>
                    </div>
                    <div class="property-admin-details">
                        <h6>${property.title}</h6>
                        <p class="property-type">${property.type}</p>
                        <p class="property-price"><strong>${property.price}</strong></p>
                        <p class="property-agent"><i class="fas fa-user-tie"></i> ${property.agent}</p>
                        <div class="property-stats">
                            <span><i class="fas fa-eye"></i> ${property.views} views</span>
                            <span><i class="fas fa-envelope"></i> ${property.inquiries} inquiries</span>
                        </div>
                    </div>
                    <div class="property-admin-actions">
                        <button class="btn btn-sm btn-outline-primary" onclick="editPropertyAdmin(${property.id})" title="Edit">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-info" onclick="viewPropertyStats(${property.id})" title="Statistics">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-warning" onclick="togglePropertyStatus(${property.id})" title="Toggle Status">
                            <i class="fas fa-toggle-on"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" onclick="deletePropertyAdmin(${property.id})" title="Delete">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function generateAgentsAdminList() {
            const agents = [
                {
                    id: 1,
                    name: "John Doe",
                    email: "john.doe@realestate.com",
                    phone: "+237 123 456 789",
                    properties: 28,
                    sales: 12,
                    status: "active"
                },
                {
                    id: 2,
                    name: "Jane Smith",
                    email: "jane.smith@realestate.com",
                    phone: "+237 987 654 321",
                    properties: 22,
                    sales: 8,
                    status: "active"
                },
                {
                    id: 3,
                    name: "Mike Johnson",
                    email: "mike.johnson@realestate.com",
                    phone: "+237 555 123 456",
                    properties: 15,
                    sales: 5,
                    status: "active"
                }
            ];

            return agents.map(agent => `
                <div class="agent-admin-item">
                    <div class="agent-avatar">
                        <div class="avatar-circle">${agent.name.split(' ').map(n => n[0]).join('')}</div>
                    </div>
                    <div class="agent-details">
                        <h6>${agent.name}</h6>
                        <p class="agent-email">${agent.email}</p>
                        <p class="agent-phone">${agent.phone}</p>
                    </div>
                    <div class="agent-stats">
                        <div class="stat-item">
                            <strong>${agent.properties}</strong>
                            <small>Properties</small>
                        </div>
                        <div class="stat-item">
                            <strong>${agent.sales}</strong>
                            <small>Sales</small>
                        </div>
                    </div>
                    <div class="agent-actions">
                        <button class="btn btn-sm btn-outline-primary" onclick="editAgent(${agent.id})">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="btn btn-sm btn-outline-info" onclick="viewAgentPerformance(${agent.id})">
                            <i class="fas fa-chart-line"></i> Performance
                        </button>
                        <button class="btn btn-sm btn-outline-secondary" onclick="assignProperties(${agent.id})">
                            <i class="fas fa-home"></i> Assign
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function generateInquiriesAdminList() {
            const inquiries = [
                {
                    id: 1,
                    customer: "Alice Brown",
                    property: "Modern Villa in Batoke",
                    agent: "John Doe",
                    message: "Interested in viewing this property. When can we schedule?",
                    status: "new",
                    date: "2024-01-15"
                },
                {
                    id: 2,
                    customer: "Bob Wilson",
                    property: "Downtown Apartment",
                    agent: "Jane Smith",
                    message: "Is the property still available for rent?",
                    status: "contacted",
                    date: "2024-01-14"
                },
                {
                    id: 3,
                    customer: "Carol Davis",
                    property: "Beachfront Condo",
                    agent: "Mike Johnson",
                    message: "Can we negotiate the price?",
                    status: "scheduled",
                    date: "2024-01-13"
                }
            ];

            return inquiries.map(inquiry => `
                <div class="inquiry-admin-item">
                    <div class="inquiry-header">
                        <div class="inquiry-customer">
                            <strong>${inquiry.customer}</strong>
                            <small>${inquiry.date}</small>
                        </div>
                        <div class="inquiry-status ${inquiry.status}">${inquiry.status.toUpperCase()}</div>
                    </div>
                    <div class="inquiry-details">
                        <p class="inquiry-property"><i class="fas fa-home"></i> ${inquiry.property}</p>
                        <p class="inquiry-agent"><i class="fas fa-user-tie"></i> ${inquiry.agent}</p>
                        <p class="inquiry-message">"${inquiry.message}"</p>
                    </div>
                    <div class="inquiry-actions">
                        <button class="btn btn-sm btn-primary" onclick="respondToInquiry(${inquiry.id})">
                            <i class="fas fa-reply"></i> Respond
                        </button>
                        <button class="btn btn-sm btn-outline-success" onclick="scheduleViewing(${inquiry.id})">
                            <i class="fas fa-calendar"></i> Schedule
                        </button>
                        <button class="btn btn-sm btn-outline-secondary" onclick="markInquiryContacted(${inquiry.id})">
                            <i class="fas fa-phone"></i> Mark Contacted
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Real Estate Admin Action Functions
        function editPropertyAdmin(propertyId) {
            showAlert(`🏗️ ADMIN: Edit Property ${propertyId} - Loading property editor with all current details for modification.`, 'info');
        }

        function viewPropertyStats(propertyId) {
            showAlert(`📊 Property ${propertyId} Analytics: Views, inquiries, conversion rates, viewing history, and performance metrics.`, 'primary');
        }

        function togglePropertyStatus(propertyId) {
            showAlert(`🔄 Property ${propertyId} status toggled. Status changed between Active/Inactive with automatic notifications sent.`, 'success');
        }

        function deletePropertyAdmin(propertyId) {
            if (confirm('Are you sure you want to delete this property? This action cannot be undone.')) {
                showAlert(`🗑️ Property ${propertyId} deleted successfully. All related data has been archived.`, 'danger');
            }
        }

        function saveNewProperty(event) {
            event.preventDefault();
            showAlert('✅ New property saved successfully! Property is now available in the system.', 'success');
            setTimeout(() => showRealEstateAdminSection('properties'), 1500);
        }

        function saveAndPublishProperty() {
            showAlert('🌟 Property saved and published! Now visible to all users immediately.', 'success');
            setTimeout(() => showRealEstateAdminSection('properties'), 1500);
        }

        function handlePropertyImageUpload(event) {
            const files = event.target.files;
            const previewContainer = document.getElementById('propertyImagePreview');
            previewContainer.innerHTML = '';
            
            for (let i = 0; i < Math.min(files.length, 10); i++) {
                const file = files[i];
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const imageDiv = document.createElement('div');
                    imageDiv.className = 'image-preview-item';
                    imageDiv.innerHTML = `
                        <img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover;">
                        <div class="remove-image" onclick="removePropertyImage(this)">
                            <i class="fas fa-times"></i>
                        </div>
                    `;
                    previewContainer.appendChild(imageDiv);
                };
                
                reader.readAsDataURL(file);
            }
        }

        function removePropertyImage(element) {
            element.parentElement.remove();
        }

        function togglePriceFields(type) {
            const salePrice = document.getElementById('salePrice');
            const rentPrice = document.getElementById('rentPrice');
            
            salePrice.style.display = (type === 'sale' || type === 'both') ? 'block' : 'none';
            rentPrice.style.display = (type === 'rent' || type === 'both') ? 'block' : 'none';
        }

        function respondToInquiry(inquiryId) {
            showAlert(`📧 Responding to inquiry ${inquiryId}. Opening response interface with customer details and property information.`, 'primary');
        }

        function scheduleViewing(inquiryId) {
            showAlert(`📅 Scheduling viewing for inquiry ${inquiryId}. Calendar interface opened with available time slots.`, 'info');
        }

        function markInquiryContacted(inquiryId) {
            showAlert(`✅ Inquiry ${inquiryId} marked as contacted. Status updated and notifications sent.`, 'success');
        }

        // ========================== ALL MODULE IMPLEMENTATIONS ==========================
        
        // Hotels Module - Complete Implementation
        function showHotelsModule() {
            hideAllPages();
            
            const hotelsContent = document.createElement('div');
            hotelsContent.id = 'hotelsModule';
            hotelsContent.className = 'page-container active';
            hotelsContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-hotel"></i> Hotels & Accommodation</h2>
                                <p>Book your perfect stay in Limbe with luxury resorts and budget-friendly options</p>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search hotels by name or location..." id="hotelSearch">
                                <button onclick="searchHotels()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="quick-filters">
                                <button onclick="filterHotels('luxury')" class="filter-btn">Luxury</button>
                                <button onclick="filterHotels('budget')" class="filter-btn">Budget</button>
                                <button onclick="filterHotels('beachfront')" class="filter-btn">Beachfront</button>
                                <button onclick="filterHotels('city-center')" class="filter-btn">City Center</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="hotels-stats">
                            <div class="stat-card">
                                <h4>150+</h4>
                                <p>Hotels Available</p>
                            </div>
                            <div class="stat-card">
                                <h4>98%</h4>
                                <p>Satisfaction Rate</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Customer Support</p>
                            </div>
                            <div class="stat-card">
                                <h4>Free</h4>
                                <p>Cancellation</p>
                            </div>
                        </div>
                        
                        <div class="featured-section">
                            <h3>Featured Hotels</h3>
                            <div class="hotels-grid">
                                <div class="hotel-card" onclick="viewHotelDetails(1)">
                                    <div class="hotel-image">
                                        <img src="https://via.placeholder.com/300x200?text=Atlantic+Beach+Resort" alt="Atlantic Beach Resort">
                                        <div class="hotel-rating">⭐ 4.8</div>
                                        <div class="hotel-badge">Luxury</div>
                                    </div>
                                    <div class="hotel-details">
                                        <h4>Atlantic Beach Resort</h4>
                                        <p><i class="fas fa-map-marker-alt"></i> Down Beach, Limbe</p>
                                        <div class="hotel-amenities">
                                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                                            <span><i class="fas fa-swimming-pool"></i> Pool</span>
                                            <span><i class="fas fa-utensils"></i> Restaurant</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">45,000 XAF</span>
                                            <span class="per-night">per night</span>
                                        </div>
                                        <button class="book-btn">Book Now</button>
                                    </div>
                                </div>
                                
                                <div class="hotel-card" onclick="viewHotelDetails(2)">
                                    <div class="hotel-image">
                                        <img src="https://via.placeholder.com/300x200?text=Mount+Cameroon+Hotel" alt="Mount Cameroon Hotel">
                                        <div class="hotel-rating">⭐ 4.5</div>
                                        <div class="hotel-badge">Popular</div>
                                    </div>
                                    <div class="hotel-details">
                                        <h4>Mount Cameroon Hotel</h4>
                                        <p><i class="fas fa-map-marker-alt"></i> Mile 1, Limbe</p>
                                        <div class="hotel-amenities">
                                            <span><i class="fas fa-car"></i> Parking</span>
                                            <span><i class="fas fa-dumbbell"></i> Gym</span>
                                            <span><i class="fas fa-concierge-bell"></i> Service</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">35,000 XAF</span>
                                            <span class="per-night">per night</span>
                                        </div>
                                        <button class="book-btn">Book Now</button>
                                    </div>
                                </div>
                                
                                <div class="hotel-card" onclick="viewHotelDetails(3)">
                                    <div class="hotel-image">
                                        <img src="https://via.placeholder.com/300x200?text=Botanical+Garden+Lodge" alt="Botanical Garden Lodge">
                                        <div class="hotel-rating">⭐ 4.3</div>
                                        <div class="hotel-badge">Eco-Friendly</div>
                                    </div>
                                    <div class="hotel-details">
                                        <h4>Botanical Garden Lodge</h4>
                                        <p><i class="fas fa-map-marker-alt"></i> Botanical Garden, Limbe</p>
                                        <div class="hotel-amenities">
                                            <span><i class="fas fa-leaf"></i> Garden View</span>
                                            <span><i class="fas fa-spa"></i> Spa</span>
                                            <span><i class="fas fa-coffee"></i> Café</span>
                                        </div>
                                        <div class="hotel-price">
                                            <span class="price">28,000 XAF</span>
                                            <span class="per-night">per night</span>
                                        </div>
                                        <button class="book-btn">Book Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="services-section">
                            <h3>Hotel Services</h3>
                            <div class="services-grid">
                                <div class="service-item">
                                    <i class="fas fa-calendar-check"></i>
                                    <h4>Instant Booking</h4>
                                    <p>Book rooms with instant confirmation</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-price-tag"></i>
                                    <h4>Best Price Guarantee</h4>
                                    <p>Find the lowest prices or we'll match them</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-headset"></i>
                                    <h4>24/7 Support</h4>
                                    <p>Round-the-clock customer assistance</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-times-circle"></i>
                                    <h4>Free Cancellation</h4>
                                    <p>Cancel bookings without penalty</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="promotional-section">
                            <div class="promo-banner">
                                <h3>🎉 Special Offers</h3>
                                <p>Book 3 nights and get 1 night FREE! Valid until end of month.</p>
                                <button onclick="viewSpecialOffers()" class="promo-btn">View All Offers</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(hotelsContent);
        }

        // Tourism Module - Complete Implementation  
        function showTourismModule() {
            hideAllPages();
            
            const tourismContent = document.createElement('div');
            tourismContent.id = 'tourismModule';
            tourismContent.className = 'page-container active';
            tourismContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-mountain"></i> Tourism & Attractions</h2>
                                <p>Discover the beauty of Limbe with guided tours and cultural experiences</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="hero-section">
                            <div class="hero-video">
                                <video autoplay muted loop>
                                    <source src="https://via.placeholder.com/800x400?text=Limbe+Tourism+Video" type="video/mp4">
                                </video>
                                <div class="hero-overlay">
                                    <h3>Experience Limbe's Natural Wonders</h3>
                                    <p>From Mount Cameroon to pristine beaches</p>
                                    <button onclick="watchTourismVideo()" class="hero-btn">Watch Full Tour</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="attractions-section">
                            <h3>Top Attractions</h3>
                            <div class="attractions-grid">
                                <div class="attraction-card" onclick="viewAttraction('mount-cameroon')">
                                    <div class="attraction-image">
                                        <img src="https://via.placeholder.com/350x250?text=Mount+Cameroon" alt="Mount Cameroon">
                                        <div class="attraction-badge">Must Visit</div>
                                    </div>
                                    <div class="attraction-details">
                                        <h4>Mount Cameroon</h4>
                                        <p>Africa's highest mountain peak with guided hiking tours</p>
                                        <div class="attraction-info">
                                            <span><i class="fas fa-clock"></i> 2-3 days</span>
                                            <span><i class="fas fa-users"></i> Group tours</span>
                                        </div>
                                        <div class="attraction-price">From 75,000 XAF</div>
                                    </div>
                                </div>
                                
                                <div class="attraction-card" onclick="viewAttraction('wildlife-centre')">
                                    <div class="attraction-image">
                                        <img src="https://via.placeholder.com/350x250?text=Wildlife+Centre" alt="Limbe Wildlife Centre">
                                        <div class="attraction-badge">Family Friendly</div>
                                    </div>
                                    <div class="attraction-details">
                                        <h4>Limbe Wildlife Centre</h4>
                                        <p>Home to rescued primates and endangered species</p>
                                        <div class="attraction-info">
                                            <span><i class="fas fa-clock"></i> 3-4 hours</span>
                                            <span><i class="fas fa-camera"></i> Photo tours</span>
                                        </div>
                                        <div class="attraction-price">From 5,000 XAF</div>
                                    </div>
                                </div>
                                
                                <div class="attraction-card" onclick="viewAttraction('botanical-garden')">
                                    <div class="attraction-image">
                                        <img src="https://via.placeholder.com/350x250?text=Botanical+Garden" alt="Limbe Botanical Garden">
                                        <div class="attraction-badge">Peaceful</div>
                                    </div>
                                    <div class="attraction-details">
                                        <h4>Limbe Botanical Garden</h4>
                                        <p>Historic garden with diverse plant species and nature walks</p>
                                        <div class="attraction-info">
                                            <span><i class="fas fa-clock"></i> 2-3 hours</span>
                                            <span><i class="fas fa-leaf"></i> Nature walks</span>
                                        </div>
                                        <div class="attraction-price">From 2,000 XAF</div>
                                    </div>
                                </div>
                                
                                <div class="attraction-card" onclick="viewAttraction('black-sand-beaches')">
                                    <div class="attraction-image">
                                        <img src="https://via.placeholder.com/350x250?text=Black+Sand+Beaches" alt="Black Sand Beaches">
                                        <div class="attraction-badge">Unique</div>
                                    </div>
                                    <div class="attraction-details">
                                        <h4>Black Sand Beaches</h4>
                                        <p>Volcanic black sand beaches perfect for relaxation</p>
                                        <div class="attraction-info">
                                            <span><i class="fas fa-clock"></i> Full day</span>
                                            <span><i class="fas fa-umbrella-beach"></i> Beach activities</span>
                                        </div>
                                        <div class="attraction-price">Free Access</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tour-packages">
                            <h3>Tour Packages</h3>
                            <div class="packages-grid">
                                <div class="package-card">
                                    <h4>Limbe Discovery Package</h4>
                                    <div class="package-duration">3 Days / 2 Nights</div>
                                    <ul class="package-includes">
                                        <li>Mount Cameroon hiking</li>
                                        <li>Wildlife Centre visit</li>
                                        <li>Botanical Garden tour</li>
                                        <li>Beach relaxation</li>
                                        <li>Cultural village visit</li>
                                    </ul>
                                    <div class="package-price">125,000 XAF per person</div>
                                    <button onclick="bookTourPackage('discovery')" class="package-btn">Book Package</button>
                                </div>
                                
                                <div class="package-card featured">
                                    <div class="featured-badge">Most Popular</div>
                                    <h4>Adventure Explorer</h4>
                                    <div class="package-duration">5 Days / 4 Nights</div>
                                    <ul class="package-includes">
                                        <li>Mountain climbing expedition</li>
                                        <li>Cave exploration</li>
                                        <li>Waterfall hiking</li>
                                        <li>Cultural immersion</li>
                                        <li>Local cuisine tasting</li>
                                        <li>Photography workshop</li>
                                    </ul>
                                    <div class="package-price">200,000 XAF per person</div>
                                    <button onclick="bookTourPackage('adventure')" class="package-btn">Book Package</button>
                                </div>
                                
                                <div class="package-card">
                                    <h4>Family Fun Package</h4>
                                    <div class="package-duration">2 Days / 1 Night</div>
                                    <ul class="package-includes">
                                        <li>Wildlife Centre visit</li>
                                        <li>Beach games and activities</li>
                                        <li>Botanical Garden picnic</li>
                                        <li>Cultural performance</li>
                                        <li>Local craft workshop</li>
                                    </ul>
                                    <div class="package-price">85,000 XAF per person</div>
                                    <button onclick="bookTourPackage('family')" class="package-btn">Book Package</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(tourismContent);
        }

        // Restaurants Module - Complete Implementation
        function showRestaurantsModule() {
            hideAllPages();
            
            const restaurantsContent = document.createElement('div');
            restaurantsContent.id = 'restaurantsModule';
            restaurantsContent.className = 'page-container active';
            restaurantsContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-utensils"></i> Restaurants & Dining</h2>
                                <p>Discover authentic Cameroonian cuisine and international flavors</p>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search restaurants or cuisine..." id="restaurantSearch">
                                <button onclick="searchRestaurants()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="cuisine-filters">
                                <button onclick="filterCuisine('local')" class="filter-btn active">Local</button>
                                <button onclick="filterCuisine('international')" class="filter-btn">International</button>
                                <button onclick="filterCuisine('fast-food')" class="filter-btn">Fast Food</button>
                                <button onclick="filterCuisine('seafood')" class="filter-btn">Seafood</button>
                                <button onclick="filterCuisine('vegetarian')" class="filter-btn">Vegetarian</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="restaurants-stats">
                            <div class="stat-card">
                                <h4>200+</h4>
                                <p>Restaurants</p>
                            </div>
                            <div class="stat-card">
                                <h4>30min</h4>
                                <p>Avg Delivery</p>
                            </div>
                            <div class="stat-card">
                                <h4>4.8★</h4>
                                <p>Avg Rating</p>
                            </div>
                            <div class="stat-card">
                                <h4>Free</h4>
                                <p>Delivery 10k+</p>
                            </div>
                        </div>
                        
                        <div class="featured-restaurants">
                            <h3>Featured Restaurants</h3>
                            <div class="restaurants-grid">
                                <div class="restaurant-card">
                                    <div class="restaurant-image">
                                        <img src="https://via.placeholder.com/300x200?text=Ocean+Breeze+Restaurant" alt="Ocean Breeze Restaurant">
                                        <div class="restaurant-rating">⭐ 4.7</div>
                                        <div class="delivery-time">25 min</div>
                                    </div>
                                    <div class="restaurant-details">
                                        <h4>Ocean Breeze Restaurant</h4>
                                        <p>International & Local Cuisine with Ocean Views</p>
                                        <div class="specialties">
                                            <span>Fresh Seafood</span>
                                            <span>Grilled Fish</span>
                                            <span>Ndole</span>
                                        </div>
                                        <div class="restaurant-info">
                                            <span class="price-range">2,500 - 15,000 XAF</span>
                                            <span class="location">Atlantic Beach, Limbe</span>
                                        </div>
                                        <div class="action-buttons">
                                            <button onclick="viewRestaurantDetails(1)" class="view-details-btn">View Menu</button>
                                            <button onclick="whatsappVisitLimbe('I want to make a reservation at Ocean Breeze Restaurant')" class="reserve-btn">
                                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 16px; height: 16px; margin-right: 6px;"> Reserve
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="restaurant-card">
                                    <div class="restaurant-image">
                                        <img src="https://via.placeholder.com/300x200?text=Mount+Cameroon+Bistro" alt="Mount Cameroon Bistro">
                                        <div class="restaurant-rating">⭐ 4.5</div>
                                        <div class="delivery-time">20 min</div>
                                    </div>
                                    <div class="restaurant-details">
                                        <h4>Mount Cameroon Bistro</h4>
                                        <p>Continental & African Fusion Cuisine</p>
                                        <div class="specialties">
                                            <span>Fusion Cuisine</span>
                                            <span>Coffee Bar</span>
                                            <span>Business Meals</span>
                                        </div>
                                        <div class="restaurant-info">
                                            <span class="price-range">1,200 - 5,500 XAF</span>
                                            <span class="location">Botanical Garden Road, Limbe</span>
                                        </div>
                                        <div class="action-buttons">
                                            <button onclick="viewRestaurantDetails(2)" class="view-details-btn">View Menu</button>
                                            <button onclick="whatsappVisitLimbe('I want to make a reservation at Mount Cameroon Bistro')" class="reserve-btn">
                                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 16px; height: 16px; margin-right: 6px;"> Reserve
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="restaurant-card">
                                    <div class="restaurant-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Local+Kitchen" alt="Limbe Local Kitchen">
                                        <div class="restaurant-rating">⭐ 4.8</div>
                                        <div class="delivery-time">30 min</div>
                                    </div>
                                    <div class="restaurant-details">
                                        <h4>Limbe Local Kitchen</h4>
                                        <p>Authentic Cameroonian Traditional Cuisine</p>
                                        <div class="specialties">
                                            <span>Ndole</span>
                                            <span>Eru</span>
                                            <span>Achu</span>
                                        </div>
                                        <div class="restaurant-info">
                                            <span class="price-range">1,000 - 4,500 XAF</span>
                                            <span class="location">New Layout, Limbe</span>
                                        </div>
                                        <div class="action-buttons">
                                            <button onclick="viewRestaurantDetails(3)" class="view-details-btn">View Menu</button>
                                            <button onclick="whatsappVisitLimbe('I want to make a reservation at Limbe Local Kitchen')" class="reserve-btn">
                                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 16px; height: 16px; margin-right: 6px;"> Reserve
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="popular-dishes">
                            <h3>Popular Dishes This Week</h3>
                            <div class="dishes-grid">
                                <div class="dish-card">
                                    <img src="https://via.placeholder.com/200x150?text=Ndole" alt="Ndole">
                                    <div class="dish-info">
                                        <h4>Ndole</h4>
                                        <p>Traditional Cameroonian stew</p>
                                        <span class="dish-price">3,500 XAF</span>
                                    </div>
                                </div>
                                <div class="dish-card">
                                    <img src="https://via.placeholder.com/200x150?text=Grilled+Fish" alt="Grilled Fish">
                                    <div class="dish-info">
                                        <h4>Grilled Fish</h4>
                                        <p>Fresh catch of the day</p>
                                        <span class="dish-price">4,200 XAF</span>
                                    </div>
                                </div>
                                <div class="dish-card">
                                    <img src="https://via.placeholder.com/200x150?text=Pepper+Soup" alt="Pepper Soup">
                                    <div class="dish-info">
                                        <h4>Pepper Soup</h4>
                                        <p>Spicy traditional soup</p>
                                        <span class="dish-price">2,800 XAF</span>
                                    </div>
                                </div>
                                <div class="dish-card">
                                    <img src="https://via.placeholder.com/200x150?text=Achu" alt="Achu">
                                    <div class="dish-info">
                                        <h4>Achu</h4>
                                        <p>Yellow cocoyam delicacy</p>
                                        <span class="dish-price">3,200 XAF</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="delivery-section">
                            <div class="delivery-banner">
                                <h3>🚚 Fast Delivery Available</h3>
                                <p>Order from your favorite restaurants and get delivery in 30 minutes or less!</p>
                                <div class="delivery-info">
                                    <div class="delivery-item">
                                        <i class="fas fa-clock"></i>
                                        <span>30 min average delivery</span>
                                    </div>
                                    <div class="delivery-item">
                                        <i class="fas fa-motorcycle"></i>
                                        <span>100+ delivery riders</span>
                                    </div>
                                    <div class="delivery-item">
                                        <i class="fas fa-shield-alt"></i>
                                        <span>Safe & hygienic delivery</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(restaurantsContent);
        }

        // Shopping Module - Complete Implementation
        function showShoppingModule() {
            hideAllPages();
            
            const shoppingContent = document.createElement('div');
            shoppingContent.id = 'shoppingModule';
            shoppingContent.className = 'page-container active';
            shoppingContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-shopping-bag"></i> Shopping & Marketplace</h2>
                                <p>Shop local crafts, souvenirs, and authentic Cameroonian products</p>
                            </div>
                            <div class="cart-icon" onclick="viewShoppingCart()">
                                <i class="fas fa-shopping-cart"></i>
                                <span class="cart-count">3</span>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search products..." id="productSearch">
                                <button onclick="searchProducts()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="category-filters">
                                <button onclick="filterCategory('crafts')" class="filter-btn active">Crafts</button>
                                <button onclick="filterCategory('clothing')" class="filter-btn">Clothing</button>
                                <button onclick="filterCategory('art')" class="filter-btn">Art</button>
                                <button onclick="filterCategory('jewelry')" class="filter-btn">Jewelry</button>
                                <button onclick="filterCategory('food')" class="filter-btn">Local Food</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="shopping-stats">
                            <div class="stat-card">
                                <h4>500+</h4>
                                <p>Products</p>
                            </div>
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>Local Vendors</p>
                            </div>
                            <div class="stat-card">
                                <h4>Same Day</h4>
                                <p>Delivery</p>
                            </div>
                            <div class="stat-card">
                                <h4>100%</h4>
                                <p>Authentic</p>
                            </div>
                        </div>
                        
                        <div class="featured-products">
                            <h3>Featured Products</h3>
                            <div class="products-grid">
                                <div class="product-card" onclick="viewProduct(1)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Handwoven+Basket" alt="Handwoven Basket">
                                        <div class="product-badge">Bestseller</div>
                                        <div class="wishlist-btn" onclick="addToWishlist(1)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Traditional Handwoven Basket</h4>
                                        <p class="product-vendor">By Local Artisan Maria</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (45 reviews)</div>
                                        <div class="product-price">
                                            <span class="current-price">15,000 XAF</span>
                                            <span class="original-price">18,000 XAF</span>
                                        </div>
                                        <button onclick="addToCart(1)" class="add-cart-btn">Add to Cart</button>
                                    </div>
                                </div>
                                
                                <div class="product-card" onclick="viewProduct(2)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Cameroonian+Dress" alt="Traditional Dress">
                                        <div class="product-badge">New</div>
                                        <div class="wishlist-btn" onclick="addToWishlist(2)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Traditional Cameroonian Dress</h4>
                                        <p class="product-vendor">By Fashion House Limbe</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (32 reviews)</div>
                                        <div class="product-price">
                                            <span class="current-price">45,000 XAF</span>
                                        </div>
                                        <button onclick="addToCart(2)" class="add-cart-btn">Add to Cart</button>
                                    </div>
                                </div>
                                
                                <div class="product-card" onclick="viewProduct(3)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Wood+Carving" alt="Wood Carving">
                                        <div class="product-badge">Limited</div>
                                        <div class="wishlist-btn" onclick="addToWishlist(3)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Mount Cameroon Wood Carving</h4>
                                        <p class="product-vendor">By Master Craftsman John</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (28 reviews)</div>
                                        <div class="product-price">
                                            <span class="current-price">25,000 XAF</span>
                                        </div>
                                        <button onclick="addToCart(3)" class="add-cart-btn">Add to Cart</button>
                                    </div>
                                </div>
                                
                                <div class="product-card" onclick="viewProduct(4)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Local+Spices" alt="Local Spices">
                                        <div class="product-badge">Organic</div>
                                        <div class="wishlist-btn" onclick="addToWishlist(4)">
                                            <i class="far fa-heart"></i>
                                        </div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Authentic Cameroon Spice Mix</h4>
                                        <p class="product-vendor">By Spice Garden Co.</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (67 reviews)</div>
                                        <div class="product-price">
                                            <span class="current-price">8,500 XAF</span>
                                        </div>
                                        <button onclick="addToCart(4)" class="add-cart-btn">Add to Cart</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="vendor-spotlight">
                            <h3>Vendor Spotlight</h3>
                            <div class="vendors-grid">
                                <div class="vendor-card" onclick="viewVendor(1)">
                                    <div class="vendor-image">
                                        <img src="https://via.placeholder.com/150x150?text=Maria" alt="Maria's Crafts">
                                    </div>
                                    <div class="vendor-info">
                                        <h4>Maria's Traditional Crafts</h4>
                                        <p>Specializing in handwoven baskets and pottery</p>
                                        <div class="vendor-rating">⭐ 4.9 (120 sales)</div>
                                        <button onclick="visitVendorShop(1)" class="visit-shop-btn">Visit Shop</button>
                                    </div>
                                </div>
                                
                                <div class="vendor-card" onclick="viewVendor(2)">
                                    <div class="vendor-image">
                                        <img src="https://via.placeholder.com/150x150?text=John" alt="John's Art">
                                    </div>
                                    <div class="vendor-info">
                                        <h4>Master John's Art Gallery</h4>
                                        <p>Wood carvings and traditional sculptures</p>
                                        <div class="vendor-rating">⭐ 4.8 (85 sales)</div>
                                        <button onclick="visitVendorShop(2)" class="visit-shop-btn">Visit Shop</button>
                                    </div>
                                </div>
                                
                                <div class="vendor-card" onclick="viewVendor(3)">
                                    <div class="vendor-image">
                                        <img src="https://via.placeholder.com/150x150?text=Fashion" alt="Fashion House">
                                    </div>
                                    <div class="vendor-info">
                                        <h4>Limbe Fashion House</h4>
                                        <p>Traditional and modern Cameroonian fashion</p>
                                        <div class="vendor-rating">⭐ 4.7 (200 sales)</div>
                                        <button onclick="visitVendorShop(3)" class="visit-shop-btn">Visit Shop</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="shopping-services">
                            <h3>Shopping Services</h3>
                            <div class="services-grid">
                                <div class="service-item">
                                    <i class="fas fa-shipping-fast"></i>
                                    <h4>Same Day Delivery</h4>
                                    <p>Get your purchases delivered the same day within Limbe</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-certificate"></i>
                                    <h4>Authenticity Guarantee</h4>
                                    <p>All products are verified authentic by local experts</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-shield-alt"></i>
                                    <h4>Secure Payment</h4>
                                    <p>Safe transactions with MTN MoMo, Orange Money, and cards</p>
                                </div>
                                <div class="service-item">
                                    <i class="fas fa-undo"></i>
                                    <h4>Easy Returns</h4>
                                    <p>30-day return policy for unsatisfied purchases</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(shoppingContent);
        }

        // Jobs Module - Complete Implementation
        function showJobsModule() {
            hideAllPages();
            
            const jobsContent = document.createElement('div');
            jobsContent.id = 'jobsModule';
            jobsContent.className = 'page-container active';
            jobsContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-briefcase"></i> Jobs & Careers</h2>
                                <p>Find employment opportunities in Limbe and surrounding areas</p>
                            </div>
                            <button onclick="postJobOpening()" class="post-job-btn">
                                <i class="fas fa-plus"></i> Post Job
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search jobs, companies, or skills..." id="jobSearch">
                                <button onclick="searchJobs()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="job-filters">
                                <select onchange="filterJobType(this.value)" class="filter-select">
                                    <option value="">Job Type</option>
                                    <option value="full-time">Full Time</option>
                                    <option value="part-time">Part Time</option>
                                    <option value="contract">Contract</option>
                                    <option value="internship">Internship</option>
                                </select>
                                <select onchange="filterLocation(this.value)" class="filter-select">
                                    <option value="">Location</option>
                                    <option value="limbe">Limbe City</option>
                                    <option value="buea">Buea</option>
                                    <option value="douala">Douala</option>
                                    <option value="remote">Remote</option>
                                </select>
                                <select onchange="filterSalary(this.value)" class="filter-select">
                                    <option value="">Salary Range</option>
                                    <option value="0-100000">Below 100,000 XAF</option>
                                    <option value="100000-300000">100,000 - 300,000 XAF</option>
                                    <option value="300000-500000">300,000 - 500,000 XAF</option>
                                    <option value="500000+">Above 500,000 XAF</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="job-stats">
                            <div class="stat-card">
                                <h4>250+</h4>
                                <p>Active Jobs</p>
                            </div>
                            <div class="stat-card">
                                <h4>80+</h4>
                                <p>Companies</p>
                            </div>
                            <div class="stat-card">
                                <h4>1,200+</h4>
                                <p>Job Seekers</p>
                            </div>
                            <div class="stat-card">
                                <h4>95%</h4>
                                <p>Success Rate</p>
                            </div>
                        </div>
                        
                        <div class="featured-jobs">
                            <h3>Featured Job Openings</h3>
                            <div class="jobs-grid">
                                <div class="job-card" onclick="viewJobDetails(1)">
                                    <div class="job-header">
                                        <div class="company-logo">
                                            <img src="https://via.placeholder.com/60x60?text=Hotel" alt="Limbe Beach Hotel">
                                        </div>
                                        <div class="job-basic-info">
                                            <h4>Hotel Manager</h4>
                                            <p class="company-name">Limbe Beach Resort</p>
                                            <div class="job-meta">
                                                <span class="location"><i class="fas fa-map-marker-alt"></i> Limbe</span>
                                                <span class="job-type">Full Time</span>
                                                <span class="posted-time">2 days ago</span>
                                            </div>
                                        </div>
                                        <div class="job-actions">
                                            <button onclick="saveJob(1)" class="save-job-btn">
                                                <i class="far fa-bookmark"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="job-summary">
                                        <p>Seeking experienced hotel manager to oversee operations at our beachfront resort. Requires 5+ years hospitality experience.</p>
                                    </div>
                                    <div class="job-footer">
                                        <div class="salary-range">
                                            <i class="fas fa-money-bill-wave"></i>
                                            <span>400,000 - 600,000 XAF/month</span>
                                        </div>
                                        <div class="job-skills">
                                            <span class="skill-tag">Management</span>
                                            <span class="skill-tag">Hospitality</span>
                                            <span class="skill-tag">Leadership</span>
                                        </div>
                                    </div>
                                    <button onclick="applyForJob(1)" class="apply-btn">Apply Now</button>
                                </div>
                                
                                <div class="job-card" onclick="viewJobDetails(2)">
                                    <div class="job-header">
                                        <div class="company-logo">
                                            <img src="https://via.placeholder.com/60x60?text=Tech" alt="TechCam Solutions">
                                        </div>
                                        <div class="job-basic-info">
                                            <h4>Software Developer</h4>
                                            <p class="company-name">TechCam Solutions</p>
                                            <div class="job-meta">
                                                <span class="location"><i class="fas fa-map-marker-alt"></i> Buea</span>
                                                <span class="job-type">Full Time</span>
                                                <span class="posted-time">1 week ago</span>
                                            </div>
                                        </div>
                                        <div class="job-actions">
                                            <button onclick="saveJob(2)" class="save-job-btn">
                                                <i class="far fa-bookmark"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="job-summary">
                                        <p>Join our dynamic team building mobile and web applications. Fresh graduates welcome with good programming fundamentals.</p>
                                    </div>
                                    <div class="job-footer">
                                        <div class="salary-range">
                                            <i class="fas fa-money-bill-wave"></i>
                                            <span>250,000 - 400,000 XAF/month</span>
                                        </div>
                                        <div class="job-skills">
                                            <span class="skill-tag">JavaScript</span>
                                            <span class="skill-tag">React</span>
                                            <span class="skill-tag">Node.js</span>
                                        </div>
                                    </div>
                                    <button onclick="applyForJob(2)" class="apply-btn">Apply Now</button>
                                </div>
                                
                                <div class="job-card" onclick="viewJobDetails(3)">
                                    <div class="job-header">
                                        <div class="company-logo">
                                            <img src="https://via.placeholder.com/60x60?text=Bank" alt="Cameroon Bank">
                                        </div>
                                        <div class="job-basic-info">
                                            <h4>Customer Service Representative</h4>
                                            <p class="company-name">Cameroon Development Bank</p>
                                            <div class="job-meta">
                                                <span class="location"><i class="fas fa-map-marker-alt"></i> Limbe</span>
                                                <span class="job-type">Full Time</span>
                                                <span class="posted-time">3 days ago</span>
                                            </div>
                                        </div>
                                        <div class="job-actions">
                                            <button onclick="saveJob(3)" class="save-job-btn">
                                                <i class="far fa-bookmark"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="job-summary">
                                        <p>Provide excellent customer service to bank clients. Handle inquiries, process transactions, and maintain client relationships.</p>
                                    </div>
                                    <div class="job-footer">
                                        <div class="salary-range">
                                            <i class="fas fa-money-bill-wave"></i>
                                            <span>180,000 - 250,000 XAF/month</span>
                                        </div>
                                        <div class="job-skills">
                                            <span class="skill-tag">Customer Service</span>
                                            <span class="skill-tag">Banking</span>
                                            <span class="skill-tag">Communication</span>
                                        </div>
                                    </div>
                                    <button onclick="applyForJob(3)" class="apply-btn">Apply Now</button>
                                </div>
                                
                                <div class="job-card" onclick="viewJobDetails(4)">
                                    <div class="job-header">
                                        <div class="company-logo">
                                            <img src="https://via.placeholder.com/60x60?text=School" alt="Limbe International School">
                                        </div>
                                        <div class="job-basic-info">
                                            <h4>English Teacher</h4>
                                            <p class="company-name">Limbe International School</p>
                                            <div class="job-meta">
                                                <span class="location"><i class="fas fa-map-marker-alt"></i> Limbe</span>
                                                <span class="job-type">Full Time</span>
                                                <span class="posted-time">5 days ago</span>
                                            </div>
                                        </div>
                                        <div class="job-actions">
                                            <button onclick="saveJob(4)" class="save-job-btn">
                                                <i class="far fa-bookmark"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="job-summary">
                                        <p>Teach English language and literature to secondary school students. Create engaging lesson plans and assess student progress.</p>
                                    </div>
                                    <div class="job-footer">
                                        <div class="salary-range">
                                            <i class="fas fa-money-bill-wave"></i>
                                            <span>200,000 - 300,000 XAF/month</span>
                                        </div>
                                        <div class="job-skills">
                                            <span class="skill-tag">Teaching</span>
                                            <span class="skill-tag">English</span>
                                            <span class="skill-tag">Education</span>
                                        </div>
                                    </div>
                                    <button onclick="applyForJob(4)" class="apply-btn">Apply Now</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="career-resources">
                            <h3>Career Resources</h3>
                            <div class="resources-grid">
                                <div class="resource-item" onclick="accessResumeBuilder()">
                                    <i class="fas fa-file-alt"></i>
                                    <h4>Resume Builder</h4>
                                    <p>Create professional resumes with our guided templates</p>
                                    <button class="resource-btn">Access Tool</button>
                                </div>
                                <div class="resource-item" onclick="accessSkillTests()">
                                    <i class="fas fa-clipboard-check"></i>
                                    <h4>Skill Assessments</h4>
                                    <p>Test your skills and get certified in various domains</p>
                                    <button class="resource-btn">Take Test</button>
                                </div>
                                <div class="resource-item" onclick="accessCareerAdvice()">
                                    <i class="fas fa-lightbulb"></i>
                                    <h4>Career Advice</h4>
                                    <p>Get guidance from career counselors and industry experts</p>
                                    <button class="resource-btn">Get Advice</button>
                                </div>
                                <div class="resource-item" onclick="accessInterviewPrep()">
                                    <i class="fas fa-comments"></i>
                                    <h4>Interview Preparation</h4>
                                    <p>Practice interviews and learn common questions</p>
                                    <button class="resource-btn">Start Practice</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="employer-section">
                            <h3>For Employers</h3>
                            <div class="employer-services">
                                <div class="service-card">
                                    <i class="fas fa-bullhorn"></i>
                                    <h4>Post Job Openings</h4>
                                    <p>Reach qualified candidates in Limbe and surrounding areas</p>
                                    <button onclick="postJobOpening()" class="employer-btn">Post Job</button>
                                </div>
                                <div class="service-card">
                                    <i class="fas fa-search"></i>
                                    <h4>Search Candidates</h4>
                                    <p>Browse resumes and find the perfect fit for your company</p>
                                    <button onclick="searchCandidates()" class="employer-btn">Search Now</button>
                                </div>
                                <div class="service-card">
                                    <i class="fas fa-chart-line"></i>
                                    <h4>Recruitment Analytics</h4>
                                    <p>Track your hiring performance and optimize your process</p>
                                    <button onclick="viewAnalytics()" class="employer-btn">View Analytics</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(jobsContent);
        }

        // Events Module - Complete Implementation
        function showEventsModule() {
            hideAllPages();
            
            const eventsContent = document.createElement('div');
            eventsContent.id = 'eventsModule';
            eventsContent.className = 'page-container active';
            eventsContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-calendar-alt"></i> Events & Entertainment</h2>
                                <p>Discover and attend exciting events happening in Limbe</p>
                            </div>
                            <button onclick="createEvent()" class="create-event-btn">
                                <i class="fas fa-plus"></i> Create Event
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search events, venues, artists..." id="eventSearch">
                                <button onclick="searchEvents()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="event-filters">
                                <button onclick="filterEventType('music')" class="filter-btn active">Music</button>
                                <button onclick="filterEventType('cultural')" class="filter-btn">Cultural</button>
                                <button onclick="filterEventType('sports')" class="filter-btn">Sports</button>
                                <button onclick="filterEventType('food')" class="filter-btn">Food & Drink</button>
                                <button onclick="filterEventType('business')" class="filter-btn">Business</button>
                                <button onclick="filterEventType('arts')" class="filter-btn">Arts</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="event-stats">
                            <div class="stat-card">
                                <h4>120+</h4>
                                <p>Upcoming Events</p>
                            </div>
                            <div class="stat-card">
                                <h4>25+</h4>
                                <p>Venues</p>
                            </div>
                            <div class="stat-card">
                                <h4>5,000+</h4>
                                <p>Event Attendees</p>
                            </div>
                            <div class="stat-card">
                                <h4>Weekly</h4>
                                <p>New Events</p>
                            </div>
                        </div>
                        
                        <div class="featured-events">
                            <h3>Featured Events This Week</h3>
                            <div class="events-grid">
                                <div class="event-card" onclick="viewEventDetails(1)">
                                    <div class="event-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Festival" alt="Limbe Festival">
                                        <div class="event-badge">Hot</div>
                                        <div class="event-date">
                                            <span class="day">15</span>
                                            <span class="month">DEC</span>
                                        </div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-category">Cultural Festival</div>
                                        <h4>Limbe Cultural Festival 2024</h4>
                                        <div class="event-meta">
                                            <div class="event-time">
                                                <i class="fas fa-clock"></i>
                                                <span>6:00 PM - 11:00 PM</span>
                                            </div>
                                            <div class="event-location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Botanical Garden</span>
                                            </div>
                                        </div>
                                        <p class="event-description">Experience the rich culture of Cameroon with traditional music, dance, food, and crafts.</p>
                                        <div class="event-price">
                                            <span class="price">2,500 XAF</span>
                                            <span class="availability">500 tickets left</span>
                                        </div>
                                        <div class="event-actions">
                                            <button onclick="bookTicket(1)" class="book-btn">Book Ticket</button>
                                            <button onclick="shareEvent(1)" class="share-btn">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="event-card" onclick="viewEventDetails(2)">
                                    <div class="event-image">
                                        <img src="https://via.placeholder.com/300x200?text=Beach+Concert" alt="Beach Concert">
                                        <div class="event-badge">New</div>
                                        <div class="event-date">
                                            <span class="day">18</span>
                                            <span class="month">DEC</span>
                                        </div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-category">Music Concert</div>
                                        <h4>Sunset Beach Concert</h4>
                                        <div class="event-meta">
                                            <div class="event-time">
                                                <i class="fas fa-clock"></i>
                                                <span>5:00 PM - 10:00 PM</span>
                                            </div>
                                            <div class="event-location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Down Beach Limbe</span>
                                            </div>
                                        </div>
                                        <p class="event-description">Live music performances by local and international artists with the beautiful sunset backdrop.</p>
                                        <div class="event-price">
                                            <span class="price">5,000 XAF</span>
                                            <span class="availability">200 tickets left</span>
                                        </div>
                                        <div class="event-actions">
                                            <button onclick="bookTicket(2)" class="book-btn">Book Ticket</button>
                                            <button onclick="shareEvent(2)" class="share-btn">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="event-card" onclick="viewEventDetails(3)">
                                    <div class="event-image">
                                        <img src="https://via.placeholder.com/300x200?text=Food+Festival" alt="Food Festival">
                                        <div class="event-badge">Popular</div>
                                        <div class="event-date">
                                            <span class="day">20</span>
                                            <span class="month">DEC</span>
                                        </div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-category">Food & Drink</div>
                                        <h4>Cameroon Food Festival</h4>
                                        <div class="event-meta">
                                            <div class="event-time">
                                                <i class="fas fa-clock"></i>
                                                <span>12:00 PM - 8:00 PM</span>
                                            </div>
                                            <div class="event-location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Town Hall</span>
                                            </div>
                                        </div>
                                        <p class="event-description">Taste authentic Cameroonian cuisine from different regions prepared by top local chefs.</p>
                                        <div class="event-price">
                                            <span class="price">3,000 XAF</span>
                                            <span class="availability">300 tickets left</span>
                                        </div>
                                        <div class="event-actions">
                                            <button onclick="bookTicket(3)" class="book-btn">Book Ticket</button>
                                            <button onclick="shareEvent(3)" class="share-btn">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="event-card" onclick="viewEventDetails(4)">
                                    <div class="event-image">
                                        <img src="https://via.placeholder.com/300x200?text=Business+Summit" alt="Business Summit">
                                        <div class="event-badge">Premium</div>
                                        <div class="event-date">
                                            <span class="day">22</span>
                                            <span class="month">DEC</span>
                                        </div>
                                    </div>
                                    <div class="event-details">
                                        <div class="event-category">Business</div>
                                        <h4>Southwest Business Summit</h4>
                                        <div class="event-meta">
                                            <div class="event-time">
                                                <i class="fas fa-clock"></i>
                                                <span>9:00 AM - 5:00 PM</span>
                                            </div>
                                            <div class="event-location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Conference Center</span>
                                            </div>
                                        </div>
                                        <p class="event-description">Network with business leaders and learn about investment opportunities in Southwest Cameroon.</p>
                                        <div class="event-price">
                                            <span class="price">15,000 XAF</span>
                                            <span class="availability">50 tickets left</span>
                                        </div>
                                        <div class="event-actions">
                                            <button onclick="bookTicket(4)" class="book-btn">Book Ticket</button>
                                            <button onclick="shareEvent(4)" class="share-btn">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="popular-venues">
                            <h3>Popular Venues</h3>
                            <div class="venues-grid">
                                <div class="venue-card" onclick="viewVenueDetails(1)">
                                    <div class="venue-image">
                                        <img src="https://via.placeholder.com/200x150?text=Botanical+Garden" alt="Botanical Garden">
                                    </div>
                                    <div class="venue-info">
                                        <h4>Limbe Botanical Garden</h4>
                                        <p>Beautiful outdoor venue perfect for cultural events and festivals</p>
                                        <div class="venue-rating">⭐ 4.8 (120 reviews)</div>
                                        <div class="venue-capacity">Capacity: 2,000 people</div>
                                    </div>
                                </div>
                                
                                <div class="venue-card" onclick="viewVenueDetails(2)">
                                    <div class="venue-image">
                                        <img src="https://via.placeholder.com/200x150?text=Down+Beach" alt="Down Beach">
                                    </div>
                                    <div class="venue-info">
                                        <h4>Down Beach Limbe</h4>
                                        <p>Scenic beachfront location ideal for concerts and outdoor events</p>
                                        <div class="venue-rating">⭐ 4.9 (85 reviews)</div>
                                        <div class="venue-capacity">Capacity: 5,000 people</div>
                                    </div>
                                </div>
                                
                                <div class="venue-card" onclick="viewVenueDetails(3)">
                                    <div class="venue-image">
                                        <img src="https://via.placeholder.com/200x150?text=Conference+Center" alt="Conference Center">
                                    </div>
                                    <div class="venue-info">
                                        <h4>Limbe Conference Center</h4>
                                        <p>Modern facility equipped for business events and conferences</p>
                                        <div class="venue-rating">⭐ 4.7 (95 reviews)</div>
                                        <div class="venue-capacity">Capacity: 500 people</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="event-calendar">
                            <h3>Event Calendar</h3>
                            <div class="calendar-view">
                                <div class="calendar-navigation">
                                    <button onclick="previousMonth()" class="nav-btn">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <h4 id="currentMonth">December 2024</h4>
                                    <button onclick="nextMonth()" class="nav-btn">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                                <div class="calendar-grid">
                                    <div class="calendar-day header">Sun</div>
                                    <div class="calendar-day header">Mon</div>
                                    <div class="calendar-day header">Tue</div>
                                    <div class="calendar-day header">Wed</div>
                                    <div class="calendar-day header">Thu</div>
                                    <div class="calendar-day header">Fri</div>
                                    <div class="calendar-day header">Sat</div>
                                    
                                    <div class="calendar-day">1</div>
                                    <div class="calendar-day">2</div>
                                    <div class="calendar-day">3</div>
                                    <div class="calendar-day">4</div>
                                    <div class="calendar-day">5</div>
                                    <div class="calendar-day">6</div>
                                    <div class="calendar-day">7</div>
                                    
                                    <div class="calendar-day">8</div>
                                    <div class="calendar-day">9</div>
                                    <div class="calendar-day">10</div>
                                    <div class="calendar-day">11</div>
                                    <div class="calendar-day">12</div>
                                    <div class="calendar-day">13</div>
                                    <div class="calendar-day">14</div>
                                    
                                    <div class="calendar-day has-event" onclick="viewDayEvents(15)">15
                                        <div class="event-indicator"></div>
                                    </div>
                                    <div class="calendar-day">16</div>
                                    <div class="calendar-day">17</div>
                                    <div class="calendar-day has-event" onclick="viewDayEvents(18)">18
                                        <div class="event-indicator"></div>
                                    </div>
                                    <div class="calendar-day">19</div>
                                    <div class="calendar-day has-event" onclick="viewDayEvents(20)">20
                                        <div class="event-indicator"></div>
                                    </div>
                                    <div class="calendar-day">21</div>
                                    
                                    <div class="calendar-day has-event" onclick="viewDayEvents(22)">22
                                        <div class="event-indicator"></div>
                                    </div>
                                    <div class="calendar-day">23</div>
                                    <div class="calendar-day">24</div>
                                    <div class="calendar-day">25</div>
                                    <div class="calendar-day">26</div>
                                    <div class="calendar-day">27</div>
                                    <div class="calendar-day">28</div>
                                    
                                    <div class="calendar-day">29</div>
                                    <div class="calendar-day">30</div>
                                    <div class="calendar-day">31</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(eventsContent);
        }

        // Education Module - Complete Implementation
        function showEducationModule() {
            hideAllPages();
            
            const educationContent = document.createElement('div');
            educationContent.id = 'educationModule';
            educationContent.className = 'page-container active';
            educationContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-graduation-cap"></i> Education & Learning</h2>
                                <p>Discover educational institutions and learning opportunities in Limbe</p>
                            </div>
                            <button onclick="addInstitution()" class="add-institution-btn">
                                <i class="fas fa-plus"></i> Add School
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search schools, courses, programs..." id="educationSearch">
                                <button onclick="searchEducation()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="education-filters">
                                <button onclick="filterEducationType('primary')" class="filter-btn active">Primary</button>
                                <button onclick="filterEducationType('secondary')" class="filter-btn">Secondary</button>
                                <button onclick="filterEducationType('university')" class="filter-btn">University</button>
                                <button onclick="filterEducationType('vocational')" class="filter-btn">Vocational</button>
                                <button onclick="filterEducationType('online')" class="filter-btn">Online</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="education-stats">
                            <div class="stat-card">
                                <h4>45+</h4>
                                <p>Schools</p>
                            </div>
                            <div class="stat-card">
                                <h4>15,000+</h4>
                                <p>Students</p>
                            </div>
                            <div class="stat-card">
                                <h4>800+</h4>
                                <p>Teachers</p>
                            </div>
                            <div class="stat-card">
                                <h4>200+</h4>
                                <p>Programs</p>
                            </div>
                        </div>
                        
                        <div class="featured-institutions">
                            <h3>Top Educational Institutions</h3>
                            <div class="institutions-grid">
                                <div class="institution-card" onclick="viewInstitutionDetails(1)">
                                    <div class="institution-image">
                                        <img src="https://via.placeholder.com/300x200?text=University+of+Buea" alt="University of Buea">
                                        <div class="institution-badge">University</div>
                                    </div>
                                    <div class="institution-details">
                                        <h4>University of Buea</h4>
                                        <div class="institution-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Buea (20km from Limbe)</span>
                                            </div>
                                            <div class="type">
                                                <i class="fas fa-university"></i>
                                                <span>Public University</span>
                                            </div>
                                        </div>
                                        <p class="institution-description">Leading university in Southwest Cameroon offering undergraduate and graduate programs in various fields.</p>
                                        <div class="institution-stats">
                                            <div class="stat">
                                                <span class="number">12,000+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">8</span>
                                                <span class="label">Faculties</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">50+</span>
                                                <span class="label">Programs</span>
                                            </div>
                                        </div>
                                        <div class="programs-preview">
                                            <span class="program-tag">Engineering</span>
                                            <span class="program-tag">Medicine</span>
                                            <span class="program-tag">Business</span>
                                            <span class="program-tag">Arts</span>
                                        </div>
                                        <div class="institution-actions">
                                            <button onclick="viewPrograms(1)" class="view-programs-btn">View Programs</button>
                                            <button onclick="applyOnline(1)" class="apply-btn">Apply Online</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="institution-card" onclick="viewInstitutionDetails(2)">
                                    <div class="institution-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+International+School" alt="Limbe International School">
                                        <div class="institution-badge">International</div>
                                    </div>
                                    <div class="institution-details">
                                        <h4>Limbe International School</h4>
                                        <div class="institution-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe</span>
                                            </div>
                                            <div class="type">
                                                <i class="fas fa-school"></i>
                                                <span>Private School</span>
                                            </div>
                                        </div>
                                        <p class="institution-description">Premier international school offering British curriculum from nursery to A-levels with excellent facilities.</p>
                                        <div class="institution-stats">
                                            <div class="stat">
                                                <span class="number">800+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">60+</span>
                                                <span class="label">Teachers</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">95%</span>
                                                <span class="label">Pass Rate</span>
                                            </div>
                                        </div>
                                        <div class="programs-preview">
                                            <span class="program-tag">IGCSE</span>
                                            <span class="program-tag">A-Levels</span>
                                            <span class="program-tag">IB Program</span>
                                        </div>
                                        <div class="institution-actions">
                                            <button onclick="viewPrograms(2)" class="view-programs-btn">View Programs</button>
                                            <button onclick="scheduleVisit(2)" class="visit-btn">Schedule Visit</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="institution-card" onclick="viewInstitutionDetails(3)">
                                    <div class="institution-image">
                                        <img src="https://via.placeholder.com/300x200?text=Technical+College" alt="Technical College">
                                        <div class="institution-badge">Vocational</div>
                                    </div>
                                    <div class="institution-details">
                                        <h4>Limbe Technical College</h4>
                                        <div class="institution-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe</span>
                                            </div>
                                            <div class="type">
                                                <i class="fas fa-tools"></i>
                                                <span>Technical Institute</span>
                                            </div>
                                        </div>
                                        <p class="institution-description">Specialized technical education focusing on practical skills and vocational training for various trades.</p>
                                        <div class="institution-stats">
                                            <div class="stat">
                                                <span class="number">1,200+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">15</span>
                                                <span class="label">Programs</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">85%</span>
                                                <span class="label">Employment Rate</span>
                                            </div>
                                        </div>
                                        <div class="programs-preview">
                                            <span class="program-tag">Electrical</span>
                                            <span class="program-tag">Mechanical</span>
                                            <span class="program-tag">Computer</span>
                                            <span class="program-tag">Plumbing</span>
                                        </div>
                                        <div class="institution-actions">
                                            <button onclick="viewPrograms(3)" class="view-programs-btn">View Programs</button>
                                            <button onclick="applyOnline(3)" class="apply-btn">Apply Now</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="online-learning">
                            <h3>Online Learning Opportunities</h3>
                            <div class="courses-grid">
                                <div class="course-card" onclick="enrollCourse(1)">
                                    <div class="course-image">
                                        <img src="https://via.placeholder.com/250x150?text=Digital+Marketing" alt="Digital Marketing">
                                        <div class="course-level">Beginner</div>
                                    </div>
                                    <div class="course-details">
                                        <h4>Digital Marketing Fundamentals</h4>
                                        <p class="instructor">Instructor: Sarah Johnson</p>
                                        <div class="course-meta">
                                            <span class="duration"><i class="fas fa-clock"></i> 8 weeks</span>
                                            <span class="students"><i class="fas fa-users"></i> 150 students</span>
                                            <span class="rating">⭐ 4.8 (45 reviews)</span>
                                        </div>
                                        <p class="course-description">Learn the basics of digital marketing including SEO, social media, and email marketing.</p>
                                        <div class="course-price">
                                            <span class="price">25,000 XAF</span>
                                            <span class="original-price">35,000 XAF</span>
                                        </div>
                                        <button onclick="enrollCourse(1)" class="enroll-btn">Enroll Now</button>
                                    </div>
                                </div>
                                
                                <div class="course-card" onclick="enrollCourse(2)">
                                    <div class="course-image">
                                        <img src="https://via.placeholder.com/250x150?text=Web+Development" alt="Web Development">
                                        <div class="course-level">Intermediate</div>
                                    </div>
                                    <div class="course-details">
                                        <h4>Web Development with JavaScript</h4>
                                        <p class="instructor">Instructor: Mark Thompson</p>
                                        <div class="course-meta">
                                            <span class="duration"><i class="fas fa-clock"></i> 12 weeks</span>
                                            <span class="students"><i class="fas fa-users"></i> 89 students</span>
                                            <span class="rating">⭐ 4.9 (67 reviews)</span>
                                        </div>
                                        <p class="course-description">Build modern web applications using HTML, CSS, JavaScript, and popular frameworks.</p>
                                        <div class="course-price">
                                            <span class="price">45,000 XAF</span>
                                        </div>
                                        <button onclick="enrollCourse(2)" class="enroll-btn">Enroll Now</button>
                                    </div>
                                </div>
                                
                                <div class="course-card" onclick="enrollCourse(3)">
                                    <div class="course-image">
                                        <img src="https://via.placeholder.com/250x150?text=Business+Management" alt="Business Management">
                                        <div class="course-level">Advanced</div>
                                    </div>
                                    <div class="course-details">
                                        <h4>Business Management Essentials</h4>
                                        <p class="instructor">Instructor: Dr. Elizabeth Brown</p>
                                        <div class="course-meta">
                                            <span class="duration"><i class="fas fa-clock"></i> 10 weeks</span>
                                            <span class="students"><i class="fas fa-users"></i> 200 students</span>
                                            <span class="rating">⭐ 4.7 (120 reviews)</span>
                                        </div>
                                        <p class="course-description">Master business fundamentals including finance, operations, and strategic planning.</p>
                                        <div class="course-price">
                                            <span class="price">55,000 XAF</span>
                                        </div>
                                        <button onclick="enrollCourse(3)" class="enroll-btn">Enroll Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="language-centers-section">
                            <h3>🌍 Language Learning Centers</h3>
                            <div class="centers-grid">
                                <div class="center-card" onclick="viewLanguageCenter(1)">
                                    <div class="center-image">
                                        <img src="https://via.placeholder.com/300x200?text=British+Council" alt="British Council">
                                        <div class="center-badge">International</div>
                                    </div>
                                    <div class="center-details">
                                        <h4>British Council Limbe</h4>
                                        <div class="center-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Down Beach, Limbe</span>
                                            </div>
                                            <div class="languages">
                                                <i class="fas fa-globe"></i>
                                                <span>English (IELTS, TOEFL)</span>
                                            </div>
                                        </div>
                                        <p class="center-description">Official British language center offering English courses from beginner to advanced levels with international certifications.</p>
                                        <div class="center-stats">
                                            <div class="stat">
                                                <span class="number">500+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">15+</span>
                                                <span class="label">Instructors</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">98%</span>
                                                <span class="label">Success Rate</span>
                                            </div>
                                        </div>
                                        <div class="courses-preview">
                                            <span class="course-tag">General English</span>
                                            <span class="course-tag">IELTS Prep</span>
                                            <span class="course-tag">Business English</span>
                                        </div>
                                        <div class="center-actions">
                                            <button onclick="viewCourses(1)" class="view-courses-btn">View Courses</button>
                                            <button onclick="enrollLanguageCenter(1)" class="enroll-btn">Enroll Now</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="center-card" onclick="viewLanguageCenter(2)">
                                    <div class="center-image">
                                        <img src="https://via.placeholder.com/300x200?text=Alliance+Française" alt="Alliance Française">
                                        <div class="center-badge">French</div>
                                    </div>
                                    <div class="center-details">
                                        <h4>Alliance Française Limbe</h4>
                                        <div class="center-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Motowo, Limbe</span>
                                            </div>
                                            <div class="languages">
                                                <i class="fas fa-globe"></i>
                                                <span>French (DELF, DALF)</span>
                                            </div>
                                        </div>
                                        <p class="center-description">Premier French language center providing comprehensive French learning programs with cultural immersion.</p>
                                        <div class="center-stats">
                                            <div class="stat">
                                                <span class="number">350+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">12+</span>
                                                <span class="label">Instructors</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">92%</span>
                                                <span class="label">Pass Rate</span>
                                            </div>
                                        </div>
                                        <div class="courses-preview">
                                            <span class="course-tag">French A1-C2</span>
                                            <span class="course-tag">DELF Prep</span>
                                            <span class="course-tag">Cultural Classes</span>
                                        </div>
                                        <div class="center-actions">
                                            <button onclick="viewCourses(2)" class="view-courses-btn">View Courses</button>
                                            <button onclick="enrollLanguageCenter(2)" class="enroll-btn">Enroll Now</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="center-card" onclick="viewLanguageCenter(3)">
                                    <div class="center-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Language+Institute" alt="Limbe Language Institute">
                                        <div class="center-badge">Multilingual</div>
                                    </div>
                                    <div class="center-details">
                                        <h4>Limbe Language Institute</h4>
                                        <div class="center-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Mile 2, Limbe</span>
                                            </div>
                                            <div class="languages">
                                                <i class="fas fa-globe"></i>
                                                <span>English, French, German, Spanish</span>
                                            </div>
                                        </div>
                                        <p class="center-description">Local language institute offering multiple language courses with flexible schedules and affordable rates.</p>
                                        <div class="center-stats">
                                            <div class="stat">
                                                <span class="number">800+</span>
                                                <span class="label">Students</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">20+</span>
                                                <span class="label">Languages</span>
                                            </div>
                                            <div class="stat">
                                                <span class="number">88%</span>
                                                <span class="label">Completion Rate</span>
                                            </div>
                                        </div>
                                        <div class="courses-preview">
                                            <span class="course-tag">English</span>
                                            <span class="course-tag">French</span>
                                            <span class="course-tag">German</span>
                                            <span class="course-tag">Spanish</span>
                                        </div>
                                        <div class="center-actions">
                                            <button onclick="viewCourses(3)" class="view-courses-btn">View Courses</button>
                                            <button onclick="enrollLanguageCenter(3)" class="enroll-btn">Enroll Now</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="education-services">
                            <h3>Educational Services</h3>
                            <div class="services-grid">
                                <div class="service-item" onclick="accessTutoring()">
                                    <i class="fas fa-chalkboard-teacher"></i>
                                    <h4>Private Tutoring</h4>
                                    <p>Connect with qualified tutors for personalized learning</p>
                                    <button class="service-btn">Find Tutor</button>
                                </div>
                                <div class="service-item" onclick="accessScholarships()">
                                    <i class="fas fa-award"></i>
                                    <h4>Scholarships</h4>
                                    <p>Discover scholarship opportunities for students</p>
                                    <button class="service-btn">View Scholarships</button>
                                </div>
                                <div class="service-item" onclick="accessCareerGuidance()">
                                    <i class="fas fa-compass"></i>
                                    <h4>Career Guidance</h4>
                                    <p>Get advice on educational and career paths</p>
                                    <button class="service-btn">Get Guidance</button>
                                </div>
                                <div class="service-item" onclick="accessStudyGroups()">
                                    <i class="fas fa-users"></i>
                                    <h4>Study Groups</h4>
                                    <p>Join or create study groups with other students</p>
                                    <button class="service-btn">Join Groups</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(educationContent);
        }

        // Healthcare Module - Complete Implementation
        function showHealthcareModule() {
            hideAllPages();
            
            const healthcareContent = document.createElement('div');
            healthcareContent.id = 'healthcareModule';
            healthcareContent.className = 'page-container active';
            healthcareContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-heartbeat"></i> Healthcare Services</h2>
                                <p>Find medical facilities and healthcare services in Limbe</p>
                            </div>
                            <button onclick="emergencyCall()" class="emergency-btn">
                                <i class="fas fa-phone"></i> Emergency
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search doctors, hospitals, services..." id="healthcareSearch">
                                <button onclick="searchHealthcare()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="healthcare-filters">
                                <button onclick="filterHealthcareType('hospitals')" class="filter-btn active">Hospitals</button>
                                <button onclick="filterHealthcareType('clinics')" class="filter-btn">Clinics</button>
                                <button onclick="filterHealthcareType('pharmacies')" class="filter-btn">Pharmacies</button>
                                <button onclick="filterHealthcareType('specialists')" class="filter-btn">Specialists</button>
                                <button onclick="filterHealthcareType('emergency')" class="filter-btn">Emergency</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="healthcare-stats">
                            <div class="stat-card">
                                <h4>15+</h4>
                                <p>Hospitals</p>
                            </div>
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>Doctors</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Emergency Care</p>
                            </div>
                            <div class="stat-card">
                                <h4>30+</h4>
                                <p>Pharmacies</p>
                            </div>
                        </div>
                        
                        <div class="featured-hospitals">
                            <h3>Top Healthcare Facilities</h3>
                            <div class="hospitals-grid">
                                <div class="hospital-card" onclick="viewHospitalDetails(1)">
                                    <div class="hospital-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+General+Hospital" alt="Limbe General Hospital">
                                        <div class="hospital-badge">Public</div>
                                        <div class="emergency-indicator">
                                            <i class="fas fa-ambulance"></i>
                                            <span>24/7</span>
                                        </div>
                                    </div>
                                    <div class="hospital-details">
                                        <h4>Limbe General Hospital</h4>
                                        <div class="hospital-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Down Beach, Limbe</span>
                                            </div>
                                            <div class="rating">
                                                <i class="fas fa-star"></i>
                                                <span>4.5 (120 reviews)</span>
                                            </div>
                                        </div>
                                        <p class="hospital-description">Main public hospital providing comprehensive medical services including emergency care, surgery, and maternity.</p>
                                        <div class="services-preview">
                                            <span class="service-tag">Emergency</span>
                                            <span class="service-tag">Surgery</span>
                                            <span class="service-tag">Maternity</span>
                                            <span class="service-tag">Pediatrics</span>
                                        </div>
                                        <div class="hospital-contact">
                                            <div class="contact-item">
                                                <i class="fas fa-phone"></i>
                                                <span>+237 233 332 234</span>
                                            </div>
                                            <div class="contact-item">
                                                <i class="fas fa-clock"></i>
                                                <span>24/7 Emergency</span>
                                            </div>
                                        </div>
                                        <div class="hospital-actions">
                                            <button onclick="bookAppointment(1)" class="appointment-btn">Book Appointment</button>
                                            <button onclick="viewDirections(1)" class="directions-btn">Get Directions</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="hospital-card" onclick="viewHospitalDetails(2)">
                                    <div class="hospital-image">
                                        <img src="https://via.placeholder.com/300x200?text=Limbe+Medical+Center" alt="Limbe Medical Center">
                                        <div class="hospital-badge">Private</div>
                                        <div class="quality-indicator">
                                            <i class="fas fa-certificate"></i>
                                            <span>Premium</span>
                                        </div>
                                    </div>
                                    <div class="hospital-details">
                                        <h4>Limbe Medical Center</h4>
                                        <div class="hospital-meta">
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Mile 1, Limbe</span>
                                            </div>
                                            <div class="rating">
                                                <i class="fas fa-star"></i>
                                                <span>4.8 (85 reviews)</span>
                                            </div>
                                        </div>
                                        <p class="hospital-description">Modern private medical facility offering specialized care with state-of-the-art equipment and expert physicians.</p>
                                        <div class="services-preview">
                                            <span class="service-tag">Cardiology</span>
                                            <span class="service-tag">Orthopedics</span>
                                            <span class="service-tag">Radiology</span>
                                            <span class="service-tag">Lab Services</span>
                                        </div>
                                        <div class="hospital-contact">
                                            <div class="contact-item">
                                                <i class="fas fa-phone"></i>
                                                <span>+237 233 445 667</span>
                                            </div>
                                            <div class="contact-item">
                                                <i class="fas fa-clock"></i>
                                                <span>8:00 AM - 8:00 PM</span>
                                            </div>
                                        </div>
                                        <div class="hospital-actions">
                                            <button onclick="bookAppointment(2)" class="appointment-btn">Book Appointment</button>
                                            <button onclick="viewDirections(2)" class="directions-btn">Get Directions</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="doctors-directory">
                            <h3>Find Doctors & Specialists</h3>
                            <div class="doctors-grid">
                                <div class="doctor-card" onclick="viewDoctorProfile(1)">
                                    <div class="doctor-image">
                                        <img src="https://via.placeholder.com/150x150?text=Dr.+Smith" alt="Dr. Smith">
                                        <div class="availability-status available">Available</div>
                                    </div>
                                    <div class="doctor-info">
                                        <h4>Dr. James Smith</h4>
                                        <p class="specialization">Cardiologist</p>
                                        <div class="doctor-rating">⭐ 4.9 (45 patients)</div>
                                        <div class="experience">12 years experience</div>
                                        <div class="hospital-affiliation">Limbe Medical Center</div>
                                        <div class="consultation-fee">Consultation: 15,000 XAF</div>
                                        <button onclick="bookDoctorAppointment(1)" class="book-doctor-btn">Book Appointment</button>
                                    </div>
                                </div>
                                
                                <div class="doctor-card" onclick="viewDoctorProfile(2)">
                                    <div class="doctor-image">
                                        <img src="https://via.placeholder.com/150x150?text=Dr.+Johnson" alt="Dr. Johnson">
                                        <div class="availability-status busy">Busy</div>
                                    </div>
                                    <div class="doctor-info">
                                        <h4>Dr. Mary Johnson</h4>
                                        <p class="specialization">Pediatrician</p>
                                        <div class="doctor-rating">⭐ 4.8 (67 patients)</div>
                                        <div class="experience">8 years experience</div>
                                        <div class="hospital-affiliation">Limbe General Hospital</div>
                                        <div class="consultation-fee">Consultation: 10,000 XAF</div>
                                        <button onclick="bookDoctorAppointment(2)" class="book-doctor-btn">Book Appointment</button>
                                    </div>
                                </div>
                                
                                <div class="doctor-card" onclick="viewDoctorProfile(3)">
                                    <div class="doctor-image">
                                        <img src="https://via.placeholder.com/150x150?text=Dr.+Williams" alt="Dr. Williams">
                                        <div class="availability-status available">Available</div>
                                    </div>
                                    <div class="doctor-info">
                                        <h4>Dr. Robert Williams</h4>
                                        <p class="specialization">General Practitioner</p>
                                        <div class="doctor-rating">⭐ 4.7 (89 patients)</div>
                                        <div class="experience">15 years experience</div>
                                        <div class="hospital-affiliation">Limbe Clinic</div>
                                        <div class="consultation-fee">Consultation: 8,000 XAF</div>
                                        <button onclick="bookDoctorAppointment(3)" class="book-doctor-btn">Book Appointment</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pharmacies-section">
                            <h3>Nearby Pharmacies</h3>
                            <div class="pharmacies-grid">
                                <div class="pharmacy-card" onclick="viewPharmacyDetails(1)">
                                    <div class="pharmacy-header">
                                        <h4>Limbe Central Pharmacy</h4>
                                        <div class="pharmacy-status open">Open</div>
                                    </div>
                                    <div class="pharmacy-info">
                                        <div class="location">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>Main Street, Limbe</span>
                                        </div>
                                        <div class="hours">
                                            <i class="fas fa-clock"></i>
                                            <span>8:00 AM - 10:00 PM</span>
                                        </div>
                                        <div class="phone">
                                            <i class="fas fa-phone"></i>
                                            <span>+237 233 556 778</span>
                                        </div>
                                    </div>
                                    <div class="pharmacy-services">
                                        <span class="service-tag">Prescription</span>
                                        <span class="service-tag">OTC Drugs</span>
                                        <span class="service-tag">Delivery</span>
                                    </div>
                                    <button onclick="callPharmacy(1)" class="call-pharmacy-btn">Call Pharmacy</button>
                                </div>
                                
                                <div class="pharmacy-card" onclick="viewPharmacyDetails(2)">
                                    <div class="pharmacy-header">
                                        <h4>Health Plus Pharmacy</h4>
                                        <div class="pharmacy-status open">Open 24/7</div>
                                    </div>
                                    <div class="pharmacy-info">
                                        <div class="location">
                                            <i class="fas fa-map-marker-alt"></i>
                                            <span>Mile 2, Limbe</span>
                                        </div>
                                        <div class="hours">
                                            <i class="fas fa-clock"></i>
                                            <span>24 Hours</span>
                                        </div>
                                        <div class="phone">
                                            <i class="fas fa-phone"></i>
                                            <span>+237 233 667 889</span>
                                        </div>
                                    </div>
                                    <div class="pharmacy-services">
                                        <span class="service-tag">Emergency</span>
                                        <span class="service-tag">Medical Supplies</span>
                                        <span class="service-tag">24/7 Delivery</span>
                                    </div>
                                    <button onclick="callPharmacy(2)" class="call-pharmacy-btn">Call Pharmacy</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="health-services">
                            <h3>Health Services</h3>
                            <div class="services-grid">
                                <div class="service-item" onclick="accessTelemedicine()">
                                    <i class="fas fa-video"></i>
                                    <h4>Telemedicine</h4>
                                    <p>Consult with doctors online from home</p>
                                    <button class="service-btn">Start Consultation</button>
                                </div>
                                <div class="service-item" onclick="accessHealthRecords()">
                                    <i class="fas fa-file-medical"></i>
                                    <h4>Health Records</h4>
                                    <p>Manage your medical history digitally</p>
                                    <button class="service-btn">View Records</button>
                                </div>
                                <div class="service-item" onclick="accessVaccinations()">
                                    <i class="fas fa-syringe"></i>
                                    <h4>Vaccination Schedule</h4>
                                    <p>Track and schedule vaccinations</p>
                                    <button class="service-btn">View Schedule</button>
                                </div>
                                <div class="service-item" onclick="accessHealthInsurance()">
                                    <i class="fas fa-shield-alt"></i>
                                    <h4>Health Insurance</h4>
                                    <p>Find and compare insurance plans</p>
                                    <button class="service-btn">Compare Plans</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="emergency-contacts">
                            <h3>Emergency Contacts</h3>
                            <div class="emergency-grid">
                                <div class="emergency-card" onclick="callEmergency('ambulance')">
                                    <i class="fas fa-ambulance"></i>
                                    <h4>Ambulance</h4>
                                    <p class="emergency-number">911</p>
                                    <button class="emergency-call-btn">Call Now</button>
                                </div>
                                <div class="emergency-card" onclick="callEmergency('fire')">
                                    <i class="fas fa-fire-extinguisher"></i>
                                    <h4>Fire Department</h4>
                                    <p class="emergency-number">912</p>
                                    <button class="emergency-call-btn">Call Now</button>
                                </div>
                                <div class="emergency-card" onclick="callEmergency('police')">
                                    <i class="fas fa-shield-alt"></i>
                                    <h4>Police</h4>
                                    <p class="emergency-number">913</p>
                                    <button class="emergency-call-btn">Call Now</button>
                                </div>
                                <div class="emergency-card" onclick="callEmergency('poison')">
                                    <i class="fas fa-skull-crossbones"></i>
                                    <h4>Poison Control</h4>
                                    <p class="emergency-number">+237 233 999 000</p>
                                    <button class="emergency-call-btn">Call Now</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(healthcareContent);
        }

        // Transportation Module - Complete Implementation
        function showTransportationModule() {
            hideAllPages();
            
            const transportationContent = document.createElement('div');
            transportationContent.id = 'transportationModule';
            transportationContent.className = 'page-container active';
            transportationContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-car"></i> Transportation Services</h2>
                                <p>Find rides, car rentals, and transportation options in Limbe</p>
                            </div>
                            <button onclick="becomeDriver()" class="become-driver-btn">
                                <i class="fas fa-user-plus"></i> Become Driver
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="trip-planner">
                                <div class="location-inputs">
                                    <div class="input-group">
                                        <i class="fas fa-circle pickup-icon"></i>
                                        <input type="text" placeholder="Pickup location" id="pickupLocation" value="Current Location">
                                    </div>
                                    <div class="input-group">
                                        <i class="fas fa-map-marker-alt destination-icon"></i>
                                        <input type="text" placeholder="Where to?" id="destination">
                                    </div>
                                </div>
                                <div class="trip-options">
                                    <button onclick="selectTransportType('taxi')" class="transport-btn active">
                                        <i class="fas fa-taxi"></i>
                                        <span>Taxi</span>
                                    </button>
                                    <button onclick="selectTransportType('bike')" class="transport-btn">
                                        <i class="fas fa-motorcycle"></i>
                                        <span>Bike</span>
                                    </button>
                                    <button onclick="selectTransportType('bus')" class="transport-btn">
                                        <i class="fas fa-bus"></i>
                                        <span>Bus</span>
                                    </button>
                                    <button onclick="selectTransportType('rental')" class="transport-btn">
                                        <i class="fas fa-car"></i>
                                        <span>Rental</span>
                                    </button>
                                </div>
                                <button onclick="findRide()" class="find-ride-btn">Find Ride</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="transport-stats">
                            <div class="stat-card">
                                <h4>200+</h4>
                                <p>Active Drivers</p>
                            </div>
                            <div class="stat-card">
                                <h4>5,000+</h4>
                                <p>Monthly Rides</p>
                            </div>
                            <div class="stat-card">
                                <h4>3 min</h4>
                                <p>Average Wait</p>
                            </div>
                            <div class="stat-card">
                                <h4>4.8★</h4>
                                <p>Average Rating</p>
                            </div>
                        </div>
                        
                        <div class="ride-options">
                            <h3>Choose Your Ride</h3>
                            <div class="ride-types-grid">
                                <div class="ride-type-card" onclick="selectRideType('economy')">
                                    <div class="ride-icon">
                                        <i class="fas fa-car"></i>
                                    </div>
                                    <div class="ride-info">
                                        <h4>Economy</h4>
                                        <p>Affordable everyday rides</p>
                                        <div class="ride-features">
                                            <span>4 seats</span>
                                            <span>A/C</span>
                                        </div>
                                        <div class="ride-price">
                                            <span class="price">500 XAF</span>
                                            <span class="duration">• 15 min</span>
                                        </div>
                                    </div>
                                    <div class="eta">5 min</div>
                                </div>
                                
                                <div class="ride-type-card" onclick="selectRideType('comfort')">
                                    <div class="ride-icon">
                                        <i class="fas fa-car-side"></i>
                                    </div>
                                    <div class="ride-info">
                                        <h4>Comfort</h4>
                                        <p>Premium cars with extra space</p>
                                        <div class="ride-features">
                                            <span>4 seats</span>
                                            <span>Premium</span>
                                        </div>
                                        <div class="ride-price">
                                            <span class="price">800 XAF</span>
                                            <span class="duration">• 15 min</span>
                                        </div>
                                    </div>
                                    <div class="eta">7 min</div>
                                </div>
                                
                                <div class="ride-type-card" onclick="selectRideType('bike')">
                                    <div class="ride-icon">
                                        <i class="fas fa-motorcycle"></i>
                                    </div>
                                    <div class="ride-info">
                                        <h4>Bike</h4>
                                        <p>Quick rides through traffic</p>
                                        <div class="ride-features">
                                            <span>1 passenger</span>
                                            <span>Fast</span>
                                        </div>
                                        <div class="ride-price">
                                            <span class="price">300 XAF</span>
                                            <span class="duration">• 8 min</span>
                                        </div>
                                    </div>
                                    <div class="eta">3 min</div>
                                </div>
                                
                                <div class="ride-type-card" onclick="selectRideType('share')">
                                    <div class="ride-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="ride-info">
                                        <h4>Share</h4>
                                        <p>Split the cost with others</p>
                                        <div class="ride-features">
                                            <span>Shared</span>
                                            <span>Budget</span>
                                        </div>
                                        <div class="ride-price">
                                            <span class="price">250 XAF</span>
                                            <span class="duration">• 20 min</span>
                                        </div>
                                    </div>
                                    <div class="eta">12 min</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="car-rental-section">
                            <h3>Car Rental Services</h3>
                            <div class="rental-cars-grid">
                                <div class="rental-car-card" onclick="viewRentalDetails(1)">
                                    <div class="car-image">
                                        <img src="https://via.placeholder.com/300x200?text=Toyota+Corolla" alt="Toyota Corolla">
                                        <div class="car-badge">Popular</div>
                                    </div>
                                    <div class="car-details">
                                        <h4>Toyota Corolla 2022</h4>
                                        <div class="car-specs">
                                            <span class="spec"><i class="fas fa-users"></i> 5 seats</span>
                                            <span class="spec"><i class="fas fa-gas-pump"></i> Manual</span>
                                            <span class="spec"><i class="fas fa-snowflake"></i> A/C</span>
                                        </div>
                                        <div class="rental-pricing">
                                            <div class="price-option">
                                                <span class="duration">Daily</span>
                                                <span class="price">25,000 XAF</span>
                                            </div>
                                            <div class="price-option">
                                                <span class="duration">Weekly</span>
                                                <span class="price">150,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="rental-features">
                                            <span class="feature">GPS Navigation</span>
                                            <span class="feature">Insurance Included</span>
                                        </div>
                                        <button onclick="rentCar(1)" class="rent-btn">Rent Now</button>
                                    </div>
                                </div>
                                
                                <div class="rental-car-card" onclick="viewRentalDetails(2)">
                                    <div class="car-image">
                                        <img src="https://via.placeholder.com/300x200?text=Honda+CR-V" alt="Honda CR-V">
                                        <div class="car-badge">SUV</div>
                                    </div>
                                    <div class="car-details">
                                        <h4>Honda CR-V 2023</h4>
                                        <div class="car-specs">
                                            <span class="spec"><i class="fas fa-users"></i> 7 seats</span>
                                            <span class="spec"><i class="fas fa-gas-pump"></i> Automatic</span>
                                            <span class="spec"><i class="fas fa-snowflake"></i> Climate Control</span>
                                        </div>
                                        <div class="rental-pricing">
                                            <div class="price-option">
                                                <span class="duration">Daily</span>
                                                <span class="price">35,000 XAF</span>
                                            </div>
                                            <div class="price-option">
                                                <span class="duration">Weekly</span>
                                                <span class="price">220,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="rental-features">
                                            <span class="feature">4WD</span>
                                            <span class="feature">Premium Sound</span>
                                        </div>
                                        <button onclick="rentCar(2)" class="rent-btn">Rent Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bus-schedules">
                            <h3>Bus Schedules & Routes</h3>
                            <div class="bus-routes-grid">
                                <div class="bus-route-card" onclick="viewRouteDetails(1)">
                                    <div class="route-header">
                                        <h4>Limbe - Buea Route</h4>
                                        <div class="route-status active">Active</div>
                                    </div>
                                    <div class="route-info">
                                        <div class="route-details">
                                            <div class="stops">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Main Park → University of Buea</span>
                                            </div>
                                            <div class="duration">
                                                <i class="fas fa-clock"></i>
                                                <span>45 minutes</span>
                                            </div>
                                            <div class="fare">
                                                <i class="fas fa-money-bill-wave"></i>
                                                <span>1,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="schedule-times">
                                            <div class="time-slot">6:00 AM</div>
                                            <div class="time-slot">8:00 AM</div>
                                            <div class="time-slot">10:00 AM</div>
                                            <div class="time-slot">2:00 PM</div>
                                            <div class="time-slot">4:00 PM</div>
                                            <div class="time-slot">6:00 PM</div>
                                        </div>
                                    </div>
                                    <button onclick="buyBusTicket(1)" class="buy-ticket-btn">Buy Ticket</button>
                                </div>
                                
                                <div class="bus-route-card" onclick="viewRouteDetails(2)">
                                    <div class="route-header">
                                        <h4>Limbe - Douala Route</h4>
                                        <div class="route-status active">Active</div>
                                    </div>
                                    <div class="route-info">
                                        <div class="route-details">
                                            <div class="stops">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Main Park → Douala Central</span>
                                            </div>
                                            <div class="duration">
                                                <i class="fas fa-clock"></i>
                                                <span>2 hours</span>
                                            </div>
                                            <div class="fare">
                                                <i class="fas fa-money-bill-wave"></i>
                                                <span>3,500 XAF</span>
                                            </div>
                                        </div>
                                        <div class="schedule-times">
                                            <div class="time-slot">5:00 AM</div>
                                            <div class="time-slot">9:00 AM</div>
                                            <div class="time-slot">1:00 PM</div>
                                            <div class="time-slot">5:00 PM</div>
                                        </div>
                                    </div>
                                    <button onclick="buyBusTicket(2)" class="buy-ticket-btn">Buy Ticket</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="transport-services">
                            <h3>Additional Services</h3>
                            <div class="services-grid">
                                <div class="service-item" onclick="accessDriverRegistration()">
                                    <i class="fas fa-id-card"></i>
                                    <h4>Driver Registration</h4>
                                    <p>Join our network of professional drivers</p>
                                    <button class="service-btn">Register</button>
                                </div>
                                <div class="service-item" onclick="accessDeliveryService()">
                                    <i class="fas fa-box"></i>
                                    <h4>Package Delivery</h4>
                                    <p>Send packages across Limbe and beyond</p>
                                    <button class="service-btn">Send Package</button>
                                </div>
                                <div class="service-item" onclick="accessRideHistory()">
                                    <i class="fas fa-history"></i>
                                    <h4>Ride History</h4>
                                    <p>View your past trips and receipts</p>
                                    <button class="service-btn">View History</button>
                                </div>
                                <div class="service-item" onclick="accessSupport()">
                                    <i class="fas fa-headset"></i>
                                    <h4>24/7 Support</h4>
                                    <p>Get help with your transportation needs</p>
                                    <button class="service-btn">Contact Support</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="live-tracking">
                            <h3>Live Tracking</h3>
                            <div class="tracking-map">
                                <div class="map-placeholder">
                                    <i class="fas fa-map-marked-alt"></i>
                                    <p>Interactive map showing live driver locations</p>
                                    <div class="map-legend">
                                        <div class="legend-item">
                                            <span class="marker available"></span>
                                            <span>Available Drivers</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="marker busy"></span>
                                            <span>Busy Drivers</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="marker user"></span>
                                            <span>Your Location</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(transportationContent);
        }

        // SmartGro Module - Complete Implementation
        function showSmartGroModule() {
            hideAllPages();
            
            const smartgroContent = document.createElement('div');
            smartgroContent.id = 'smartgroModule';
            smartgroContent.className = 'page-container active';
            smartgroContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-seedling"></i> SmartGro Agricultural Assistant</h2>
                                <p>Modern farming solutions and agricultural marketplace</p>
                            </div>
                            <div class="points-display">
                                <i class="fas fa-coins"></i>
                                <span id="userPoints">2,450 Points</span>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search crops, equipment, advice..." id="smartgroSearch">
                                <button onclick="searchSmartGro()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="smartgro-filters">
                                <button onclick="filterSmartGroType('crops')" class="filter-btn active">Crops</button>
                                <button onclick="filterSmartGroType('equipment')" class="filter-btn">Equipment</button>
                                <button onclick="filterSmartGroType('advice')" class="filter-btn">Farm Advice</button>
                                <button onclick="filterSmartGroType('market')" class="filter-btn">Marketplace</button>
                                <button onclick="filterSmartGroType('weather')" class="filter-btn">Weather</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="farming-stats">
                            <div class="stat-card">
                                <h4>500+</h4>
                                <p>Farmers Connected</p>
                            </div>
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>Crop Varieties</p>
                            </div>
                            <div class="stat-card">
                                <h4>85%</h4>
                                <p>Yield Improvement</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Support Available</p>
                            </div>
                        </div>
                        
                        <div class="watch-and-earn">
                            <h3>Watch & Earn Agricultural Videos</h3>
                            <div class="videos-grid">
                                <div class="video-card" onclick="watchVideo(1)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Cocoa+Farming" alt="Cocoa Farming">
                                        <div class="play-button">
                                            <i class="fas fa-play"></i>
                                        </div>
                                        <div class="video-duration">15:30</div>
                                        <div class="points-reward">+50 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Modern Cocoa Farming Techniques</h4>
                                        <p class="video-description">Learn advanced cocoa cultivation methods to increase yield and quality</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 1,234 views</span>
                                            <span class="rating">⭐ 4.8</span>
                                        </div>
                                        <div class="video-instructor">
                                            <img src="https://via.placeholder.com/30x30?text=Dr" alt="Instructor">
                                            <span>Dr. Agri Expert</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="video-card" onclick="watchVideo(2)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Banana+Plantation" alt="Banana Plantation">
                                        <div class="play-button">
                                            <i class="fas fa-play"></i>
                                        </div>
                                        <div class="video-duration">12:45</div>
                                        <div class="points-reward">+40 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Banana Plantation Management</h4>
                                        <p class="video-description">Complete guide to banana farming from planting to harvest</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 890 views</span>
                                            <span class="rating">⭐ 4.9</span>
                                        </div>
                                        <div class="video-instructor">
                                            <img src="https://via.placeholder.com/30x30?text=Pr" alt="Instructor">
                                            <span>Prof. Farm Master</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="video-card" onclick="watchVideo(3)">
                                    <div class="video-thumbnail">
                                        <img src="https://via.placeholder.com/300x200?text=Smart+Irrigation" alt="Smart Irrigation">
                                        <div class="play-button">
                                            <i class="fas fa-play"></i>
                                        </div>
                                        <div class="video-duration">20:15</div>
                                        <div class="points-reward">+60 Points</div>
                                    </div>
                                    <div class="video-details">
                                        <h4>Smart Irrigation Systems</h4>
                                        <p class="video-description">Automated watering solutions for modern farming</p>
                                        <div class="video-meta">
                                            <span class="views"><i class="fas fa-eye"></i> 2,156 views</span>
                                            <span class="rating">⭐ 4.7</span>
                                        </div>
                                        <div class="video-instructor">
                                            <img src="https://via.placeholder.com/30x30?text=En" alt="Instructor">
                                            <span>Engineer Smith</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="agricultural-marketplace">
                            <h3>Agricultural Marketplace</h3>
                            <div class="marketplace-grid">
                                <div class="product-card" onclick="viewAgroProduct(1)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Quality+Seeds" alt="Quality Seeds">
                                        <div class="product-badge">Certified</div>
                                        <div class="discount-tag">-15%</div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Premium Cocoa Seeds</h4>
                                        <p class="seller">Cameroon Seed Company</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (89 reviews)</div>
                                        <div class="product-specs">
                                            <span class="spec">High Yield Variety</span>
                                            <span class="spec">Disease Resistant</span>
                                        </div>
                                        <div class="product-price">
                                            <span class="current-price">12,000 XAF/kg</span>
                                            <span class="original-price">14,000 XAF</span>
                                        </div>
                                        <button onclick="buyAgroProduct(1)" class="buy-btn">Buy Now</button>
                                    </div>
                                </div>
                                
                                <div class="product-card" onclick="viewAgroProduct(2)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Fertilizer" alt="Organic Fertilizer">
                                        <div class="product-badge">Organic</div>
                                        <div class="stock-status">In Stock</div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Organic Fertilizer NPK</h4>
                                        <p class="seller">Green Agro Solutions</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (145 reviews)</div>
                                        <div class="product-specs">
                                            <span class="spec">50kg Bag</span>
                                            <span class="spec">Slow Release</span>
                                        </div>
                                        <div class="product-price">
                                            <span class="current-price">25,000 XAF</span>
                                        </div>
                                        <button onclick="buyAgroProduct(2)" class="buy-btn">Buy Now</button>
                                    </div>
                                </div>
                                
                                <div class="product-card" onclick="viewAgroProduct(3)">
                                    <div class="product-image">
                                        <img src="https://via.placeholder.com/250x200?text=Irrigation+Kit" alt="Irrigation Kit">
                                        <div class="product-badge">Complete Kit</div>
                                        <div class="free-shipping">Free Delivery</div>
                                    </div>
                                    <div class="product-details">
                                        <h4>Drip Irrigation System</h4>
                                        <p class="seller">Smart Farm Equipment</p>
                                        <div class="product-rating">⭐⭐⭐⭐⭐ (67 reviews)</div>
                                        <div class="product-specs">
                                            <span class="spec">Covers 1 Hectare</span>
                                            <span class="spec">Solar Powered</span>
                                        </div>
                                        <div class="product-price">
                                            <span class="current-price">150,000 XAF</span>
                                        </div>
                                        <button onclick="buyAgroProduct(3)" class="buy-btn">Buy Now</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="crop-advisory">
                            <h3>Crop Advisory & Weather</h3>
                            <div class="advisory-grid">
                                <div class="weather-card">
                                    <h4>Today's Weather</h4>
                                    <div class="weather-info">
                                        <div class="temperature">28°C</div>
                                        <div class="condition">
                                            <i class="fas fa-cloud-sun"></i>
                                            <span>Partly Cloudy</span>
                                        </div>
                                        <div class="details">
                                            <div class="detail">
                                                <span>Humidity</span>
                                                <span>75%</span>
                                            </div>
                                            <div class="detail">
                                                <span>Rain Chance</span>
                                                <span>60%</span>
                                            </div>
                                            <div class="detail">
                                                <span>Wind</span>
                                                <span>12 km/h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="farming-advice">
                                        <h5>Today's Farming Tip</h5>
                                        <p>Good day for irrigation. Rain expected this evening.</p>
                                    </div>
                                </div>
                                
                                <div class="crop-calendar-card">
                                    <h4>Crop Calendar</h4>
                                    <div class="calendar-items">
                                        <div class="calendar-item">
                                            <div class="date">Dec 15</div>
                                            <div class="activity">
                                                <h5>Cocoa Pruning</h5>
                                                <p>Time for annual pruning</p>
                                            </div>
                                        </div>
                                        <div class="calendar-item">
                                            <div class="date">Dec 20</div>
                                            <div class="activity">
                                                <h5>Plantain Planting</h5>
                                                <p>Optimal planting season</p>
                                            </div>
                                        </div>
                                        <div class="calendar-item">
                                            <div class="date">Dec 25</div>
                                            <div class="activity">
                                                <h5>Fertilizer Application</h5>
                                                <p>Apply organic fertilizer</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="expert-consultation">
                            <h3>Expert Consultation</h3>
                            <div class="experts-grid">
                                <div class="expert-card" onclick="consultExpert(1)">
                                    <div class="expert-image">
                                        <img src="https://via.placeholder.com/150x150?text=Dr.+Green" alt="Dr. Green">
                                        <div class="online-status online">Online</div>
                                    </div>
                                    <div class="expert-info">
                                        <h4>Dr. Emmanuel Green</h4>
                                        <p class="specialization">Crop Disease Specialist</p>
                                        <div class="expert-rating">⭐ 4.9 (125 consultations)</div>
                                        <div class="expertise-tags">
                                            <span class="tag">Cocoa</span>
                                            <span class="tag">Plant Disease</span>
                                            <span class="tag">Pest Control</span>
                                        </div>
                                        <div class="consultation-fee">
                                            <span class="fee">5,000 XAF/session</span>
                                            <span class="duration">30 min</span>
                                        </div>
                                        <button onclick="bookConsultation(1)" class="consult-btn">Book Consultation</button>
                                    </div>
                                </div>
                                
                                <div class="expert-card" onclick="consultExpert(2)">
                                    <div class="expert-image">
                                        <img src="https://via.placeholder.com/150x150?text=Prof.+Farm" alt="Prof. Farm">
                                        <div class="online-status offline">Offline</div>
                                    </div>
                                    <div class="expert-info">
                                        <h4>Prof. Mary Farmer</h4>
                                        <p class="specialization">Soil & Nutrition Expert</p>
                                        <div class="expert-rating">⭐ 4.8 (98 consultations)</div>
                                        <div class="expertise-tags">
                                            <span class="tag">Soil Health</span>
                                            <span class="tag">Fertilizers</span>
                                            <span class="tag">Irrigation</span>
                                        </div>
                                        <div class="consultation-fee">
                                            <span class="fee">7,000 XAF/session</span>
                                            <span class="duration">45 min</span>
                                        </div>
                                        <button onclick="bookConsultation(2)" class="consult-btn">Schedule Call</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="points-rewards">
                            <h3>Points & Rewards Program</h3>
                            <div class="rewards-grid">
                                <div class="reward-item" onclick="redeemReward(1)">
                                    <div class="reward-icon">
                                        <i class="fas fa-gift"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>Free Fertilizer Sample</h4>
                                        <p>Get a 5kg sample of premium fertilizer</p>
                                        <div class="points-required">500 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                                
                                <div class="reward-item" onclick="redeemReward(2)">
                                    <div class="reward-icon">
                                        <i class="fas fa-tools"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>Farm Tool Discount</h4>
                                        <p>20% off on any farming equipment</p>
                                        <div class="points-required">1,000 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                                
                                <div class="reward-item" onclick="redeemReward(3)">
                                    <div class="reward-icon">
                                        <i class="fas fa-user-graduate"></i>
                                    </div>
                                    <div class="reward-details">
                                        <h4>Free Expert Consultation</h4>
                                        <p>30-minute consultation with farm expert</p>
                                        <div class="points-required">2,000 Points</div>
                                    </div>
                                    <button class="redeem-btn">Redeem</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(smartgroContent);
        }

        // Financial Services Module - Complete Implementation
        function showFinancialModule() {
            hideAllPages();
            
            const financialContent = document.createElement('div');
            financialContent.id = 'financialModule';
            financialContent.className = 'page-container active';
            financialContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-university"></i> Financial Services</h2>
                                <p>Banking, loans, and financial solutions in Limbe</p>
                            </div>
                            <div class="wallet-balance">
                                <i class="fas fa-wallet"></i>
                                <span id="walletBalance">245,000 XAF</span>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search banks, services, rates..." id="financialSearch">
                                <button onclick="searchFinancial()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="financial-filters">
                                <button onclick="filterFinancialType('banking')" class="filter-btn active">Banking</button>
                                <button onclick="filterFinancialType('loans')" class="filter-btn">Loans</button>
                                <button onclick="filterFinancialType('insurance')" class="filter-btn">Insurance</button>
                                <button onclick="filterFinancialType('investment')" class="filter-btn">Investment</button>
                                <button onclick="filterFinancialType('mobile-money')" class="filter-btn">Mobile Money</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="financial-stats">
                            <div class="stat-card">
                                <h4>15+</h4>
                                <p>Banks & Credit Unions</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Digital Banking</p>
                            </div>
                            <div class="stat-card">
                                <h4>3%</h4>
                                <p>Starting Interest Rate</p>
                            </div>
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>ATM Locations</p>
                            </div>
                        </div>
                        
                        <div class="quick-actions">
                            <h3>Quick Financial Actions</h3>
                            <div class="actions-grid">
                                <div class="action-card" onclick="sendMoney()">
                                    <div class="action-icon">
                                        <i class="fas fa-paper-plane"></i>
                                    </div>
                                    <h4>Send Money</h4>
                                    <p>Transfer funds instantly</p>
                                </div>
                                
                                <div class="action-card" onclick="payBills()">
                                    <div class="action-icon">
                                        <i class="fas fa-file-invoice"></i>
                                    </div>
                                    <h4>Pay Bills</h4>
                                    <p>Utilities, loans, subscriptions</p>
                                </div>
                                
                                <div class="action-card" onclick="buyAirtime()">
                                    <div class="action-icon">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <h4>Buy Airtime</h4>
                                    <p>Top up your phone</p>
                                </div>
                                
                                <div class="action-card" onclick="checkRates()">
                                    <div class="action-icon">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <h4>Exchange Rates</h4>
                                    <p>Live currency rates</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="featured-banks">
                            <h3>Banking Partners</h3>
                            <div class="banks-grid">
                                <div class="bank-card" onclick="viewBankDetails(1)">
                                    <div class="bank-logo">
                                        <img src="https://via.placeholder.com/100x60?text=UBA" alt="UBA Bank">
                                    </div>
                                    <div class="bank-details">
                                        <h4>United Bank for Africa (UBA)</h4>
                                        <div class="bank-services">
                                            <span class="service">Savings Account</span>
                                            <span class="service">Current Account</span>
                                            <span class="service">Loans</span>
                                        </div>
                                        <div class="bank-features">
                                            <div class="feature">
                                                <i class="fas fa-clock"></i>
                                                <span>24/7 Banking</span>
                                            </div>
                                            <div class="feature">
                                                <i class="fas fa-mobile-alt"></i>
                                                <span>Mobile Banking</span>
                                            </div>
                                        </div>
                                        <div class="interest-rate">
                                            <span>Savings Rate: 5.5% p.a.</span>
                                        </div>
                                        <div class="bank-contact">
                                            <div class="contact-item">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Main Street, Limbe</span>
                                            </div>
                                            <div class="contact-item">
                                                <i class="fas fa-phone"></i>
                                                <span>+237 233 445 001</span>
                                            </div>
                                        </div>
                                        <button onclick="openAccount(1)" class="open-account-btn">Open Account</button>
                                    </div>
                                </div>
                                
                                <div class="bank-card" onclick="viewBankDetails(2)">
                                    <div class="bank-logo">
                                        <img src="https://via.placeholder.com/100x60?text=Afriland" alt="Afriland Bank">
                                    </div>
                                    <div class="bank-details">
                                        <h4>Afriland First Bank</h4>
                                        <div class="bank-services">
                                            <span class="service">Youth Account</span>
                                            <span class="service">Business Account</span>
                                            <span class="service">Microfinance</span>
                                        </div>
                                        <div class="bank-features">
                                            <div class="feature">
                                                <i class="fas fa-graduation-cap"></i>
                                                <span>Student Loans</span>
                                            </div>
                                            <div class="feature">
                                                <i class="fas fa-briefcase"></i>
                                                <span>Business Loans</span>
                                            </div>
                                        </div>
                                        <div class="interest-rate">
                                            <span>Business Rate: 8.5% p.a.</span>
                                        </div>
                                        <div class="bank-contact">
                                            <div class="contact-item">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Mile 1, Limbe</span>
                                            </div>
                                            <div class="contact-item">
                                                <i class="fas fa-phone"></i>
                                                <span>+237 233 556 002</span>
                                            </div>
                                        </div>
                                        <button onclick="openAccount(2)" class="open-account-btn">Open Account</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="loan-services">
                            <h3>Loan & Credit Services</h3>
                            <div class="loans-grid">
                                <div class="loan-card" onclick="applyLoan(1)">
                                    <div class="loan-header">
                                        <h4>Personal Loan</h4>
                                        <div class="loan-rate">From 12% APR</div>
                                    </div>
                                    <div class="loan-details">
                                        <div class="loan-amount">
                                            <span class="label">Amount:</span>
                                            <span class="value">50K - 5M XAF</span>
                                        </div>
                                        <div class="loan-term">
                                            <span class="label">Term:</span>
                                            <span class="value">6 - 60 months</span>
                                        </div>
                                        <div class="loan-processing">
                                            <span class="label">Processing:</span>
                                            <span class="value">24 hours</span>
                                        </div>
                                    </div>
                                    <div class="loan-features">
                                        <div class="feature">✓ No collateral required</div>
                                        <div class="feature">✓ Quick approval</div>
                                        <div class="feature">✓ Flexible repayment</div>
                                    </div>
                                    <button onclick="calculateLoan(1)" class="calculate-btn">Calculate EMI</button>
                                    <button onclick="applyLoan(1)" class="apply-loan-btn">Apply Now</button>
                                </div>
                                
                                <div class="loan-card" onclick="applyLoan(2)">
                                    <div class="loan-header">
                                        <h4>Business Loan</h4>
                                        <div class="loan-rate">From 10% APR</div>
                                    </div>
                                    <div class="loan-details">
                                        <div class="loan-amount">
                                            <span class="label">Amount:</span>
                                            <span class="value">500K - 50M XAF</span>
                                        </div>
                                        <div class="loan-term">
                                            <span class="label">Term:</span>
                                            <span class="value">12 - 120 months</span>
                                        </div>
                                        <div class="loan-processing">
                                            <span class="label">Processing:</span>
                                            <span class="value">3-5 days</span>
                                        </div>
                                    </div>
                                    <div class="loan-features">
                                        <div class="feature">✓ Competitive rates</div>
                                        <div class="feature">✓ Business advisory</div>
                                        <div class="feature">✓ Grace period available</div>
                                    </div>
                                    <button onclick="calculateLoan(2)" class="calculate-btn">Calculate EMI</button>
                                    <button onclick="applyLoan(2)" class="apply-loan-btn">Apply Now</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mobile-money">
                            <h3>Mobile Money Services</h3>
                            <div class="momo-services-grid">
                                <div class="momo-card">
                                    <div class="momo-provider">
                                        <img src="https://via.placeholder.com/80x40?text=MTN" alt="MTN MoMo">
                                        <h4>MTN Mobile Money</h4>
                                    </div>
                                    <div class="momo-features">
                                        <div class="feature">
                                            <i class="fas fa-exchange-alt"></i>
                                            <span>Send & Receive Money</span>
                                        </div>
                                        <div class="feature">
                                            <i class="fas fa-shopping-cart"></i>
                                            <span>Pay for Goods</span>
                                        </div>
                                        <div class="feature">
                                            <i class="fas fa-file-invoice-dollar"></i>
                                            <span>Bill Payments</span>
                                        </div>
                                    </div>
                                    <div class="momo-rates">
                                        <div class="rate-item">
                                            <span>Transfer Fee:</span>
                                            <span>1-3%</span>
                                        </div>
                                        <div class="rate-item">
                                            <span>Daily Limit:</span>
                                            <span>2M XAF</span>
                                        </div>
                                    </div>
                                    <button onclick="useMTNMomo()" class="momo-btn">Use MTN MoMo</button>
                                </div>
                                
                                <div class="momo-card">
                                    <div class="momo-provider">
                                        <img src="https://via.placeholder.com/80x40?text=Orange" alt="Orange Money">
                                        <h4>Orange Money</h4>
                                    </div>
                                    <div class="momo-features">
                                        <div class="feature">
                                            <i class="fas fa-university"></i>
                                            <span>Bank Integration</span>
                                        </div>
                                        <div class="feature">
                                            <i class="fas fa-globe"></i>
                                            <span>International Transfers</span>
                                        </div>
                                        <div class="feature">
                                            <i class="fas fa-piggy-bank"></i>
                                            <span>Savings Account</span>
                                        </div>
                                    </div>
                                    <div class="momo-rates">
                                        <div class="rate-item">
                                            <span>Transfer Fee:</span>
                                            <span>1.5-3.5%</span>
                                        </div>
                                        <div class="rate-item">
                                            <span>Daily Limit:</span>
                                            <span>1.5M XAF</span>
                                        </div>
                                    </div>
                                    <button onclick="useOrangeMoney()" class="momo-btn">Use Orange Money</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="financial-tools">
                            <h3>Financial Tools & Calculators</h3>
                            <div class="tools-grid">
                                <div class="tool-item" onclick="openLoanCalculator()">
                                    <i class="fas fa-calculator"></i>
                                    <h4>Loan Calculator</h4>
                                    <p>Calculate loan EMI and interest</p>
                                    <button class="tool-btn">Use Calculator</button>
                                </div>
                                <div class="tool-item" onclick="openSavingsCalculator()">
                                    <i class="fas fa-piggy-bank"></i>
                                    <h4>Savings Calculator</h4>
                                    <p>Plan your savings and investments</p>
                                    <button class="tool-btn">Start Planning</button>
                                </div>
                                <div class="tool-item" onclick="openCurrencyConverter()">
                                    <i class="fas fa-coins"></i>
                                    <h4>Currency Converter</h4>
                                    <p>Convert XAF to other currencies</p>
                                    <button class="tool-btn">Convert</button>
                                </div>
                                <div class="tool-item" onclick="openBudgetPlanner()">
                                    <i class="fas fa-chart-pie"></i>
                                    <h4>Budget Planner</h4>
                                    <p>Track expenses and manage budget</p>
                                    <button class="tool-btn">Plan Budget</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="insurance-services">
                            <h3>Insurance Services</h3>
                            <div class="insurance-grid">
                                <div class="insurance-card" onclick="getInsuranceQuote(1)">
                                    <div class="insurance-icon">
                                        <i class="fas fa-car"></i>
                                    </div>
                                    <div class="insurance-details">
                                        <h4>Vehicle Insurance</h4>
                                        <p>Comprehensive coverage for your vehicle</p>
                                        <div class="insurance-features">
                                            <span>✓ Third-party coverage</span>
                                            <span>✓ Comprehensive protection</span>
                                            <span>✓ 24/7 roadside assistance</span>
                                        </div>
                                        <div class="premium-range">
                                            <span>From 180,000 XAF/year</span>
                                        </div>
                                    </div>
                                    <button onclick="getInsuranceQuote(1)" class="quote-btn">Get Quote</button>
                                </div>
                                
                                <div class="insurance-card" onclick="getInsuranceQuote(2)">
                                    <div class="insurance-icon">
                                        <i class="fas fa-heartbeat"></i>
                                    </div>
                                    <div class="insurance-details">
                                        <h4>Health Insurance</h4>
                                        <p>Medical coverage for you and family</p>
                                        <div class="insurance-features">
                                            <span>✓ Hospitalization</span>
                                            <span>✓ Outpatient care</span>
                                            <span>✓ Emergency treatment</span>
                                        </div>
                                        <div class="premium-range">
                                            <span>From 120,000 XAF/year</span>
                                        </div>
                                    </div>
                                    <button onclick="getInsuranceQuote(2)" class="quote-btn">Get Quote</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(financialContent);
        }

        // Support Module - Complete Implementation
        function showSupportModule() {
            hideAllPages();
            
            const supportContent = document.createElement('div');
            supportContent.id = 'supportModule';
            supportContent.className = 'page-container active';
            supportContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-headset"></i> Customer Support</h2>
                                <p>Get help and support for all Visit Limbe services</p>
                            </div>
                            <button onclick="startLiveChat()" class="live-chat-btn">
                                <i class="fas fa-comments"></i> Live Chat
                            </button>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search help articles, FAQs..." id="supportSearch">
                                <button onclick="searchSupport()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="support-categories">
                                <button onclick="filterSupportType('general')" class="filter-btn active">General</button>
                                <button onclick="filterSupportType('technical')" class="filter-btn">Technical</button>
                                <button onclick="filterSupportType('billing')" class="filter-btn">Billing</button>
                                <button onclick="filterSupportType('account')" class="filter-btn">Account</button>
                                <button onclick="filterSupportType('services')" class="filter-btn">Services</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="support-stats">
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Support Available</p>
                            </div>
                            <div class="stat-card">
                                <h4>< 2 min</h4>
                                <p>Average Response</p>
                            </div>
                            <div class="stat-card">
                                <h4>98%</h4>
                                <p>Customer Satisfaction</p>
                            </div>
                            <div class="stat-card">
                                <h4>500+</h4>
                                <p>Help Articles</p>
                            </div>
                        </div>
                        
                        <div class="quick-help">
                            <h3>Quick Help Options</h3>
                            <div class="help-options-grid">
                                <div class="help-option" onclick="startLiveChat()">
                                    <div class="help-icon">
                                        <i class="fas fa-comments"></i>
                                    </div>
                                    <h4>Live Chat</h4>
                                    <p>Chat with our support team</p>
                                    <div class="availability">
                                        <span class="status online">Online</span>
                                        <span>Average wait: 1 min</span>
                                    </div>
                                    <button class="help-btn">Start Chat</button>
                                </div>
                                
                                <div class="help-option" onclick="callSupport()">
                                    <div class="help-icon">
                                        <i class="fas fa-phone"></i>
                                    </div>
                                    <h4>Phone Support</h4>
                                    <p>Speak directly with an agent</p>
                                    <div class="phone-number">
                                        <span>+237 233 SUPPORT</span>
                                        <span>(24/7 available)</span>
                                    </div>
                                    <button class="help-btn">Call Now</button>
                                </div>
                                
                                <div class="help-option" onclick="submitTicket()">
                                    <div class="help-icon">
                                        <i class="fas fa-ticket-alt"></i>
                                    </div>
                                    <h4>Submit Ticket</h4>
                                    <p>Create a support request</p>
                                    <div class="response-time">
                                        <span>Response within 4 hours</span>
                                        <span>Priority support available</span>
                                    </div>
                                    <button class="help-btn">Create Ticket</button>
                                </div>
                                
                                <div class="help-option" onclick="scheduleCallback()">
                                    <div class="help-icon">
                                        <i class="fas fa-calendar-alt"></i>
                                    </div>
                                    <h4>Schedule Callback</h4>
                                    <p>We'll call you at your preferred time</p>
                                    <div class="callback-times">
                                        <span>Available slots today</span>
                                        <span>Choose your preferred time</span>
                                    </div>
                                    <button class="help-btn">Schedule</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="faq-section">
                            <h3>Frequently Asked Questions</h3>
                            <div class="faq-categories">
                                <div class="faq-category" onclick="showFAQCategory('account')">
                                    <h4><i class="fas fa-user"></i> Account & Profile</h4>
                                    <div class="faq-items">
                                        <div class="faq-item" onclick="toggleFAQ(1)">
                                            <div class="faq-question">
                                                <span>How do I reset my password?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>To reset your password, go to the login screen and click "Forgot Password". Enter your email address and follow the instructions sent to your email.</p>
                                            </div>
                                        </div>
                                        <div class="faq-item" onclick="toggleFAQ(2)">
                                            <div class="faq-question">
                                                <span>How do I update my profile information?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>Navigate to Profile Settings from the main menu, then tap "Edit Profile" to update your personal information, profile picture, and contact details.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="faq-category" onclick="showFAQCategory('booking')">
                                    <h4><i class="fas fa-calendar-check"></i> Bookings & Reservations</h4>
                                    <div class="faq-items">
                                        <div class="faq-item" onclick="toggleFAQ(3)">
                                            <div class="faq-question">
                                                <span>How do I cancel a booking?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>Go to "My Bookings" in your profile, select the booking you want to cancel, and click "Cancel Booking". Cancellation policies vary by service provider.</p>
                                            </div>
                                        </div>
                                        <div class="faq-item" onclick="toggleFAQ(4)">
                                            <div class="faq-question">
                                                <span>Can I modify my reservation dates?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>Yes, you can modify reservation dates subject to availability. Contact the service provider directly or use the "Modify Booking" option in your booking details.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="faq-category" onclick="showFAQCategory('payment')">
                                    <h4><i class="fas fa-credit-card"></i> Payments & Billing</h4>
                                    <div class="faq-items">
                                        <div class="faq-item" onclick="toggleFAQ(5)">
                                            <div class="faq-question">
                                                <span>What payment methods are accepted?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>We accept MTN Mobile Money, Orange Money, Visa/Mastercard, bank transfers, and cash payments depending on the service.</p>
                                            </div>
                                        </div>
                                        <div class="faq-item" onclick="toggleFAQ(6)">
                                            <div class="faq-question">
                                                <span>How do I get a refund?</span>
                                                <i class="fas fa-chevron-down"></i>
                                            </div>
                                            <div class="faq-answer">
                                                <p>Refunds are processed according to the cancellation policy of each service. Contact customer support with your booking reference for assistance.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="help-articles">
                            <h3>Popular Help Articles</h3>
                            <div class="articles-grid">
                                <div class="article-card" onclick="readArticle(1)">
                                    <div class="article-icon">
                                        <i class="fas fa-mobile-alt"></i>
                                    </div>
                                    <div class="article-content">
                                        <h4>Getting Started with Visit Limbe App</h4>
                                        <p>Complete guide to using all features of the Visit Limbe mobile application.</p>
                                        <div class="article-meta">
                                            <span class="read-time">5 min read</span>
                                            <span class="helpful">Helpful (89)</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="article-card" onclick="readArticle(2)">
                                    <div class="article-icon">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div class="article-content">
                                        <h4>Account Security Best Practices</h4>
                                        <p>Tips to keep your account secure and protect your personal information.</p>
                                        <div class="article-meta">
                                            <span class="read-time">3 min read</span>
                                            <span class="helpful">Helpful (156)</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="article-card" onclick="readArticle(3)">
                                    <div class="article-icon">
                                        <i class="fas fa-map-marked-alt"></i>
                                    </div>
                                    <div class="article-content">
                                        <h4>Exploring Limbe: A Tourist's Guide</h4>
                                        <p>Discover the best attractions, restaurants, and activities in Limbe.</p>
                                        <div class="article-meta">
                                            <span class="read-time">8 min read</span>
                                            <span class="helpful">Helpful (234)</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="article-card" onclick="readArticle(4)">
                                    <div class="article-icon">
                                        <i class="fas fa-tools"></i>
                                    </div>
                                    <div class="article-content">
                                        <h4>Troubleshooting Common Issues</h4>
                                        <p>Solutions for common problems you might encounter while using the app.</p>
                                        <div class="article-meta">
                                            <span class="read-time">6 min read</span>
                                            <span class="helpful">Helpful (178)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="support-team">
                            <h3>Our Support Team</h3>
                            <div class="team-grid">
                                <div class="team-member">
                                    <div class="member-image">
                                        <img src="https://via.placeholder.com/100x100?text=Sarah" alt="Sarah Wilson">
                                        <div class="online-status online">Online</div>
                                    </div>
                                    <div class="member-info">
                                        <h4>Sarah Wilson</h4>
                                        <p class="role">Customer Success Manager</p>
                                        <p class="specialization">Account & Billing Support</p>
                                        <div class="member-stats">
                                            <span>⭐ 4.9 rating</span>
                                            <span>2,500+ cases resolved</span>
                                        </div>
                                        <button onclick="chatWithAgent('sarah')" class="chat-agent-btn">Chat with Sarah</button>
                                    </div>
                                </div>
                                
                                <div class="team-member">
                                    <div class="member-image">
                                        <img src="https://via.placeholder.com/100x100?text=John" alt="John Doe">
                                        <div class="online-status online">Online</div>
                                    </div>
                                    <div class="member-info">
                                        <h4>John Doe</h4>
                                        <p class="role">Technical Support Specialist</p>
                                        <p class="specialization">App & Technical Issues</p>
                                        <div class="member-stats">
                                            <span>⭐ 4.8 rating</span>
                                            <span>1,800+ cases resolved</span>
                                        </div>
                                        <button onclick="chatWithAgent('john')" class="chat-agent-btn">Chat with John</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="feedback-section">
                            <h3>Help Us Improve</h3>
                            <div class="feedback-options">
                                <div class="feedback-card" onclick="submitFeedback()">
                                    <i class="fas fa-comment-alt"></i>
                                    <h4>Share Feedback</h4>
                                    <p>Tell us how we can improve our services</p>
                                    <button class="feedback-btn">Give Feedback</button>
                                </div>
                                
                                <div class="feedback-card" onclick="reportBug()">
                                    <i class="fas fa-bug"></i>
                                    <h4>Report a Bug</h4>
                                    <p>Found a problem? Let us know so we can fix it</p>
                                    <button class="feedback-btn">Report Bug</button>
                                </div>
                                
                                <div class="feedback-card" onclick="suggestFeature()">
                                    <i class="fas fa-lightbulb"></i>
                                    <h4>Suggest Feature</h4>
                                    <p>Have an idea for a new feature? Share it with us</p>
                                    <button class="feedback-btn">Suggest</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="contact-info">
                            <h3>Contact Information</h3>
                            <div class="contact-details">
                                <div class="contact-item">
                                    <i class="fas fa-phone"></i>
                                    <div class="contact-content">
                                        <h4>Phone Support</h4>
                                        <p>+237 233 SUPPORT (24/7)</p>
                                        <p>+237 233 786 7678</p>
                                    </div>
                                </div>
                                
                                <div class="contact-item">
                                    <i class="fas fa-envelope"></i>
                                    <div class="contact-content">
                                        <h4>Email Support</h4>
                                        <p>support@visitlimbe.cm</p>
                                        <p>Response within 2 hours</p>
                                    </div>
                                </div>
                                
                                <div class="contact-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <div class="contact-content">
                                        <h4>Office Location</h4>
                                        <p>Visit Limbe Headquarters</p>
                                        <p>Main Street, Limbe, Cameroon</p>
                                    </div>
                                </div>
                                
                                <div class="contact-item">
                                    <i class="fas fa-clock"></i>
                                    <div class="contact-content">
                                        <h4>Support Hours</h4>
                                        <p>24/7 for urgent issues</p>
                                        <p>9 AM - 6 PM for general support</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(supportContent);
        }

        // Ticketing Module - Complete Implementation
        function showTicketingModule() {
            hideAllPages();
            
            const ticketingContent = document.createElement('div');
            ticketingContent.id = 'ticketingModule';
            ticketingContent.className = 'page-container active';
            ticketingContent.innerHTML = `
                <div class="module-container">
                    <div class="module-header">
                        <div class="header-content">
                            <button onclick="showUserDashboard()" class="back-btn">
                                <i class="fas fa-arrow-left"></i>
                            </button>
                            <div class="header-text">
                                <h2><i class="fas fa-ticket-alt"></i> Ticketing & Reservations</h2>
                                <p>Book tickets for events, tours, transportation and attractions</p>
                            </div>
                            <div class="contact-widget">
                                <button onclick="whatsappVisitLimbe('I need help with ticket booking')" class="whatsapp-btn">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 20px; height: 20px; margin-right: 8px;"> WhatsApp
                                </button>
                                <button onclick="callVisitLimbe()" class="call-btn">
                                    <i class="fas fa-phone"></i> Call
                                </button>
                            </div>
                        </div>
                        
                        <div class="search-section">
                            <div class="search-bar">
                                <input type="text" placeholder="Search events, tours, attractions..." id="ticketSearch">
                                <button onclick="searchTickets()"><i class="fas fa-search"></i></button>
                            </div>
                            <div class="ticket-filters">
                                <button onclick="filterTicketType('events')" class="filter-btn active">Events</button>
                                <button onclick="filterTicketType('tours')" class="filter-btn">Tours</button>
                                <button onclick="filterTicketType('attractions')" class="filter-btn">Attractions</button>
                                <button onclick="filterTicketType('transport')" class="filter-btn">Transport</button>
                                <button onclick="filterTicketType('concerts')" class="filter-btn">Concerts</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="module-content">
                        <div class="ticket-stats">
                            <div class="stat-card">
                                <h4>500+</h4>
                                <p>Available Tickets</p>
                            </div>
                            <div class="stat-card">
                                <h4>50+</h4>
                                <p>Event Venues</p>
                            </div>
                            <div class="stat-card">
                                <h4>24/7</h4>
                                <p>Booking Support</p>
                            </div>
                            <div class="stat-card">
                                <h4>10,000+</h4>
                                <p>Tickets Sold</p>
                            </div>
                        </div>
                        
                        <div class="featured-tickets">
                            <h3>Featured Events & Attractions</h3>
                            <div class="tickets-grid">
                                <div class="ticket-card" onclick="viewTicketDetails(1)">
                                    <div class="ticket-image">
                                        <img src="https://via.placeholder.com/300x200?text=Mount+Cameroon+Hike" alt="Mount Cameroon Hike">
                                        <div class="ticket-badge">Popular</div>
                                        <div class="availability">15 tickets left</div>
                                    </div>
                                    <div class="ticket-details">
                                        <h4>Mount Cameroon Hiking Tour</h4>
                                        <div class="ticket-meta">
                                            <div class="date">
                                                <i class="fas fa-calendar"></i>
                                                <span>Dec 25, 2024</span>
                                            </div>
                                            <div class="time">
                                                <i class="fas fa-clock"></i>
                                                <span>5:00 AM - 6:00 PM</span>
                                            </div>
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Mount Cameroon Trail</span>
                                            </div>
                                        </div>
                                        <div class="ticket-description">
                                            <p>Guided hiking tour to the peak of Mount Cameroon with professional guides, equipment included.</p>
                                        </div>
                                        <div class="ticket-includes">
                                            <span class="include">Guide</span>
                                            <span class="include">Equipment</span>
                                            <span class="include">Lunch</span>
                                            <span class="include">Transport</span>
                                        </div>
                                        <div class="ticket-pricing">
                                            <div class="price-option">
                                                <span class="ticket-type">Standard</span>
                                                <span class="price">25,000 XAF</span>
                                            </div>
                                            <div class="price-option">
                                                <span class="ticket-type">Premium (with camp)</span>
                                                <span class="price">45,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="ticket-actions">
                                            <button onclick="bookTicketWhatsApp(1, 'Mount Cameroon Hiking Tour', 25000)" class="whatsapp-book-btn">
                                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 16px; height: 16px; margin-right: 6px;"> Book via WhatsApp
                                            </button>
                                            <button onclick="callForTicket(1)" class="call-book-btn">
                                                <i class="fas fa-phone"></i> Call to Book
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="ticket-card" onclick="viewTicketDetails(2)">
                                    <div class="ticket-image">
                                        <img src="https://via.placeholder.com/300x200?text=Wildlife+Centre+Tour" alt="Wildlife Centre Tour">
                                        <div class="ticket-badge">Family Friendly</div>
                                        <div class="availability">25 tickets left</div>
                                    </div>
                                    <div class="ticket-details">
                                        <h4>Limbe Wildlife Centre Tour</h4>
                                        <div class="ticket-meta">
                                            <div class="date">
                                                <i class="fas fa-calendar"></i>
                                                <span>Daily Tours</span>
                                            </div>
                                            <div class="time">
                                                <i class="fas fa-clock"></i>
                                                <span>9:00 AM - 4:00 PM</span>
                                            </div>
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Wildlife Centre</span>
                                            </div>
                                        </div>
                                        <div class="ticket-description">
                                            <p>Educational tour of wildlife rescue center with opportunities to see primates, birds, and other rescued animals.</p>
                                        </div>
                                        <div class="ticket-includes">
                                            <span class="include">Guide Tour</span>
                                            <span class="include">Educational Talk</span>
                                            <span class="include">Animal Feeding</span>
                                            <span class="include">Photos</span>
                                        </div>
                                        <div class="ticket-pricing">
                                            <div class="price-option">
                                                <span class="ticket-type">Adult</span>
                                                <span class="price">5,000 XAF</span>
                                            </div>
                                            <div class="price-option">
                                                <span class="ticket-type">Child (5-12)</span>
                                                <span class="price">3,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="ticket-actions">
                                            <button onclick="bookTicketWhatsApp(2, 'Wildlife Centre Tour', 5000)" class="whatsapp-book-btn">
                                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 16px; height: 16px; margin-right: 6px;"> Book via WhatsApp
                                            </button>
                                            <button onclick="callForTicket(2)" class="call-book-btn">
                                                <i class="fas fa-phone"></i> Call to Book
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="ticket-card" onclick="viewTicketDetails(3)">
                                    <div class="ticket-image">
                                        <img src="https://via.placeholder.com/300x200?text=Cultural+Festival" alt="Cultural Festival">
                                        <div class="ticket-badge">Limited Time</div>
                                        <div class="availability">50 tickets left</div>
                                    </div>
                                    <div class="ticket-details">
                                        <h4>Limbe Cultural Festival 2024</h4>
                                        <div class="ticket-meta">
                                            <div class="date">
                                                <i class="fas fa-calendar"></i>
                                                <span>Dec 31, 2024</span>
                                            </div>
                                            <div class="time">
                                                <i class="fas fa-clock"></i>
                                                <span>6:00 PM - 2:00 AM</span>
                                            </div>
                                            <div class="location">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <span>Limbe Botanical Garden</span>
                                            </div>
                                        </div>
                                        <div class="ticket-description">
                                            <p>New Year's Eve cultural celebration with traditional music, dance, food, and fireworks display.</p>
                                        </div>
                                        <div class="ticket-includes">
                                            <span class="include">Live Music</span>
                                            <span class="include">Traditional Dance</span>
                                            <span class="include">Food Stalls</span>
                                            <span class="include">Fireworks</span>
                                        </div>
                                        <div class="ticket-pricing">
                                            <div class="price-option">
                                                <span class="ticket-type">General Admission</span>
                                                <span class="price">8,000 XAF</span>
                                            </div>
                                            <div class="price-option">
                                                <span class="ticket-type">VIP Access</span>
                                                <span class="price">15,000 XAF</span>
                                            </div>
                                        </div>
                                        <div class="ticket-actions">
                                            <button onclick="bookTicketWhatsApp(3, 'Cultural Festival 2024', 8000)" class="whatsapp-book-btn">
                                                <i class="fab fa-whatsapp"></i> Book via WhatsApp
                                            </button>
                                            <button onclick="callForTicket(3)" class="call-book-btn">
                                                <i class="fas fa-phone"></i> Call to Book
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="transport-tickets">
                            <h3>Transportation Tickets</h3>
                            <div class="transport-grid">
                                <div class="transport-ticket-card">
                                    <div class="transport-route">
                                        <h4>Limbe ↔ Buea</h4>
                                        <p class="route-description">Regular bus service between Limbe and University of Buea</p>
                                    </div>
                                    <div class="transport-schedule">
                                        <div class="schedule-item">
                                            <span class="time">6:00 AM</span>
                                            <span class="price">1,000 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">10:00 AM</span>
                                            <span class="price">1,000 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">2:00 PM</span>
                                            <span class="price">1,000 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">6:00 PM</span>
                                            <span class="price">1,000 XAF</span>
                                        </div>
                                    </div>
                                    <div class="transport-actions">
                                        <button onclick="bookTransportWhatsApp('Limbe to Buea', 1000)" class="whatsapp-transport-btn">
                                            <i class="fab fa-whatsapp"></i> Book Seat
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="transport-ticket-card">
                                    <div class="transport-route">
                                        <h4>Limbe ↔ Douala</h4>
                                        <p class="route-description">Express service to Douala with air conditioning</p>
                                    </div>
                                    <div class="transport-schedule">
                                        <div class="schedule-item">
                                            <span class="time">5:00 AM</span>
                                            <span class="price">3,500 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">9:00 AM</span>
                                            <span class="price">3,500 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">1:00 PM</span>
                                            <span class="price">3,500 XAF</span>
                                        </div>
                                        <div class="schedule-item">
                                            <span class="time">5:00 PM</span>
                                            <span class="price">3,500 XAF</span>
                                        </div>
                                    </div>
                                    <div class="transport-actions">
                                        <button onclick="bookTransportWhatsApp('Limbe to Douala', 3500)" class="whatsapp-transport-btn">
                                            <i class="fab fa-whatsapp"></i> Book Seat
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="contact-booking-section">
                            <h3>Contact & Support for All Bookings</h3>
                            <div class="contact-methods">
                                <div class="contact-method">
                                    <div class="contact-icon">
                                        <i class="fab fa-whatsapp"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>WhatsApp Booking</h4>
                                        <p>Quick reservations via WhatsApp</p>
                                        <p class="contact-info">${VISIT_LIMBE_CONTACT.whatsapp}</p>
                                        <button onclick="whatsappVisitLimbe('I want to book tickets')" class="contact-btn">
                                            Chat on WhatsApp
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="contact-method">
                                    <div class="contact-icon">
                                        <i class="fas fa-phone"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Phone Reservations</h4>
                                        <p>Speak directly with our booking team</p>
                                        <p class="contact-info">${VISIT_LIMBE_CONTACT.phone}</p>
                                        <button onclick="callVisitLimbe()" class="contact-btn">
                                            Call Now
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="contact-method">
                                    <div class="contact-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Mobile Money Payment</h4>
                                        <p>Pay securely with MTN MoMo</p>
                                        <p class="contact-info">${VISIT_LIMBE_CONTACT.momo}</p>
                                        <button onclick="momoPayment('Amount', 'Ticket Booking')" class="contact-btn">
                                            Pay with MoMo
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="contact-method">
                                    <div class="contact-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Email Support</h4>
                                        <p>Detailed inquiries and group bookings</p>
                                        <p class="contact-info">${VISIT_LIMBE_CONTACT.email}</p>
                                        <button onclick="emailVisitLimbe('Ticket Booking Inquiry')" class="contact-btn">
                                            Send Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="booking-process">
                            <h3>How to Book Your Tickets</h3>
                            <div class="process-steps">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>Choose Your Event/Tour</h4>
                                        <p>Browse available tickets and select your preferred event or tour</p>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>Contact Visit Limbe</h4>
                                        <p>Use WhatsApp or call our booking hotline for instant assistance</p>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>Make Payment</h4>
                                        <p>Pay securely via MTN MoMo to our official number</p>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>Receive Confirmation</h4>
                                        <p>Get your ticket confirmation and all event details</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(ticketingContent);
        }

        // Ticketing Functions with Contact Integration
        function bookTicketWhatsApp(ticketId, eventName, price) {
            const message = `I want to book tickets for "${eventName}" (ID: ${ticketId}) at ${price} XAF. Please assist with my reservation.`;
            whatsappVisitLimbe(message);
        }

        function callForTicket(ticketId) {
            showAlert(`Calling Visit Limbe for ticket booking (Event #${ticketId})...`, 'info');
            callVisitLimbe();
        }

        function bookTransportWhatsApp(route, price) {
            const message = `I want to book transport ticket for "${route}" at ${price} XAF. Please reserve my seat.`;
            whatsappVisitLimbe(message);
        }

        // Individual Hotel Detail Pages
        function viewHotelDetails(hotelId) {
            hideAllPages();
            
            const hotelData = {
                1: {
                    name: "Atlantic Beach Resort",
                    location: "Down Beach, Limbe",
                    rating: 4.8,
                    reviews: 256,
                    description: "Luxury beachfront resort with world-class amenities and stunning ocean views. Perfect for relaxation and business.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Atlantic+Beach+Resort+Main",
                        "https://via.placeholder.com/600x400?text=Ocean+View+Room",
                        "https://via.placeholder.com/600x400?text=Resort+Pool",
                        "https://via.placeholder.com/600x400?text=Restaurant+Dining"
                    ],
                    rooms: [
                        { type: "Standard Ocean View", price: 45000, features: ["Ocean View", "King Bed", "WiFi", "AC", "Private Balcony", "Mini Bar"] },
                        { type: "Deluxe Ocean Suite", price: 75000, features: ["Panoramic Ocean View", "Living Area", "King Bed", "Mini Bar", "Private Balcony", "Room Service"] },
                        { type: "Presidential Suite", price: 120000, features: ["2 Bedrooms", "Living Room", "Kitchen", "Ocean View", "Butler Service", "Private Terrace"] }
                    ],
                    amenities: ["Free WiFi", "Swimming Pool", "Spa & Wellness", "Restaurant", "Bar", "Fitness Center", "Business Center", "Room Service", "Laundry", "Airport Shuttle"],
                    facilities: {
                        "Reception": "24-hour front desk with concierge service",
                        "Restaurant": "Fine dining with international and local cuisine",
                        "Pool Area": "Infinity pool overlooking the ocean",
                        "Spa": "Full-service spa with massage treatments",
                        "Business Center": "Meeting rooms and conference facilities",
                        "Rooms": "Luxury rooms with ocean views and premium amenities",
                        "Bathroom": "Marble bathrooms with premium fixtures and amenities"
                    }
                },
                2: {
                    name: "Mount Cameroon Hotel",
                    location: "Mile 1, Limbe",
                    rating: 4.5,
                    reviews: 189,
                    description: "Modern hotel with mountain views and excellent service. Perfect for business travelers and tourists.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Mount+Cameroon+Hotel+Exterior",
                        "https://via.placeholder.com/600x400?text=Mountain+View+Room",
                        "https://via.placeholder.com/600x400?text=Hotel+Gym",
                        "https://via.placeholder.com/600x400?text=Conference+Room"
                    ],
                    rooms: [
                        { type: "Standard Room", price: 35000, features: ["Mountain View", "Queen Bed", "WiFi", "AC", "Work Desk", "Cable TV"] },
                        { type: "Executive Room", price: 50000, features: ["Mountain View", "King Bed", "WiFi", "AC", "Work Desk", "Mini Bar", "Premium Bathroom"] },
                        { type: "Business Suite", price: 80000, features: ["Mountain View", "Separate Living Area", "King Bed", "WiFi", "AC", "Work Desk", "Mini Bar", "Meeting Space"] }
                    ],
                    amenities: ["Free WiFi", "Fitness Center", "Business Center", "Restaurant", "Bar", "Laundry Service", "Parking", "Conference Rooms"],
                    facilities: {
                        "Reception": "Professional 24-hour front desk service",
                        "Restaurant": "Local and international cuisine with mountain views",
                        "Gym": "Modern fitness center with mountain views",
                        "Business Center": "Full business services and meeting facilities",
                        "Parking": "Secure covered parking for guests",
                        "Rooms": "Comfortable rooms with mountain views and modern amenities",
                        "Bathroom": "Modern bathrooms with premium toiletries"
                    }
                },
                3: {
                    name: "Botanical Garden Lodge",
                    location: "Botanical Garden, Limbe",
                    rating: 4.3,
                    reviews: 142,
                    description: "Eco-friendly lodge surrounded by lush botanical gardens. Perfect for nature lovers and peaceful getaways.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Botanical+Garden+Lodge",
                        "https://via.placeholder.com/600x400?text=Garden+View+Room",
                        "https://via.placeholder.com/600x400?text=Botanical+Gardens",
                        "https://via.placeholder.com/600x400?text=Spa+Treatment"
                    ],
                    rooms: [
                        { type: "Garden View Room", price: 28000, features: ["Garden View", "Queen Bed", "WiFi", "AC", "Eco-Friendly", "Natural Light"] },
                        { type: "Forest Suite", price: 42000, features: ["Forest View", "King Bed", "WiFi", "AC", "Private Terrace", "Mini Fridge", "Garden Access"] },
                        { type: "Botanical Villa", price: 65000, features: ["Private Garden", "King Bed", "Living Area", "WiFi", "AC", "Kitchen", "Outdoor Seating"] }
                    ],
                    amenities: ["Free WiFi", "Spa Services", "Garden Tours", "Café", "Nature Walks", "Eco-Tours", "Parking", "Bicycle Rental"],
                    facilities: {
                        "Reception": "Eco-friendly reception with garden information",
                        "Café": "Organic café with fresh local ingredients",
                        "Spa": "Natural spa treatments using botanical extracts",
                        "Gardens": "Access to beautiful botanical gardens",
                        "Nature Center": "Educational center about local flora and fauna",
                        "Rooms": "Eco-friendly rooms with natural materials and garden views",
                        "Bathroom": "Eco-friendly bathrooms with organic toiletries"
                    }
                }
            };

            const hotel = hotelData[hotelId];
            if (!hotel) return;

            const hotelDetailContent = document.createElement('div');
            hotelDetailContent.id = 'hotelDetailPage';
            hotelDetailContent.className = 'page-container active';
            hotelDetailContent.innerHTML = `
                <div class="hotel-detail-container">
                    <div class="hotel-detail-header">
                        <button onclick="showModule('hotels')" class="back-btn">
                            <i class="fas fa-arrow-left"></i> Back to Hotels
                        </button>
                        <div class="hotel-actions">
                            <button onclick="whatsappVisitLimbe('I want to book ${hotel.name}')" class="whatsapp-btn">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 20px; height: 20px; margin-right: 8px;"> WhatsApp
                            </button>
                            <button onclick="callVisitLimbe()" class="call-btn">
                                <i class="fas fa-phone"></i> Call
                            </button>
                        </div>
                    </div>

                    <div class="hotel-images-gallery">
                        <div class="main-image">
                            <img src="${hotel.images[0]}" alt="${hotel.name}" id="mainHotelImage">
                        </div>
                        <div class="image-thumbnails">
                            ${hotel.images.map((img, index) => `
                                <img src="${img}" alt="Hotel Image ${index + 1}" 
                                     onclick="changeMainImage('${img}')" 
                                     class="${index === 0 ? 'active' : ''}">
                            `).join('')}
                        </div>
                    </div>

                    <div class="hotel-main-info">
                        <div class="hotel-title-section">
                            <h2>${hotel.name}</h2>
                            <div class="hotel-rating">
                                <div class="stars">${'⭐'.repeat(Math.floor(hotel.rating))}</div>
                                <span class="rating-score">${hotel.rating} (${hotel.reviews} reviews)</span>
                            </div>
                            <div class="hotel-location">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${hotel.location}</span>
                            </div>
                        </div>
                        <div class="hotel-description">
                            <p>${hotel.description}</p>
                        </div>
                    </div>

                    <div class="hotel-content-sections">
                        <div class="section-tabs">
                            <button onclick="showHotelSection('rooms')" class="tab-btn active">Rooms & Pricing</button>
                            <button onclick="showHotelSection('facilities')" class="tab-btn">Facilities</button>
                            <button onclick="showHotelSection('amenities')" class="tab-btn">Amenities</button>
                            <button onclick="showHotelSection('contact')" class="tab-btn">Contact & Booking</button>
                        </div>

                        <div id="roomsSection" class="hotel-section active">
                            <h3>Available Rooms</h3>
                            <div class="rooms-list">
                                ${hotel.rooms.map((room, index) => `
                                    <div class="room-card">
                                        <div class="room-info">
                                            <h4>${room.type}</h4>
                                            <div class="room-features">
                                                ${room.features.map(feature => `<span class="feature">${feature}</span>`).join('')}
                                            </div>
                                            <div class="room-price">
                                                <span class="price">${room.price.toLocaleString()} XAF</span>
                                                <span class="per-night">per night</span>
                                            </div>
                                        </div>
                                        <div class="room-actions">
                                            <button onclick="bookHotelRoomWhatsApp('${hotel.name}', '${room.type}', ${room.price})" class="book-whatsapp-btn">
                                                <i class="fab fa-whatsapp"></i> Book via WhatsApp
                                            </button>
                                            <button onclick="callForReservation(${hotelId})" class="call-book-btn">
                                                <i class="fas fa-phone"></i> Call to Book
                                            </button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="facilitiesSection" class="hotel-section">
                            <h3>Hotel Facilities</h3>
                            <div class="facilities-grid">
                                ${Object.entries(hotel.facilities).map(([facility, description]) => `
                                    <div class="facility-item">
                                        <h4>${facility}</h4>
                                        <p>${description}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="amenitiesSection" class="hotel-section">
                            <h3>Hotel Amenities</h3>
                            <div class="amenities-grid">
                                ${hotel.amenities.map(amenity => `
                                    <div class="amenity-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>${amenity}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="contactSection" class="hotel-section">
                            <h3>Contact & Booking Information</h3>
                            <div class="contact-info-grid">
                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fab fa-whatsapp"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>WhatsApp Booking</h4>
                                        <p>Quick reservations and inquiries</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.whatsapp}</p>
                                        <button onclick="whatsappVisitLimbe('I want to book ${hotel.name}')" class="contact-action-btn">
                                            Chat on WhatsApp
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-phone"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Phone Reservations</h4>
                                        <p>Speak with our booking team</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.phone}</p>
                                        <button onclick="callVisitLimbe()" class="contact-action-btn">
                                            Call Now
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Payment</h4>
                                        <p>Secure payment via Mobile Money</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.momo}</p>
                                        <button onclick="momoPayment('Room Amount', '${hotel.name} Booking')" class="contact-action-btn">
                                            Pay with MoMo
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Email Inquiries</h4>
                                        <p>Detailed information and group bookings</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.email}</p>
                                        <button onclick="emailVisitLimbe('${hotel.name} Booking Inquiry')" class="contact-action-btn">
                                            Send Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(hotelDetailContent);
        }

        // Hotel Detail Page Functions
        function changeMainImage(imageSrc) {
            document.getElementById('mainHotelImage').src = imageSrc;
            document.querySelectorAll('.image-thumbnails img').forEach(img => img.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showHotelSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.hotel-section').forEach(section => section.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.add('active');
            event.target.classList.add('active');
        }

        function bookHotelRoomWhatsApp(hotelName, roomType, price) {
            const message = `I want to book "${roomType}" at ${hotelName} for ${price.toLocaleString()} XAF per night. Please assist with my reservation and provide available dates.`;
            whatsappVisitLimbe(message);
        }

        function callForReservation(hotelId) {
            const hotelNames = {
                1: "Atlantic Beach Resort",
                2: "Mount Cameroon Hotel", 
                3: "Botanical Garden Lodge"
            };
            const hotelName = hotelNames[hotelId];
            const message = `I want to make a reservation at ${hotelName}. Please assist me with booking.`;
            
            // Show confirmation before calling
            if (confirm(`Call ${VISIT_LIMBE_CONTACT.phone} to book ${hotelName}?`)) {
                callVisitLimbe();
            }
        }

        // Individual Restaurant Detail Pages
        function viewRestaurantDetails(restaurantId) {
            hideAllPages();
            
            const restaurantData = {
                1: {
                    name: "Ocean Breeze Restaurant",
                    location: "Atlantic Beach, Limbe",
                    rating: 4.7,
                    reviews: 324,
                    cuisine: "International & Local Cuisine",
                    description: "Elegant beachfront dining with spectacular ocean views. Specializing in fresh seafood, international dishes, and authentic Cameroonian cuisine.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Ocean+Breeze+Restaurant+Main",
                        "https://via.placeholder.com/600x400?text=Ocean+View+Dining",
                        "https://via.placeholder.com/600x400?text=Fresh+Seafood",
                        "https://via.placeholder.com/600x400?text=Restaurant+Interior"
                    ],
                    menu: {
                        "Appetizers": [
                            { dish: "Grilled Prawns", price: 3500, description: "Fresh prawns grilled with garlic and herbs" },
                            { dish: "Pepper Soup", price: 2500, description: "Traditional spicy soup with fish or chicken" },
                            { dish: "Plantain Chips", price: 1500, description: "Crispy fried plantain with spicy sauce" }
                        ],
                        "Main Courses": [
                            { dish: "Grilled Fish & Rice", price: 5500, description: "Fresh catch of the day with jollof rice" },
                            { dish: "Ndole with Plantain", price: 4500, description: "Traditional Cameroonian dish with vegetables" },
                            { dish: "Beef Steak", price: 7000, description: "Tender beef steak with vegetables and potatoes" },
                            { dish: "Chicken Curry", price: 5000, description: "Spiced chicken curry with rice or bread" }
                        ],
                        "Seafood Specials": [
                            { dish: "Lobster Thermidor", price: 12000, description: "Fresh lobster in creamy sauce" },
                            { dish: "Fish & Chips", price: 4500, description: "Crispy battered fish with fries" },
                            { dish: "Seafood Platter", price: 15000, description: "Mixed seafood with prawns, fish, and crab" }
                        ],
                        "Beverages": [
                            { dish: "Fresh Fruit Juice", price: 1500, description: "Orange, pineapple, or mango juice" },
                            { dish: "Local Beer", price: 2000, description: "Cameroon beer or Castel" },
                            { dish: "Wine Selection", price: 8000, description: "Red or white wine by the bottle" }
                        ]
                    },
                    facilities: {
                        "Dining Area": "Spacious dining hall with ocean view seating for 80 guests",
                        "Private Rooms": "2 private dining rooms for intimate meals and business meetings",
                        "Bar Area": "Full-service bar with local and international beverages",
                        "Kitchen": "Modern kitchen with fresh seafood preparation station",
                        "Terrace": "Outdoor terrace dining with direct beach access",
                        "Restrooms": "Clean, modern restrooms with hand washing facilities",
                        "Parking": "Secure parking area for 25 vehicles"
                    },
                    amenities: ["Ocean View Dining", "Fresh Seafood Daily", "Full Bar Service", "Private Dining Rooms", "Outdoor Terrace", "Free WiFi", "Live Music (Weekends)", "Business Meetings", "Special Events", "Takeaway Service"],
                    hours: "Daily: 7:00 AM - 11:00 PM",
                    specialties: ["Fresh Seafood", "Traditional Ndole", "Grilled Fish", "International Cuisine"]
                },
                2: {
                    name: "Mount Cameroon Bistro",
                    location: "Botanical Garden Road, Limbe",
                    rating: 4.5,
                    reviews: 187,
                    cuisine: "Continental & African Fusion",
                    description: "Cozy bistro offering fusion cuisine with mountain views. Perfect for casual dining and business lunches.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Mount+Cameroon+Bistro",
                        "https://via.placeholder.com/600x400?text=Bistro+Interior",
                        "https://via.placeholder.com/600x400?text=Fusion+Cuisine",
                        "https://via.placeholder.com/600x400?text=Mountain+View+Dining"
                    ],
                    menu: {
                        "Breakfast": [
                            { dish: "Continental Breakfast", price: 3000, description: "Bread, eggs, coffee, and fresh fruit" },
                            { dish: "Local Breakfast", price: 2500, description: "Beans, plantain, bread, and tea" },
                            { dish: "Pancakes & Coffee", price: 2800, description: "Fluffy pancakes with syrup and coffee" }
                        ],
                        "Light Meals": [
                            { dish: "Club Sandwich", price: 3500, description: "Triple layer sandwich with chicken and vegetables" },
                            { dish: "Beef Burrito", price: 4000, description: "Spiced beef wrapped with vegetables and rice" },
                            { dish: "Caesar Salad", price: 3200, description: "Fresh lettuce with grilled chicken and dressing" }
                        ],
                        "Main Dishes": [
                            { dish: "Jollof Rice & Chicken", price: 4500, description: "Spiced rice with grilled chicken pieces" },
                            { dish: "Pasta Carbonara", price: 5000, description: "Creamy pasta with bacon and parmesan" },
                            { dish: "Grilled Tilapia", price: 5500, description: "Fresh tilapia with vegetables and rice" }
                        ],
                        "Drinks & Desserts": [
                            { dish: "Smoothies", price: 2000, description: "Mango, banana, or mixed fruit smoothies" },
                            { dish: "Ice Cream", price: 1800, description: "Vanilla, chocolate, or strawberry" },
                            { dish: "Coffee & Tea", price: 1200, description: "Local or international coffee and tea varieties" }
                        ]
                    },
                    facilities: {
                        "Main Dining": "Comfortable dining area with mountain view windows for 50 guests",
                        "Counter Seating": "Quick service counter for fast meals and coffee",
                        "Business Corner": "Quiet area with WiFi for meetings and work",
                        "Kitchen": "Open kitchen concept with fresh preparation",
                        "Storage": "Dry and cold storage for fresh ingredients",
                        "Restrooms": "Clean facilities with modern fixtures",
                        "Parking": "Street parking and nearby lot access"
                    },
                    amenities: ["Mountain Views", "Free WiFi", "Business-Friendly", "Quick Service", "Takeaway Available", "Fresh Daily Menu", "Coffee Bar", "Comfortable Seating", "Air Conditioning", "Card Payment"],
                    hours: "Daily: 6:30 AM - 9:00 PM",
                    specialties: ["Fusion Cuisine", "Business Lunches", "Fresh Coffee", "Quick Service"]
                },
                3: {
                    name: "Limbe Local Kitchen",
                    location: "New Layout, Limbe",
                    rating: 4.8,
                    reviews: 256,
                    cuisine: "Authentic Cameroonian Cuisine",
                    description: "Family-owned restaurant serving authentic local dishes with traditional recipes passed down through generations.",
                    images: [
                        "https://via.placeholder.com/600x400?text=Limbe+Local+Kitchen",
                        "https://via.placeholder.com/600x400?text=Traditional+Cooking",
                        "https://via.placeholder.com/600x400?text=Local+Dishes",
                        "https://via.placeholder.com/600x400?text=Family+Dining"
                    ],
                    menu: {
                        "Traditional Dishes": [
                            { dish: "Ndole Complete", price: 4000, description: "Traditional vegetables with fish, meat, and plantain" },
                            { dish: "Eru with Garri", price: 3500, description: "Eru leaves with stockfish and water fufu" },
                            { dish: "Achu with Yellow Soup", price: 4500, description: "Achu cocoyam with traditional yellow soup" },
                            { dish: "Koki with Fried Fish", price: 3000, description: "Steamed black-eyed peas with fried fish" }
                        ],
                        "Rice Dishes": [
                            { dish: "Jollof Rice & Fish", price: 3500, description: "Spiced rice with fried fish and vegetables" },
                            { dish: "Coconut Rice", price: 3800, description: "Rice cooked in coconut milk with vegetables" },
                            { dish: "Rice & Stew", price: 3200, description: "White rice with tomato stew and meat" }
                        ],
                        "Grilled Specialties": [
                            { dish: "Suya (Beef)", price: 2500, description: "Spiced grilled beef skewers" },
                            { dish: "Grilled Chicken", price: 4000, description: "Whole grilled chicken with spices" },
                            { dish: "Fish Pepper Soup", price: 3500, description: "Spicy fish soup with vegetables" }
                        ],
                        "Local Drinks": [
                            { dish: "Palm Wine", price: 1500, description: "Fresh local palm wine" },
                            { dish: "Bissap Juice", price: 1200, description: "Hibiscus flower juice" },
                            { dish: "Ginger Beer", price: 1000, description: "Homemade ginger drink" }
                        ]
                    },
                    facilities: {
                        "Main Hall": "Traditional dining hall with local decor for 60 guests",
                        "Family Sections": "Private family dining areas with traditional seating",
                        "Kitchen": "Traditional cooking area with modern hygiene standards",
                        "Preparation Area": "Fresh ingredient preparation and spice grinding",
                        "Storage Room": "Dry goods and spice storage facility",
                        "Parlour": "Traditional seating area for waiting and socializing",
                        "Restrooms": "Clean toilet facilities with water and soap",
                        "Compound": "Outdoor seating area under mango trees"
                    },
                    amenities: ["Authentic Local Food", "Family Recipes", "Traditional Atmosphere", "Fresh Daily Ingredients", "Cultural Experience", "Family-Friendly", "Group Dining", "Takeaway Service", "Local Music", "Traditional Seating"],
                    hours: "Daily: 11:00 AM - 10:00 PM",
                    specialties: ["Ndole", "Eru", "Achu", "Traditional Recipes"]
                }
            };

            const restaurant = restaurantData[restaurantId];
            if (!restaurant) return;

            const restaurantDetailContent = document.createElement('div');
            restaurantDetailContent.id = 'restaurantDetailPage';
            restaurantDetailContent.className = 'page-container active';
            restaurantDetailContent.innerHTML = `
                <div class="restaurant-detail-container">
                    <div class="restaurant-detail-header">
                        <button onclick="showModule('restaurants')" class="back-btn">
                            <i class="fas fa-arrow-left"></i> Back to Restaurants
                        </button>
                        <div class="restaurant-actions">
                            <button onclick="whatsappVisitLimbe('I want to make a reservation at ${restaurant.name}')" class="whatsapp-btn">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 20px; height: 20px; margin-right: 8px;"> Reserve Table
                            </button>
                            <button onclick="callVisitLimbe()" class="call-btn">
                                <i class="fas fa-phone"></i> Call
                            </button>
                        </div>
                    </div>

                    <div class="restaurant-images-gallery">
                        <div class="main-image">
                            <img src="${restaurant.images[0]}" alt="${restaurant.name}" id="mainRestaurantImage">
                        </div>
                        <div class="image-thumbnails">
                            ${restaurant.images.map((img, index) => `
                                <img src="${img}" alt="Restaurant Image ${index + 1}" 
                                     onclick="changeMainRestaurantImage('${img}')" 
                                     class="${index === 0 ? 'active' : ''}">
                            `).join('')}
                        </div>
                    </div>

                    <div class="restaurant-main-info">
                        <div class="restaurant-title-section">
                            <h2>${restaurant.name}</h2>
                            <div class="restaurant-rating">
                                <div class="stars">${'⭐'.repeat(Math.floor(restaurant.rating))}</div>
                                <span class="rating-score">${restaurant.rating} (${restaurant.reviews} reviews)</span>
                            </div>
                            <div class="restaurant-location">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${restaurant.location}</span>
                            </div>
                            <div class="restaurant-cuisine">
                                <i class="fas fa-utensils"></i>
                                <span>${restaurant.cuisine}</span>
                            </div>
                            <div class="restaurant-hours">
                                <i class="fas fa-clock"></i>
                                <span>${restaurant.hours}</span>
                            </div>
                        </div>
                        <div class="restaurant-description">
                            <p>${restaurant.description}</p>
                            <div class="specialties">
                                <h4>Specialties:</h4>
                                ${restaurant.specialties.map(specialty => `<span class="specialty-tag">${specialty}</span>`).join('')}
                            </div>
                        </div>
                    </div>

                    <div class="restaurant-content-sections">
                        <div class="section-tabs">
                            <button onclick="showRestaurantSection('menu')" class="tab-btn active">Menu & Pricing</button>
                            <button onclick="showRestaurantSection('facilities')" class="tab-btn">Facilities</button>
                            <button onclick="showRestaurantSection('amenities')" class="tab-btn">Amenities</button>
                            <button onclick="showRestaurantSection('contact')" class="tab-btn">Contact & Orders</button>
                        </div>

                        <div id="menuSection" class="restaurant-section active">
                            <h3>Menu & Pricing</h3>
                            <div class="menu-categories">
                                ${Object.entries(restaurant.menu).map(([category, dishes]) => `
                                    <div class="menu-category">
                                        <h4 class="category-title">${category}</h4>
                                        <div class="dishes-list">
                                            ${dishes.map(dish => `
                                                <div class="dish-item">
                                                    <div class="dish-info">
                                                        <h5>${dish.dish}</h5>
                                                        <p class="dish-description">${dish.description}</p>
                                                    </div>
                                                    <div class="dish-price-action">
                                                        <span class="dish-price">${dish.price.toLocaleString()} XAF</span>
                                                        <button onclick="orderDishWhatsApp('${restaurant.name}', '${dish.dish}', ${dish.price})" class="order-btn">
                                                            <i class="fab fa-whatsapp"></i> Order
                                                        </button>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="facilitiesSection" class="restaurant-section">
                            <h3>Restaurant Facilities</h3>
                            <div class="facilities-grid">
                                ${Object.entries(restaurant.facilities).map(([facility, description]) => `
                                    <div class="facility-item">
                                        <h4>${facility}</h4>
                                        <p>${description}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="amenitiesSection" class="restaurant-section">
                            <h3>Restaurant Amenities</h3>
                            <div class="amenities-grid">
                                ${restaurant.amenities.map(amenity => `
                                    <div class="amenity-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>${amenity}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div id="contactSection" class="restaurant-section">
                            <h3>Contact & Order Information</h3>
                            <div class="contact-info-grid">
                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fab fa-whatsapp"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>WhatsApp Orders</h4>
                                        <p>Quick food orders and table reservations</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.whatsapp}</p>
                                        <button onclick="whatsappVisitLimbe('I want to order from ${restaurant.name}')" class="contact-action-btn">
                                            Order via WhatsApp
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-phone"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Phone Reservations</h4>
                                        <p>Table bookings and special requests</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.phone}</p>
                                        <button onclick="callVisitLimbe()" class="contact-action-btn">
                                            Call Restaurant
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Payment Options</h4>
                                        <p>Mobile Money payment for orders</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.momo}</p>
                                        <button onclick="momoPayment('Food Order Amount', '${restaurant.name} Order')" class="contact-action-btn">
                                            Pay with MoMo
                                        </button>
                                    </div>
                                </div>

                                <div class="contact-card">
                                    <div class="contact-icon">
                                        <i class="fas fa-envelope"></i>
                                    </div>
                                    <div class="contact-details">
                                        <h4>Email Inquiries</h4>
                                        <p>Catering and special event bookings</p>
                                        <p class="contact-number">${VISIT_LIMBE_CONTACT.email}</p>
                                        <button onclick="emailVisitLimbe('${restaurant.name} Catering Inquiry')" class="contact-action-btn">
                                            Email Restaurant
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(restaurantDetailContent);
        }

        // Restaurant Detail Page Functions
        function changeMainRestaurantImage(imageSrc) {
            document.getElementById('mainRestaurantImage').src = imageSrc;
            document.querySelectorAll('.image-thumbnails img').forEach(img => img.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showRestaurantSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.restaurant-section').forEach(section => section.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionName + 'Section').classList.add('active');
            event.target.classList.add('active');
        }

        function orderDishWhatsApp(restaurantName, dishName, price) {
            const message = `I want to order "${dishName}" from ${restaurantName} for ${price.toLocaleString()} XAF. Please confirm availability and delivery/pickup options.`;
            whatsappVisitLimbe(message);
        }

        function clearAllFilters() {
            showAlert('🔄 All filters cleared. Showing all available properties!', 'success');
        }

        function setGridView() {
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            showAlert('📊 Grid view activated for better property browsing!', 'info');
        }

        function setListView() {
            document.querySelectorAll('.view-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            showAlert('📋 List view activated for detailed property information!', 'info');
        }

        function requestPropertyValuation() {
            showAlert('🏠 Property Valuation: Get professional property valuation with market analysis, comparable sales, and investment potential!', 'warning');
        }

        function scheduleViewing() {
            showAlert('📅 Schedule Viewing: Book property visits with agents, set preferred times, and get confirmation notifications!', 'success');
        }

        function mortgageCalculator() {
            showAlert('💰 Mortgage Calculator: Calculate monthly payments, interest rates, down payment options, and loan terms with local banks!', 'primary');
        }

        function showPropertyAnalytics() {
            showAlert('📈 ADMIN: Property Analytics - View performance metrics, inquiry rates, conversion stats, and market trends!', 'warning');
        }

        function manageAgents() {
            showAlert('👥 ADMIN: Manage Agents - Add, edit, remove real estate agents, track their performance and commission structures!', 'warning');
        }

        function exportProperties() {
            showAlert('📊 ADMIN: Export Properties - Download property data in CSV/PDF format for reports and analysis!', 'warning');
        }

        // Toggle password visibility
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = input.nextElementSibling.querySelector('i');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        // =============================================
        // 📋 MODULE MANAGER MANAGEMENT FUNCTIONS
        // =============================================
        
        function showModuleManagerManagement() {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById('moduleManagerManagement').classList.add('active');
        }
        
        function showCreateManagerForm() {
            // Create dynamic translated form
            const modal = document.createElement('div');
            modal.id = 'dynamicManagerModal';
            modal.className = 'modal';
            modal.style.display = 'flex';
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 600px; width: 90%;">
                    <div class="modal-header">
                        <h5 data-translate="create_new_manager">${t('create_new_manager')}</h5>
                        <button class="close-btn" onclick="closeDynamicForm()">&times;</button>
                    </div>
                    <form onsubmit="createModuleManager(event)" class="modal-body">
                        <div class="form-group">
                            <label data-translate="manager_name">${t('manager_name')}</label>
                            <input type="text" name="name" class="form-control" data-translate="full_name" placeholder="${t('full_name')}" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="email">${t('email')}</label>
                            <input type="email" name="email" class="form-control" data-translate="email" placeholder="${t('email')}" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="phone">${t('phone')}</label>
                            <input type="tel" name="phone" class="form-control" data-translate="phone" placeholder="${t('phone')}" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="password">${t('password')}</label>
                            <input type="password" name="password" class="form-control" data-translate="password" placeholder="${t('password')}" required>
                        </div>
                        <div class="form-group">
                            <label data-translate="assigned_modules">${t('assigned_modules')}</label>
                            <div class="modules-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
                                ${generateModuleCheckboxes()}
                            </div>
                        </div>
                        <div class="form-group">
                            <label data-translate="access_level">${t('access_level')}</label>
                            <select name="access_level" class="form-control" required>
                                <option value="full">${t('full_access')}</option>
                                <option value="view">${t('view_only')}</option>
                                <option value="limited">${t('limited_access')}</option>
                            </select>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="closeDynamicForm()" data-translate="cancel">${t('cancel')}</button>
                            <button type="submit" class="btn btn-primary" data-translate="create_manager">${t('create_manager')}</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function generateModuleCheckboxes() {
            const modules = ['booking', 'shopping', 'health', 'education', 'transport', 'culture', 'maps', 'gallery', 'services', 'finance', 'events', 'jobs', 'realestate', 'streaming', 'smartgro', 'callcenter'];
            return modules.map(module => `
                <label class="module-checkbox" style="display: flex; align-items: center; padding: 8px; border: 1px solid #ddd; border-radius: 5px; cursor: pointer;">
                    <input type="checkbox" name="modules[]" value="${module}" style="margin-right: 8px;">
                    <span data-translate="${module}">${t(module)}</span>
                </label>
            `).join('');
        }
        
        function closeDynamicForm() {
            const modal = document.getElementById('dynamicManagerModal');
            if (modal) {
                document.body.removeChild(modal);
            }
        }
        
        function createModuleManager(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const managerData = Object.fromEntries(formData);
            
            // Get selected modules
            const selectedModules = Array.from(event.target.querySelectorAll('input[type="checkbox"]:checked'))
                .map(cb => t(cb.value));
            
            // Translated success message
            showTranslatedAlert('manager_created_success', {
                name: managerData.name,
                email: managerData.email,
                phone: managerData.phone,
                modules: selectedModules.join(', '),
                access_level: t(managerData.access_level + '_access')
            });
            
            closeDynamicForm();
        }
        
        function editManager(managerId) {
            showTranslatedAlert('edit_manager_options', { managerId });
        }
        
        function resetPassword(managerId) {
            if (showTranslatedConfirm('reset_password_confirm', { managerId })) {
                const newPassword = 'temp' + Math.random().toString(36).substr(2, 8);
                showTranslatedAlert('password_reset_success', { 
                    managerId, 
                    newPassword 
                });
            }
        }
        
        function deactivateManager(managerId) {
            if (showTranslatedConfirm('deactivate_manager_confirm', { managerId })) {
                showTranslatedAlert('manager_deactivated_success', { managerId });
            }
        }
        
        function activateManager(managerId) {
            if (showTranslatedConfirm('activate_manager_confirm', { managerId })) {
                showTranslatedAlert('manager_activated_success', { managerId });
            }
        }
        
        function deleteManager(managerId) {
            if (showTranslatedConfirm('delete_manager_confirm', { managerId })) {
                showTranslatedAlert('manager_deleted_success', { managerId });
            }
        }
        
        
        function assignModule(moduleName) {
            const managers = ['John Doe', 'Marie Smith', 'Paul Kema'];
            const selectedManager = prompt(`🎯 Assign ${moduleName} Module\n\nAvailable managers:\n${managers.map((m, i) => `${i+1}. ${m}`).join('\n')}\n\nEnter manager number (1-${managers.length}):`);
            
            if (selectedManager && selectedManager >= 1 && selectedManager <= managers.length) {
                const managerName = managers[selectedManager - 1];
                alert(`✅ Module Assigned Successfully!\n\n📋 Module: ${moduleName}\n👤 Manager: ${managerName}\n\nThe manager has been notified and can now access this module.`);
            }
        }
        
        function showModuleManagersList() {
            alert(`👥 All Module Managers\n\n✅ Active Managers (3):\n• John Doe - Booking, Transport\n• Marie Smith - Health, Education\n\n⚠️ Inactive Managers (1):\n• Paul Kema - Shopping, Services, Finance\n\n📊 Total: 4 managers\n📈 System coverage: 87%`);
        }
        
        function showManagerCredentials() {
            alert(`🔑 Manager Credentials Overview\n\n👤 Active Logins:\n• john.doe@limbe.cm - Last: 2 hours ago\n• marie.smith@limbe.cm - Last: 1 day ago\n\n⚠️ Inactive:\n• paul.kema@limbe.cm - Last: 1 week ago\n\n🔧 Available Actions:\n• Reset passwords\n• Force logout\n• Enable 2FA\n• View login history`);
        }

        // =============================================
        // 🌐 COMPLETE TRANSLATION SYSTEM
        // =============================================
        
        // Global language variable
        let currentLanguage = 'fr'; // Default to French for Cameroon
        
        const translations = {
            en: {
                // Booking Hero & UI
                book_luxury_title: "Book Your Luxury Stay & Start Earning Today",
                start_booking: "Start Booking",
                room_type: "Room Type",
                guests: "Guests",
                check_in: "Check-in",
                check_out: "Check-out",
                next_step: "Next Step",
                watch_share_stream_earn: "Watch. Share. Stream. Earn.",
                watch_earn: "Watch & Earn",
                completed: "Completed",
                points_earned: "points earned",
                for_watching: "for watching",
                discover_local_shopping: "Discover Local Shopping",
                browse_shops: "Browse Shops",
                discover_culture: "Discover Culture in Limbe",
                browse_culture: "Browse Cultural Sites",
                discover_maps: "Discover Maps & Landmarks",
                view_locations: "View Locations",
                discover_gallery: "Discover Gallery Highlights",
                view_gallery: "View Gallery",
                discover_realestate: "Discover Real Estate",
                view_properties: "View Properties",
                discover_services: "Discover Services",
                browse_services: "Browse Services",
                discover_finance: "Discover Finance Options",
                view_finance_options: "View Options",
                handmade_art: "Handmade Art & Crafts",
                tech_gadgets: "Tech & Gadgets",
                local_delicacies: "Local Delicacies",
                fashion_wear: "Fashion & Wear",
                clothing_fashion: "Clothing",
                featured_products: "Featured Products",
                add_product: "Add Product",
                shopping_media: "Shopping Media",
                upload_product_media: "Upload Product Images/Videos",
                showcase_products: "Showcase your products",
                shopping_categories_coming_soon: "Shopping categories page coming soon!",
                showing_category: "Showing category",
                discover_education: "Discover Education in Limbe",
                browse_institutions: "Browse Institutions",
                universities: "Universities",
                higher_education: "Higher Education",
                schools: "Schools",
                primary_secondary: "Primary & Secondary",
                training_centers: "Training Centers",
                skills_development: "Skills Development",
                libraries: "Libraries",
                public_resources: "Public Resources",
                educational_institutions: "Educational Institutions",
                discover_transport: "Discover Transport Options",
                view_transport_options: "View Options",
                transportation_options: "Transportation Options",
                taxis: "Taxis",
                quick_rides: "Quick Rides",
                buses: "Buses",
                public_transport: "Public Transport",
                bike_taxi: "Bike Taxi",
                fast_local: "Fast Local",
                car_rental: "Car Rental",
                self_drive: "Self Drive",
                health_wellness_title: "Health & Wellness Services",
                find_facilities: "Find Facilities",
                emergency_care: "Emergency Care",
                general_health: "General Health",
                medications: "Medications",
                specialists: "Specialists",
                expert_care: "Expert Care",
                medical_facilities: "Medical Facilities",
                call_now: "Call Now",
                health_media: "Health Media",
                upload_health_media: "Upload Health Facility Images/Videos",
                document_facilities: "Document medical facilities",
                accommodation_media: "Accommodation Media",
                hotels_guest_houses: "Hotels & Guest Houses",
                view_all: "View All",
                add_hotel: "Add Hotel",
                no_hotels_yet: "No hotels yet. Click \"Add Hotel\" to create one.",
                assign_manager: "Assign Manager",
                manager_assigned_success: "Manager assigned successfully",
                enter_manager_email_prompt: "Enter manager email to assign to this hotel:",
                assign_manager_failed: "Failed to assign manager",
                // Welcome Page
                visit_limbe: "Visit Limbe",
                explore_beauty: "Explore the Beauty of Cameroon's Coast",
                get_started: "Get Started",
                module_manager: "Module Manager",
                discover_limbe: "Discover Limbe",
                watch_intro: "Watch our introduction video",
                
                // Navigation & Menu
                home: "Home",
                back: "Back",
                dashboard: "Dashboard",
                profile: "Profile",
                settings: "Settings",
                logout: "Logout",
                explore: "Explore",
                saved: "Saved",
                explore_limbe_title: "Explore Limbe",
                
                // Authentication
                login: "Login",
                register: "Register",
                email: "Email Address",
                password: "Password",
                confirm_password: "Confirm Password",
                full_name: "Full Name",
                phone: "Phone Number",
                forgot_password: "Forgot Password?",
                create_account: "Create Account",
                create_account_desc: "Create your Visit Limbe account",
                already_have_account: "Already have an account?",
                dont_have_account: "Don't have an account?",
                welcome_back_app: "Welcome back to Visit Limbe",
                back_to_welcome: "Back to Welcome",
                welcome_to_limbe: "Welcome to Visit Limbe!",
                intro_video_title: "Discover the Beauty of Limbe",
                intro_video_description: "Experience the stunning beaches, rich culture, and amazing attractions that make Limbe a must-visit destination.",
                video_placeholder: "🎬 Your introduction video will be displayed here. Admin can upload custom videos from the admin dashboard.",
                continue_to_app: "Continue to App",
                
                // Modules
                booking: "Booking & Hotels",
                shopping: "Shopping",
                health: "Health & Medical",
                education: "Education",
                transport: "Transport",
                culture: "Culture & Heritage",
                maps: "Maps & Navigation",
                gallery: "Photo Gallery",
                services: "Local Services",
                finance: "Finance & Banking",
                events: "Events & Entertainment",
                jobs: "Jobs & Employment",
                realestate: "Real Estate",
                streaming: "Streaming & Media",
                smartgro: "SmartGro Agriculture",
                callcenter: "Call Center",
                
                // Dashboard
                welcome_back: "Welcome back",
                welcome_back_user: "Welcome back!",
                ready_to_explore: "Ready to explore Limbe today?",
                reward_points: "Your Reward Points", 
                redeem_experiences: "Redeem for exclusive experiences",
                quick_actions: "Quick Actions",
                search: "Search",
                notifications: "Notifications",
                emergency: "Emergency",
                
                // Booking Module
                hotels: "Hotels",
                restaurants: "Restaurants",
                tours: "Tours & Activities",
                book_now: "Book Now",
                view_details: "View Details",
                price: "Price",
                rating: "Rating",
                reviews: "Reviews",
                
                // Shopping Module
                local_crafts: "Local Crafts",
                electronics: "Electronics",
                food_drinks: "Food & Drinks",
                add_to_cart: "Add to Cart",
                buy_now: "Buy Now",
                
                // Health Module
                hospitals: "Hospitals",
                clinics: "Clinics",
                pharmacies: "Pharmacies",
                emergency_services: "Emergency Services",
                tourist_support: "Tourist Support",
                
                // Common Actions
                save: "Enregistrer",
                cancel: "Annuler",
                delete: "Supprimer",
                edit: "Modifier",
                add: "Ajouter",
                upload: "Télécharger",
                download: "Télécharger",
                share: "Partager",
                contact: "Contact",
                
                // Admin
                admin_dashboard: "Admin Dashboard",
                administrator: "Administrator",
                total_users: "Total Users",
                all_bookings: "All Bookings",
                total_revenue: "Total Revenue",
                active_modules: "Active Modules",
                growth_month: "+12% this month",
                growth_week: "+8% this week",
                growth_month_revenue: "+15% this month",
                all_operational: "All operational",
                module_management: "Module Management",
                system_administration: "System Administration",
                manage_users: "Manage Users",
                manage_content: "Manage Content",
                analytics: "Analytics",
                system_settings: "System Settings",
                
                // Module Manager System
                module_managers_title: "Module Managers",
                manage_module_managers: "Manage Module Managers",
                create_assign_managers: "Create & assign managers",
                active_managers: "Active Managers",
                view_all_managers: "View all managers (5)",
                manager_credentials: "Manager Credentials", 
                reset_passwords: "Reset passwords & access",
                module_manager_system: "Module Manager System",
                create_new_manager: "Create New Module Manager",
                assign_manager_desc: "Assign a manager to specific modules with custom credentials",
                add_manager: "Add Manager",
                active_managers_list: "Active Module Managers",
                manager_name: "Name",
                assigned_modules: "Assigned Modules",
                status: "Status",
                last_login: "Last Login",
                actions: "Actions",
                active: "Active",
                inactive: "Inactive",
                edit: "Edit",
                reset_pwd: "Reset",
                deactivate: "Deactivate", 
                activate: "Activate",
                delete: "Delete",
                assigned: "Assigned",
                module_assignments: "Module Assignments",
                click_to_assign: "Click to assign",
                full_access: "Full Access (Read/Write)",
                view_only: "View Only",
                limited_access: "Limited Access",
                access_level: "Access Level",
                create_manager: "Create Manager",
                
                // Dynamic Messages & Alerts
                manager_created_success: "✅ Module Manager Created Successfully!\n\n👤 Name: {name}\n📧 Email: {email}\n📱 Phone: {phone}\n🎯 Modules: {modules}\n🔐 Access: {access_level}\n\n📨 Login credentials sent to {email}",
                edit_manager_options: "✏️ Edit Manager: {managerId}\n\n🔧 Available actions:\n• Update personal information\n• Change assigned modules\n• Modify access permissions\n• Update contact details\n\nThis would open the edit manager form.",
                reset_password_confirm: "🔑 Reset Password for {managerId}?\n\nA new temporary password will be generated and sent via email.",
                password_reset_success: "✅ Password Reset Successfully!\n\n👤 Manager: {managerId}\n🔑 New Password: {newPassword}\n📧 Sent to manager's email\n\n⚠️ Manager must change password on first login.",
                deactivate_manager_confirm: "⚠️ Deactivate Manager: {managerId}?\n\nThis will:\n• Disable login access\n• Remove module permissions\n• Keep data for reactivation\n\nContinue?",
                manager_deactivated_success: "✅ Manager Deactivated\n\n👤 {managerId} access has been suspended.\nThey can be reactivated anytime from this panel.",
                activate_manager_confirm: "✅ Reactivate Manager: {managerId}?\n\nThis will restore their access and permissions.",
                manager_activated_success: "✅ Manager Reactivated\n\n👤 {managerId} can now login and access their assigned modules.",
                delete_manager_confirm: "❌ Delete Manager: {managerId}?\n\n⚠️ WARNING: This action cannot be undone!\n\nThis will:\n• Permanently remove manager\n• Delete all access records\n• Remove module assignments\n\nContinue?",
                manager_deleted_success: "✅ Manager Deleted\n\n👤 {managerId} has been permanently removed from the system.",
                
                // Future Module System
                add_new_module: "Add New Module",
                module_name: "Module Name",
                module_description: "Module Description",
                module_icon: "Module Icon",
                module_color: "Module Color",
                module_category: "Module Category",
                enable_module: "Enable Module",
                disable_module: "Disable Module",
                module_settings: "Module Settings",
                custom_module: "Custom Module",
                system_module: "System Module",
                
                // Admin Content Management
                manage_translations: "Manage Translations",
                add_translation: "Add Translation",
                translation_key: "Translation Key",
                english_text: "English Text",
                french_text: "French Text",
                save_translation: "Save Translation",
                translation_saved: "Translation saved successfully!",
                translation_updated: "Translation updated successfully!",
                translation_deleted: "Translation deleted successfully!",
                
                // Welcome Page Footer
                welcome_description: "Discover Limbe, the pearl of Cameroon. Book hotels, explore attractions, find jobs and much more.",
                hotels_booking: "Hotels Booking",
                tourism_guide: "Tourism Guide", 
                job_search: "Job Search",
                local_shopping: "Local Shopping",
                terms_conditions: "Terms & Conditions",
                contact_us: "Contact Us",
                app_version: "Version 2.0",
                admin_login: "Admin Login",
                
                // Modern Welcome Page
                welcome_to: "Welcome to",
                discover_more: "Discover more",
                hotels_available: "Hotels available",
                local_businesses: "Local businesses",
                support: "Support",
                what_we_offer: "What we offer",
                hotels_desc: "Book the best hotels in Limbe with competitive rates",
                tourism_desc: "Discover must-see attractions and hidden gems",
                job_opportunities: "Job opportunities",
                jobs_desc: "Find local jobs and develop your career",
                shopping_desc: "Buy authentic local and artisanal products",
                events: "Events",
                events_desc: "Participate in cultural events and local festivals",
                support_24_7: "24/7 Support",
                support_desc: "Customer assistance available at any time",
                ready_to_start: "Ready to start your adventure?",
                join_community: "Join our community and discover everything Limbe has to offer",
                create_account: "Create account",
                admin_access: "Admin access",
                footer_tagline: "Your gateway to Cameroon's beauty",
                quick_links: "Quick links",
                privacy_policy: "Privacy policy",
                services: "Services",
                hotel_reservations: "Hotel reservations",
                tour_guides: "Tour guides",
                local_experiences: "Local experiences",
                all_rights_reserved: "All rights reserved.",
            },
            
            fr: {
                // Booking Hero & UI
                book_luxury_title: "Réservez Votre Séjour de Luxe et Commencez à Gagner Aujourd'hui",
                start_booking: "Commencer la Réservation",
                room_type: "Type de Chambre",
                guests: "Invités",
                check_in: "Arrivée",
                check_out: "Départ",
                next_step: "Étape Suivante",
                watch_share_stream_earn: "Regarder. Partager. Diffuser. Gagner.",
                watch_earn: "Regarder & Gagner",
                completed: "Terminé",
                points_earned: "points gagnés",
                for_watching: "pour avoir regardé",
                discover_local_shopping: "Découvrir le Shopping Local",
                browse_shops: "Parcourir les Boutiques",
                discover_culture: "Découvrir la Culture à Limbé",
                browse_culture: "Parcourir les Sites Culturels",
                discover_maps: "Découvrir les Cartes & Monuments",
                view_locations: "Voir les Lieux",
                discover_gallery: "Découvrir les Points Forts de la Galerie",
                view_gallery: "Voir la Galerie",
                discover_realestate: "Découvrir l'Immobilier",
                view_properties: "Voir les Biens",
                discover_services: "Découvrir les Services",
                browse_services: "Parcourir les Services",
                discover_finance: "Découvrir les Options Financières",
                view_finance_options: "Voir les Options",
                handmade_art: "Art & Artisanat Fait Main",
                tech_gadgets: "Technologie & Gadgets",
                local_delicacies: "Délices Locaux",
                fashion_wear: "Mode & Vêtements",
                clothing_fashion: "Vêtements",
                featured_products: "Produits en Vedette",
                add_product: "Ajouter Produit",
                shopping_media: "Médias Shopping",
                upload_product_media: "Télécharger Images/Vidéos Produits",
                showcase_products: "Mettez en valeur vos produits",
                shopping_categories_coming_soon: "Page des catégories shopping bientôt disponible!",
                showing_category: "Affichage de la catégorie",
                discover_education: "Découvrir l'Éducation à Limbé",
                browse_institutions: "Parcourir les Institutions",
                universities: "Universités",
                higher_education: "Enseignement Supérieur",
                schools: "Écoles",
                primary_secondary: "Primaire & Secondaire",
                training_centers: "Centres de Formation",
                skills_development: "Développement des Compétences",
                libraries: "Bibliothèques",
                public_resources: "Ressources Publiques",
                educational_institutions: "Institutions Éducatives",
                discover_transport: "Découvrir les Options de Transport",
                view_transport_options: "Voir les Options",
                transportation_options: "Options de Transport",
                taxis: "Taxis",
                quick_rides: "Trajets Rapides",
                buses: "Bus",
                public_transport: "Transport Public",
                bike_taxi: "Moto-Taxi",
                fast_local: "Rapide Local",
                car_rental: "Location de Voiture",
                self_drive: "Auto-conduite",
                health_wellness_title: "Services de Santé & Bien-être",
                find_facilities: "Trouver des Installations",
                emergency_care: "Soins d'Urgence",
                general_health: "Santé Générale",
                medications: "Médicaments",
                specialists: "Spécialistes",
                expert_care: "Soins d'Experts",
                medical_facilities: "Installations Médicales",
                call_now: "Appeler Maintenant",
                health_media: "Médias Santé",
                upload_health_media: "Télécharger Images/Vidéos d'Installations Médicales",
                document_facilities: "Documenter les installations médicales",
                accommodation_media: "Médias d'Hébergement",
                hotels_guest_houses: "Hôtels & Maisons d'Hôtes",
                view_all: "Voir Tout",
                add_hotel: "Ajouter un Hôtel",
                no_hotels_yet: "Aucun hôtel pour le moment. Cliquez \"Ajouter un Hôtel\" pour en créer un.",
                assign_manager: "Assigner un Gestionnaire",
                manager_assigned_success: "Gestionnaire assigné avec succès",
                enter_manager_email_prompt: "Entrez l'email du gestionnaire à assigner à cet hôtel :",
                assign_manager_failed: "Échec de l'assignation du gestionnaire",
                // Welcome Page
                visit_limbe: "Visitez Limbé",
                explore_beauty: "Explorez la Beauté de la Côte Camerounaise",
                get_started: "Commencer",
                module_manager: "Gestionnaire de Module",
                discover_limbe: "Découvrir Limbé",
                watch_intro: "Regardez notre vidéo d'introduction",
                
                // Navigation & Menu
                home: "Accueil",
                back: "Retour",
                dashboard: "Tableau de Bord",
                profile: "Profil",
                settings: "Paramètres",
                logout: "Déconnexion",
                explore: "Explorer", 
                saved: "Sauvegardé",
                explore_limbe_title: "Explorer Limbé",
                
                // Authentication
                login: "Connexion",
                register: "S'inscrire",
                email: "Adresse E-mail",
                password: "Mot de Passe",
                confirm_password: "Confirmer le Mot de Passe",
                full_name: "Nom Complet",
                phone: "Numéro de Téléphone",
                forgot_password: "Mot de passe oublié?",
                create_account: "Créer un Compte",
                create_account_desc: "Créez votre compte Visit Limbé",
                already_have_account: "Vous avez déjà un compte?",
                dont_have_account: "Vous n'avez pas de compte?",
                welcome_back_app: "Bon retour sur Visit Limbé",
                back_to_welcome: "Retour à l'accueil",
                welcome_to_limbe: "Bienvenue à Visit Limbé!",
                intro_video_title: "Découvrir la Beauté de Limbé",
                intro_video_description: "Découvrez les magnifiques plages, la riche culture et les attractions incroyables qui font de Limbé une destination incontournable.",
                video_placeholder: "🎬 Votre vidéo d'introduction sera affichée ici. L'admin peut télécharger des vidéos personnalisées depuis le tableau de bord.",
                continue_to_app: "Continuer vers l'App",
                
                // Modules
                booking: "Réservation & Hôtels",
                shopping: "Shopping",
                health: "Santé & Médical",
                education: "Éducation",
                transport: "Transport",
                culture: "Culture & Patrimoine",
                maps: "Cartes & Navigation",
                gallery: "Galerie Photo",
                services: "Services Locaux",
                finance: "Finance & Banque",
                events: "Événements & Divertissement",
                jobs: "Emplois",
                realestate: "Immobilier",
                streaming: "Streaming & Médias",
                smartgro: "Agriculture SmartGro",
                callcenter: "Centre d'Appels",
                
                // Dashboard
                welcome_back: "Bon retour",
                welcome_back_user: "Bon retour!",
                ready_to_explore: "Prêt à explorer Limbé aujourd'hui?",
                reward_points: "Vos Points de Récompense",
                redeem_experiences: "Échangez contre des expériences exclusives",
                quick_actions: "Actions Rapides",
                search: "Rechercher",
                notifications: "Notifications",
                emergency: "Urgence",
                
                // Booking Module
                hotels: "Hôtels",
                restaurants: "Restaurants",
                tours: "Tours & Activités",
                book_now: "Réserver Maintenant",
                view_details: "Voir les Détails",
                price: "Prix",
                rating: "Note",
                reviews: "Avis",
                
                // Shopping Module
                local_crafts: "Artisanat Local",
                electronics: "Électronique",
                food_drinks: "Nourriture & Boissons",
                add_to_cart: "Ajouter au Panier",
                buy_now: "Acheter Maintenant",
                
                // Health Module
                hospitals: "Hôpitaux",
                clinics: "Cliniques",
                pharmacies: "Pharmacies",
                emergency_services: "Services d'Urgence",
                tourist_support: "Assistance Touristique",
                
                // Common Actions
                save: "Sauvegarder",
                cancel: "Annuler",
                delete: "Supprimer",
                edit: "Modifier",
                add: "Ajouter",
                upload: "Télécharger",
                download: "Télécharger",
                share: "Partager",
                contact: "Contact",
                
                // Admin
                admin_dashboard: "Tableau de Bord Admin",
                administrator: "Administrateur",
                total_users: "Total Utilisateurs",
                all_bookings: "Toutes Réservations",
                total_revenue: "Revenus Totaux",
                active_modules: "Modules Actifs",
                growth_month: "+12% ce mois",
                growth_week: "+8% cette semaine", 
                growth_month_revenue: "+15% ce mois",
                all_operational: "Tous opérationnels",
                module_management: "Gestion des Modules",
                system_administration: "Administration Système",
                manage_users: "Gérer les Utilisateurs",
                manage_content: "Gérer le Contenu",
                analytics: "Analytiques",
                system_settings: "Paramètres Système",
                
                // Module Manager System
                module_managers_title: "Gestionnaires de Modules",
                manage_module_managers: "Gérer les Gestionnaires",
                create_assign_managers: "Créer et assigner des gestionnaires",
                active_managers: "Gestionnaires Actifs",
                view_all_managers: "Voir tous les gestionnaires (5)",
                manager_credentials: "Identifiants Gestionnaire",
                reset_passwords: "Réinitialiser mots de passe",
                module_manager_system: "Système Gestionnaire de Modules",
                create_new_manager: "Créer Nouveau Gestionnaire",
                assign_manager_desc: "Assigner un gestionnaire à des modules spécifiques avec identifiants personnalisés",
                add_manager: "Ajouter Gestionnaire",
                active_managers_list: "Gestionnaires de Modules Actifs",
                manager_name: "Nom",
                assigned_modules: "Modules Assignés",
                status: "Statut",
                last_login: "Dernière Connexion",
                actions: "Actions",
                active: "Actif",
                inactive: "Inactif",
                edit: "Modifier",
                reset_pwd: "Réinitialiser",
                deactivate: "Désactiver",
                activate: "Activer",
                delete: "Supprimer",
                assigned: "Assigné",
                module_assignments: "Assignations de Modules",
                click_to_assign: "Cliquer pour assigner",
                full_access: "Accès Complet (Lecture/Écriture)",
                view_only: "Lecture Seule",
                limited_access: "Accès Limité",
                access_level: "Niveau d'Accès",
                create_manager: "Créer Gestionnaire",
                
                // Dynamic Messages & Alerts
                manager_created_success: "✅ Gestionnaire de Module Créé avec Succès!\n\n👤 Nom: {name}\n📧 Email: {email}\n📱 Téléphone: {phone}\n🎯 Modules: {modules}\n🔐 Accès: {access_level}\n\n📨 Identifiants envoyés à {email}",
                edit_manager_options: "✏️ Modifier Gestionnaire: {managerId}\n\n🔧 Actions disponibles:\n• Mettre à jour les informations personnelles\n• Changer les modules assignés\n• Modifier les permissions d'accès\n• Mettre à jour les détails de contact\n\nCeci ouvrirait le formulaire d'édition.",
                reset_password_confirm: "🔑 Réinitialiser le mot de passe pour {managerId}?\n\nUn nouveau mot de passe temporaire sera généré et envoyé par email.",
                password_reset_success: "✅ Mot de Passe Réinitialisé avec Succès!\n\n👤 Gestionnaire: {managerId}\n🔑 Nouveau Mot de Passe: {newPassword}\n📧 Envoyé à l'email du gestionnaire\n\n⚠️ Le gestionnaire doit changer le mot de passe à la première connexion.",
                deactivate_manager_confirm: "⚠️ Désactiver Gestionnaire: {managerId}?\n\nCeci va:\n• Désactiver l'accès de connexion\n• Supprimer les permissions de module\n• Conserver les données pour réactivation\n\nContinuer?",
                manager_deactivated_success: "✅ Gestionnaire Désactivé\n\n👤 L'accès de {managerId} a été suspendu.\nIl peut être réactivé à tout moment depuis ce panneau.",
                activate_manager_confirm: "✅ Réactiver Gestionnaire: {managerId}?\n\nCeci va restaurer leur accès et permissions.",
                manager_activated_success: "✅ Gestionnaire Réactivé\n\n👤 {managerId} peut maintenant se connecter et accéder à leurs modules assignés.",
                delete_manager_confirm: "❌ Supprimer Gestionnaire: {managerId}?\n\n⚠️ ATTENTION: Cette action ne peut pas être annulée!\n\nCeci va:\n• Supprimer définitivement le gestionnaire\n• Supprimer tous les enregistrements d'accès\n• Supprimer les assignations de modules\n\nContinuer?",
                manager_deleted_success: "✅ Gestionnaire Supprimé\n\n👤 {managerId} a été définitivement supprimé du système.",
                
                // Future Module System
                add_new_module: "Ajouter Nouveau Module",
                module_name: "Nom du Module",
                module_description: "Description du Module",
                module_icon: "Icône du Module",
                module_color: "Couleur du Module",
                module_category: "Catégorie du Module",
                enable_module: "Activer Module",
                disable_module: "Désactiver Module",
                module_settings: "Paramètres Module",
                custom_module: "Module Personnalisé",
                system_module: "Module Système",
                
                // Admin Content Management
                manage_translations: "Gérer les Traductions",
                add_translation: "Ajouter Traduction",
                translation_key: "Clé de Traduction",
                english_text: "Texte Anglais",
                french_text: "Texte Français",
                save_translation: "Sauvegarder Traduction",
                translation_saved: "Traduction sauvegardée avec succès!",
                translation_updated: "Traduction mise à jour avec succès!",
                translation_deleted: "Traduction supprimée avec succès!",
                
                // Welcome Page Footer
                welcome_description: "Découvrez Limbe, la perle du Cameroun. Réservez des hôtels, explorez les attractions, trouvez des emplois et bien plus encore.",
                hotels_booking: "Réservation d'hôtels",
                tourism_guide: "Guide touristique", 
                job_search: "Recherche d'emploi",
                local_shopping: "Shopping local",
                terms_conditions: "Conditions d'utilisation",
                contact_us: "Contactez-nous",
                app_version: "Version 2.0",
                admin_login: "Connexion Admin",
                
                // Modern Welcome Page
                welcome_to: "Bienvenue à",
                discover_more: "Découvrir plus",
                hotels_available: "Hôtels disponibles",
                local_businesses: "Entreprises locales",
                support: "Support",
                what_we_offer: "Ce que nous offrons",
                hotels_desc: "Réservez les meilleurs hôtels de Limbe avec des tarifs compétitifs",
                tourism_desc: "Découvrez les attractions incontournables et les sites cachés",
                job_opportunities: "Opportunités d'emploi",
                jobs_desc: "Trouvez des emplois locaux et développez votre carrière",
                shopping_desc: "Achetez des produits locaux authentiques et artisanaux",
                events: "Événements",
                events_desc: "Participez aux événements culturels et festivals locaux",
                support_24_7: "Support 24/7",
                support_desc: "Assistance client disponible à tout moment",
                ready_to_start: "Prêt à commencer votre aventure?",
                join_community: "Rejoignez notre communauté et découvrez tout ce que Limbe a à offrir",
                create_account: "Créer un compte",
                admin_access: "Accès Admin",
                footer_tagline: "Votre porte d'entrée vers la beauté du Cameroun",
                quick_links: "Liens rapides",
                privacy_policy: "Politique de confidentialité",
                services: "Services",
                hotel_reservations: "Réservations d'hôtels",
                tour_guides: "Guides touristiques",
                local_experiences: "Expériences locales",
                all_rights_reserved: "Tous droits réservés.",
            }
        };
        
        // =============================================
        // 🛡️ ADVANCED SECURITY MODULE
        // =============================================
        
        const SecurityManager = {
            // Rate limiting storage
            attempts: new Map(),
            maxAttempts: 5,
            lockoutTime: 15 * 60 * 1000, // 15 minutes
            
            // Security logs
            logs: [],
            maxLogs: 1000,
            
            // 2FA settings
            twoFactorEnabled: false,
            
            // Initialize security system
            init() {
                this.startSecurityMonitoring();
                this.loadSecuritySettings();
                this.preventBasicAttacks();
                console.log('🛡️ Security Manager initialized');
            },
            
            // Check rate limiting
            checkRateLimit(identifier, action = 'general') {
                const key = `${identifier}_${action}`;
                const now = Date.now();
                
                if (!this.attempts.has(key)) {
                    this.attempts.set(key, { count: 0, firstAttempt: now, lockedUntil: 0 });
                }
                
                const attemptData = this.attempts.get(key);
                
                // Check if still locked
                if (attemptData.lockedUntil > now) {
                    const remainingTime = Math.ceil((attemptData.lockedUntil - now) / 1000);
                    this.logSecurityEvent('RATE_LIMIT_VIOLATION', { identifier, action, remainingTime });
                    return { allowed: false, remaining: remainingTime };
                }
                
                // Reset if lockout period has passed
                if (attemptData.lockedUntil > 0 && attemptData.lockedUntil <= now) {
                    attemptData.count = 0;
                    attemptData.lockedUntil = 0;
                    attemptData.firstAttempt = now;
                }
                
                // Increment attempt count
                attemptData.count++;
                
                // Check if exceeded max attempts
                if (attemptData.count > this.maxAttempts) {
                    attemptData.lockedUntil = now + this.lockoutTime;
                    this.logSecurityEvent('RATE_LIMIT_EXCEEDED', { identifier, action, attempts: attemptData.count });
                    return { allowed: false, remaining: Math.ceil(this.lockoutTime / 1000) };
                }
                
                return { allowed: true, attemptsLeft: this.maxAttempts - attemptData.count };
            },
            
            // Reset attempts for successful actions
            resetAttempts(identifier, action = 'general') {
                const key = `${identifier}_${action}`;
                this.attempts.delete(key);
            },
            
            // Log security events
            logSecurityEvent(type, data = {}) {
                const event = {
                    id: Date.now() + Math.random(),
                    timestamp: new Date().toISOString(),
                    type,
                    data: {
                        ...data,
                        userAgent: navigator.userAgent,
                        ip: 'client-side', // Would be server-side in production
                        url: window.location.href
                    }
                };
                
                this.logs.unshift(event);
                
                // Keep only recent logs
                if (this.logs.length > this.maxLogs) {
                    this.logs = this.logs.slice(0, this.maxLogs);
                }
                
                // Store in localStorage for persistence
                this.saveSecurityLogs();
                
                // Alert on critical events
                if (['RATE_LIMIT_EXCEEDED', 'SUSPICIOUS_ACTIVITY', 'XSS_ATTEMPT'].includes(type)) {
                    this.alertSecurity(event);
                }
                
                console.log(`🔒 Security Event: ${type}`, data);
            },
            
            // Start security monitoring
            startSecurityMonitoring() {
                // Monitor for suspicious patterns
                let clickCount = 0;
                let lastClickTime = 0;
                
                document.addEventListener('click', (e) => {
                    const now = Date.now();
                    if (now - lastClickTime < 100) { // Very fast clicking
                        clickCount++;
                        if (clickCount > 10) {
                            this.logSecurityEvent('SUSPICIOUS_ACTIVITY', { 
                                type: 'rapid_clicking', 
                                clicks: clickCount,
                                element: e.target.tagName 
                            });
                            clickCount = 0;
                        }
                    } else {
                        clickCount = 0;
                    }
                    lastClickTime = now;
                });
                
                // Monitor console access (potential developer tools)
                let devToolsOpen = false;
                setInterval(() => {
                    const before = Date.now();
                    console.clear();
                    const after = Date.now();
                    if (after - before > 100 && !devToolsOpen) {
                        devToolsOpen = true;
                        this.logSecurityEvent('DEV_TOOLS_DETECTED', { detected: true });
                    }
                }, 5000);
                
                // Monitor for XSS attempts
                const originalAlert = window.alert;
                window.alert = (message) => {
                    this.logSecurityEvent('XSS_ATTEMPT', { message: String(message).substring(0, 100) });
                    return originalAlert(message);
                };
            },
            
            // Prevent basic attacks
            preventBasicAttacks() {
                // Disable right-click context menu (basic protection)
                document.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    this.logSecurityEvent('RIGHT_CLICK_DISABLED', { element: e.target.tagName });
                });
                
                // Disable F12, Ctrl+Shift+I, Ctrl+U
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'F12' || 
                        (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                        (e.ctrlKey && e.key === 'u')) {
                        e.preventDefault();
                        this.logSecurityEvent('DEV_TOOLS_ATTEMPT', { key: e.key, ctrl: e.ctrlKey, shift: e.shiftKey });
                        this.showSecurityWarning();
                    }
                });
                
                // Disable text selection (basic protection)
                document.addEventListener('selectstart', (e) => {
                    if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                    }
                });
            },
            
            // Show security warning
            showSecurityWarning() {
                const warning = document.createElement('div');
                warning.className = 'security-warning';
                warning.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: linear-gradient(135deg, #dc2626, #991b1b);
                    color: white;
                    padding: 2rem;
                    border-radius: 12px;
                    box-shadow: 0 20px 40px rgba(220, 38, 38, 0.3);
                    z-index: 999999;
                    text-align: center;
                    max-width: 400px;
                    animation: securityPulse 0.5s ease;
                `;
                
                warning.innerHTML = `
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🛡️</div>
                    <h3 style="margin-bottom: 1rem; color: white;">Accès Sécurisé</h3>
                    <p style="margin-bottom: 1.5rem; opacity: 0.9;">
                        Cette application est protégée par des mesures de sécurité avancées.
                        L'accès aux outils de développement est restreint.
                    </p>
                    <button onclick="this.parentElement.remove()" style="
                        background: white;
                        color: #dc2626;
                        border: none;
                        padding: 0.75rem 1.5rem;
                        border-radius: 6px;
                        font-weight: bold;
                        cursor: pointer;
                    ">Compris</button>
                `;
                
                document.body.appendChild(warning);
                
                setTimeout(() => {
                    if (warning.parentElement) {
                        warning.remove();
                    }
                }, 5000);
            },
            
            // Save security logs
            saveSecurityLogs() {
                try {
                    const recentLogs = this.logs.slice(0, 100); // Save only recent 100
                    localStorage.setItem('visitLimbe_security_logs', JSON.stringify(recentLogs));
                } catch (e) {
                    console.warn('Could not save security logs:', e);
                }
            },
            
            // Load security settings
            loadSecuritySettings() {
                try {
                    const logs = localStorage.getItem('visitLimbe_security_logs');
                    if (logs) {
                        this.logs = JSON.parse(logs);
                    }
                    
                    const settings = localStorage.getItem('visitLimbe_security_settings');
                    if (settings) {
                        const parsed = JSON.parse(settings);
                        this.twoFactorEnabled = parsed.twoFactorEnabled || false;
                    }
                } catch (e) {
                    console.warn('Could not load security settings:', e);
                }
            },
            
            // Alert security team (in production, this would be server-side)
            alertSecurity(event) {
                // In production, send to security monitoring service
                console.warn('🚨 SECURITY ALERT:', event);
                
                // Show admin notification if admin is logged in
                if (window.currentUser && window.currentUser.role === 'admin') {
                    this.showAdminSecurityAlert(event);
                }
            },
            
            // Show admin security alert
            showAdminSecurityAlert(event) {
                const alert = document.createElement('div');
                alert.className = 'admin-security-alert';
                alert.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #fbbf24, #f59e0b);
                    color: #92400e;
                    padding: 1rem;
                    border-radius: 8px;
                    box-shadow: 0 8px 20px rgba(251, 191, 36, 0.3);
                    z-index: 10000;
                    max-width: 350px;
                    font-size: 0.9rem;
                    animation: slideIn 0.3s ease;
                `;
                
                alert.innerHTML = `
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <span style="font-size: 1.2rem; margin-right: 0.5rem;">🚨</span>
                        <strong>Alerte Sécurité</strong>
                    </div>
                    <div style="font-size: 0.85rem; opacity: 0.9;">
                        <strong>Type:</strong> ${event.type}<br>
                        <strong>Heure:</strong> ${new Date(event.timestamp).toLocaleTimeString()}
                    </div>
                `;
                
                document.body.appendChild(alert);
                
                setTimeout(() => {
                    if (alert.parentElement) {
                        alert.style.animation = 'slideOut 0.3s ease';
                        setTimeout(() => alert.remove(), 300);
                    }
                }, 8000);
            },
            
            // Enhanced login security
            secureLogin(email, password) {
                const identifier = email || 'unknown';
                
                // Check rate limiting
                const rateCheck = this.checkRateLimit(identifier, 'login');
                if (!rateCheck.allowed) {
                    throw new Error(`Trop de tentatives. Réessayez dans ${rateCheck.remaining} secondes.`);
                }
                
                // Log login attempt
                this.logSecurityEvent('LOGIN_ATTEMPT', { email: identifier, success: false });
                
                return rateCheck;
            },
            
            // Login success handler
            onLoginSuccess(email) {
                this.resetAttempts(email, 'login');
                this.logSecurityEvent('LOGIN_SUCCESS', { email });
            },
            
            // Login failure handler
            onLoginFailure(email, reason) {
                this.logSecurityEvent('LOGIN_FAILURE', { email, reason });
            },
            
            // Get security dashboard data
            getSecurityDashboard() {
                const recent = this.logs.filter(log => 
                    Date.now() - new Date(log.timestamp).getTime() < 24 * 60 * 60 * 1000
                );
                
                const eventCounts = recent.reduce((acc, log) => {
                    acc[log.type] = (acc[log.type] || 0) + 1;
                    return acc;
                }, {});
                
                return {
                    totalEvents: recent.length,
                    eventTypes: eventCounts,
                    recentEvents: recent.slice(0, 10),
                    activeLockouts: Array.from(this.attempts.entries())
                        .filter(([_, data]) => data.lockedUntil > Date.now())
                        .map(([key, data]) => ({
                            identifier: key,
                            lockedUntil: new Date(data.lockedUntil),
                            attempts: data.count
                        }))
                };
            }
        };
        
        // Add security animation styles
        if (!document.querySelector('#security-styles')) {
            const style = document.createElement('style');
            style.id = 'security-styles';
            style.textContent = `
                @keyframes securityPulse {
                    0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
                    50% { transform: translate(-50%, -50%) scale(1.05); }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
                
                .security-warning {
                    user-select: none;
                    -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                }
            `;
            document.head.appendChild(style);
        }
        
        // Initialize security system on page load
        document.addEventListener('DOMContentLoaded', function() {
            SecurityManager.init();
        });
        
        // =============================================
        // 🛡️ SECURITY DASHBOARD FUNCTIONS
        // =============================================
        
        function showSecurityDashboard() {
            const dashboardData = SecurityManager.getSecurityDashboard();
            
            const content = `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>🛡️ Tableau de Bord Sécurité</h5>
                        <p>Monitoring en temps réel des événements de sécurité</p>
                    </div>
                    <div class="admin-section-content">
                        
                        <!-- Security Statistics -->
                        <div class="row mb-4">
                            <div class="col-md-3">
                                <div class="admin-stat-card">
                                    <h6>Événements 24h</h6>
                                    <div class="stat-number">${dashboardData.totalEvents}</div>
                                    <small>Activité de sécurité</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="admin-stat-card">
                                    <h6>Tentatives Login</h6>
                                    <div class="stat-number">${dashboardData.eventTypes.LOGIN_ATTEMPT || 0}</div>
                                    <small class="text-warning">Connexions tentées</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="admin-stat-card">
                                    <h6>Comptes Bloqués</h6>
                                    <div class="stat-number">${dashboardData.activeLockouts.length}</div>
                                    <small class="text-danger">Temporairement verrouillés</small>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="admin-stat-card">
                                    <h6>Alertes Actives</h6>
                                    <div class="stat-number">${(dashboardData.eventTypes.RATE_LIMIT_EXCEEDED || 0) + (dashboardData.eventTypes.SUSPICIOUS_ACTIVITY || 0)}</div>
                                    <small class="text-danger">Menaces détectées</small>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Security Events -->
                        <div class="card">
                            <div class="card-header">
                                <h6>📋 Événements Récents</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-sm">
                                        <thead>
                                            <tr>
                                                <th>Heure</th>
                                                <th>Type</th>
                                                <th>Détails</th>
                                                <th>Statut</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${dashboardData.recentEvents.map(event => `
                                                <tr>
                                                    <td><small>${new Date(event.timestamp).toLocaleTimeString()}</small></td>
                                                    <td>
                                                        <span class="badge ${getEventTypeBadgeClass(event.type)}">
                                                            ${event.type}
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <small>${getEventDescription(event)}</small>
                                                    </td>
                                                    <td>
                                                        <span class="badge ${getEventStatusBadge(event.type)}">
                                                            ${getEventStatus(event.type)}
                                                        </span>
                                                    </td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            `;
            
            // Show content
            document.querySelector('.admin-content-area').innerHTML = content;
        }
        
        function getEventTypeBadgeClass(type) {
            const classes = {
                'LOGIN_SUCCESS': 'bg-success',
                'LOGIN_FAILURE': 'bg-danger', 
                'LOGIN_ATTEMPT': 'bg-info',
                'RATE_LIMIT_EXCEEDED': 'bg-danger',
                'SUSPICIOUS_ACTIVITY': 'bg-warning',
                'DEV_TOOLS_DETECTED': 'bg-secondary',
                'ADMIN_LOGIN': 'bg-primary'
            };
            return classes[type] || 'bg-secondary';
        }
        
        function getEventDescription(event) {
            const descriptions = {
                'LOGIN_SUCCESS': `✅ ${event.data.email || 'User'} connecté`,
                'LOGIN_FAILURE': `❌ Échec connexion ${event.data.email || 'Unknown'}`,
                'LOGIN_ATTEMPT': `🔑 Tentative ${event.data.email || 'Unknown'}`,
                'RATE_LIMIT_EXCEEDED': `🚫 Limite dépassée`,
                'SUSPICIOUS_ACTIVITY': `⚠️ Activité suspecte`,
                'DEV_TOOLS_DETECTED': `🔧 Outils développeur`,
                'ADMIN_LOGIN': `👑 Connexion admin`
            };
            return descriptions[event.type] || event.type;
        }
        
        function getEventStatus(type) {
            const status = {
                'LOGIN_SUCCESS': 'AUTORISÉ',
                'LOGIN_FAILURE': 'REFUSÉ',
                'LOGIN_ATTEMPT': 'EN COURS',
                'RATE_LIMIT_EXCEEDED': 'BLOQUÉ',
                'SUSPICIOUS_ACTIVITY': 'ALERTE',
                'DEV_TOOLS_DETECTED': 'SURVEILLÉ',
                'ADMIN_LOGIN': 'SÉCURISÉ'
            };
            return status[type] || 'INCONNU';
        }
        
        function getEventStatusBadge(type) {
            const badges = {
                'LOGIN_SUCCESS': 'bg-success',
                'LOGIN_FAILURE': 'bg-danger',
                'LOGIN_ATTEMPT': 'bg-info', 
                'RATE_LIMIT_EXCEEDED': 'bg-danger',
                'SUSPICIOUS_ACTIVITY': 'bg-warning',
                'DEV_TOOLS_DETECTED': 'bg-secondary',
                'ADMIN_LOGIN': 'bg-primary'
            };
            return badges[type] || 'bg-secondary';
        }
        
        function showSecurityLogs() {
            const logs = SecurityManager.logs.slice(0, 100);
            
            const content = `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>📋 Journaux de Sécurité</h5>
                        <p>Historique complet des événements de sécurité</p>
                    </div>
                    <div class="admin-section-content">
                        <div class="card">
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Timestamp</th>
                                                <th>Type</th>
                                                <th>Utilisateur</th>
                                                <th>Détails</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${logs.map(log => `
                                                <tr>
                                                    <td><small>${new Date(log.timestamp).toLocaleString()}</small></td>
                                                    <td>
                                                        <span class="badge ${getEventTypeBadgeClass(log.type)}">
                                                            ${log.type}
                                                        </span>
                                                    </td>
                                                    <td><small>${log.data.email || log.data.identifier || 'N/A'}</small></td>
                                                    <td><small>${JSON.stringify(log.data).substr(0, 100)}...</small></td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.querySelector('.admin-content-area').innerHTML = content;
        }
        
        function showSecuritySettings() {
            const content = `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>⚙️ Paramètres de Sécurité</h5>
                        <p>Configuration des mesures de sécurité avancées</p>
                    </div>
                    <div class="admin-section-content">
                        <div class="card">
                            <div class="card-header">
                                <h6>🚫 Limitation du Taux de Requêtes</h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="form-label">Tentatives Maximum</label>
                                        <input type="number" class="form-control" value="${SecurityManager.maxAttempts}">
                                        <small class="text-muted">Nombre de tentatives avant blocage</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Durée de Blocage (minutes)</label>
                                        <input type="number" class="form-control" value="${SecurityManager.lockoutTime / (60 * 1000)}">
                                        <small class="text-muted">Temps de verrouillage après dépassement</small>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-primary" onclick="saveSecuritySettings()">
                                        💾 Sauvegarder
                                    </button>
                                    <button class="btn btn-warning" onclick="resetAllSecurityData()">
                                        🔄 Reset Données
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.querySelector('.admin-content-area').innerHTML = content;
        }
        
        function showSecurityAlerts() {
            const dashboardData = SecurityManager.getSecurityDashboard();
            const alerts = SecurityManager.logs.filter(log => 
                ['RATE_LIMIT_EXCEEDED', 'SUSPICIOUS_ACTIVITY', 'DEV_TOOLS_DETECTED'].includes(log.type)
            ).slice(0, 50);
            
            const content = `
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h5>⚠️ Alertes de Sécurité Actives</h5>
                        <p>Menaces et activités suspectes détectées</p>
                    </div>
                    <div class="admin-section-content">
                        <div class="card">
                            <div class="card-body">
                                ${alerts.length > 0 ? `
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Heure</th>
                                                    <th>Niveau</th>
                                                    <th>Type</th>
                                                    <th>Description</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                ${alerts.map(alert => `
                                                    <tr>
                                                        <td><small>${new Date(alert.timestamp).toLocaleString()}</small></td>
                                                        <td><span class="badge bg-danger">CRITIQUE</span></td>
                                                        <td><span class="badge ${getEventTypeBadgeClass(alert.type)}">${alert.type}</span></td>
                                                        <td><small>${getEventDescription(alert)}</small></td>
                                                        <td>
                                                            <button class="btn btn-sm btn-outline-primary">Analyser</button>
                                                        </td>
                                                    </tr>
                                                `).join('')}
                                            </tbody>
                                        </table>
                                    </div>
                                ` : '<p class="text-success text-center">✅ Aucune alerte de sécurité active</p>'}
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.querySelector('.admin-content-area').innerHTML = content;
        }
        
        function saveSecuritySettings() {
            showNotification('✅ Paramètres de sécurité sauvegardés', 'success');
        }
        
        function resetAllSecurityData() {
            if (confirm('⚠️ Êtes-vous sûr de vouloir réinitialiser toutes les données de sécurité ?')) {
                SecurityManager.attempts.clear();
                SecurityManager.logs = [];
                SecurityManager.saveSecurityLogs();
                showNotification('✅ Données de sécurité réinitialisées', 'success');
            }
        }
        
        // Translation helper function
        function t(key, params = {}) {
            let text = (translations[currentLanguage] && translations[currentLanguage][key]) 
                      ? translations[currentLanguage][key] 
                      : key;
            
            // Replace parameters in text
            Object.keys(params).forEach(param => {
                text = text.replace(new RegExp(`{${param}}`, 'g'), params[param]);
            });
            
            return text;
        }
        
        // Enhanced alert with translation support
        function showTranslatedAlert(messageKey, params = {}) {
            const message = t(messageKey, params);
            alert(message);
        }
        
        // Enhanced confirm with translation support
        function showTranslatedConfirm(messageKey, params = {}) {
            const message = t(messageKey, params);
            return confirm(message);
        }
        
        // Dynamic translation management for admin
        function openTranslationManager() {
            const modal = document.createElement('div');
            modal.id = 'translationManagerModal';
            modal.className = 'modal';
            modal.style.display = 'flex';
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 800px; width: 95%;">
                    <div class="modal-header">
                        <h5>${t('manage_translations')}</h5>
                        <button class="close-btn" onclick="closeTranslationManager()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="translation-controls mb-3">
                            <button class="btn btn-primary" onclick="showAddTranslationForm()">
                                <i class="fas fa-plus"></i> ${t('add_translation')}
                            </button>
                        </div>
                        <div id="translationsList">
                            ${generateTranslationsList()}
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function generateTranslationsList() {
            const keys = Object.keys(translations.en);
            return `
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>${t('translation_key')}</th>
                                <th>${t('english_text')}</th>
                                <th>${t('french_text')}</th>
                                <th>${t('actions')}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${keys.map(key => `
                                <tr>
                                    <td><code>${key}</code></td>
                                    <td>${translations.en[key]}</td>
                                    <td>${translations.fr[key] || 'Missing'}</td>
                                    <td>
                                        <button class="btn btn-sm btn-outline-primary" onclick="editTranslation('${key}')">
                                            ${t('edit')}
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }
        
        function showAddTranslationForm() {
            const form = document.createElement('div');
            form.innerHTML = `
                <div class="translation-form" style="background: #f8f9fa; padding: 20px; margin: 20px 0; border-radius: 8px;">
                    <h6>${t('add_translation')}</h6>
                    <form onsubmit="saveNewTranslation(event)">
                        <div class="form-group">
                            <label>${t('translation_key')}</label>
                            <input type="text" name="key" class="form-control" placeholder="e.g., new_feature_title" required>
                        </div>
                        <div class="form-group">
                            <label>${t('english_text')}</label>
                            <input type="text" name="en_text" class="form-control" placeholder="English text" required>
                        </div>
                        <div class="form-group">
                            <label>${t('french_text')}</label>
                            <input type="text" name="fr_text" class="form-control" placeholder="Texte français" required>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success">${t('save_translation')}</button>
                            <button type="button" class="btn btn-secondary" onclick="hideAddTranslationForm()">${t('cancel')}</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.getElementById('translationsList').insertBefore(form.firstElementChild, document.getElementById('translationsList').firstChild);
        }
        
        function saveNewTranslation(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const key = formData.get('key');
            const enText = formData.get('en_text');
            const frText = formData.get('fr_text');
            
            // Add to translations object
            translations.en[key] = enText;
            translations.fr[key] = frText;
            
            // Save to localStorage for persistence
            localStorage.setItem('customTranslations', JSON.stringify({
                en: translations.en,
                fr: translations.fr
            }));
            
            showTranslatedAlert('translation_saved');
            closeTranslationManager();
            openTranslationManager(); // Refresh the list
        }
        
        function closeTranslationManager() {
            const modal = document.getElementById('translationManagerModal');
            if (modal) {
                document.body.removeChild(modal);
            }
        }
        
        // Load custom translations from localStorage
        function loadCustomTranslations() {
            const saved = localStorage.getItem('customTranslations');
            if (saved) {
                const customTrans = JSON.parse(saved);
                Object.assign(translations.en, customTrans.en);
                Object.assign(translations.fr, customTrans.fr);
            }
        }
        
        // Future Module Creation with Translation Support
        function createNewModule() {
            const modal = document.createElement('div');
            modal.id = 'newModuleModal';
            modal.className = 'modal';
            modal.style.display = 'flex';
            
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 600px; width: 90%;">
                    <div class="modal-header">
                        <h5>${t('add_new_module')}</h5>
                        <button class="close-btn" onclick="closeNewModuleForm()">&times;</button>
                    </div>
                    <form onsubmit="saveNewModule(event)" class="modal-body">
                        <div class="form-group">
                            <label>${t('module_name')}</label>
                            <input type="text" name="name_en" class="form-control" placeholder="${t('english_text')}" required>
                            <input type="text" name="name_fr" class="form-control mt-2" placeholder="${t('french_text')}" required>
                        </div>
                        <div class="form-group">
                            <label>${t('module_description')}</label>
                            <textarea name="desc_en" class="form-control" placeholder="${t('english_text')}" required></textarea>
                            <textarea name="desc_fr" class="form-control mt-2" placeholder="${t('french_text')}" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>${t('module_icon')}</label>
                            <input type="text" name="icon" class="form-control" placeholder="fas fa-icon-name" required>
                        </div>
                        <div class="form-group">
                            <label>${t('module_color')}</label>
                            <input type="color" name="color" class="form-control" value="#007bff" required>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="closeNewModuleForm()">${t('cancel')}</button>
                            <button type="submit" class="btn btn-primary">${t('save')}</button>
                        </div>
                    </form>
                </div>
            `;
            
            document.body.appendChild(modal);
        }
        
        function saveNewModule(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const moduleData = Object.fromEntries(formData);
            
            // Generate unique module key
            const moduleKey = moduleData.name_en.toLowerCase().replace(/[^a-z0-9]/g, '_');
            
            // Add translations for the new module
            translations.en[moduleKey] = moduleData.name_en;
            translations.fr[moduleKey] = moduleData.name_fr;
            translations.en[moduleKey + '_desc'] = moduleData.desc_en;
            translations.fr[moduleKey + '_desc'] = moduleData.desc_fr;
            
            // Save to localStorage
            localStorage.setItem('customTranslations', JSON.stringify({
                en: translations.en,
                fr: translations.fr
            }));
            
            // Save module configuration
            const modules = JSON.parse(localStorage.getItem('customModules') || '[]');
            modules.push({
                key: moduleKey,
                icon: moduleData.icon,
                color: moduleData.color,
                created: new Date().toISOString()
            });
            localStorage.setItem('customModules', JSON.stringify(modules));
            
            showTranslatedAlert('translation_saved');
            closeNewModuleForm();
        }
        
        function closeNewModuleForm() {
            const modal = document.getElementById('newModuleModal');
            if (modal) {
                document.body.removeChild(modal);
            }
        }
        
        // Simple language toggle function
        function toggleLanguage() {
            console.log('toggleLanguage called, current language:', currentLanguage);
            const newLang = currentLanguage === 'fr' ? 'en' : 'fr';
            console.log('Switching to language:', newLang);
            switchLanguage(newLang);
            updateLanguageButton();
        }
        
        // Update language button display
        function updateLanguageButton() {
            const flagSpan = document.getElementById('currentLangFlag');
            const textSpan = document.getElementById('currentLangText');
            
            if (currentLanguage === 'fr') {
                if (flagSpan) flagSpan.textContent = '🇫🇷';
                if (textSpan) textSpan.textContent = 'FR';
            } else {
                if (flagSpan) flagSpan.textContent = '🇺🇸';
                if (textSpan) textSpan.textContent = 'EN';
            }
        }
        
        // Language switching function (single source of truth)
        function switchLanguage(lang) {
            console.log('Switching language to:', lang);
            currentLanguage = lang;
            localStorage.setItem('visitLimbeLanguage', lang);
            
            // Update all translated elements with data-translate attribute
            const elements = document.querySelectorAll('[data-translate]');
            console.log('Found', elements.length, 'elements with data-translate');
            
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    const translatedText = translations[lang][key];
                    
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translatedText;
                    } else {
                        element.textContent = translatedText;
                    }
                    console.log('Translated:', key, '→', translatedText);
                }
            });
            
            // Force update specific welcome page elements
            translateWelcomePageElements(lang);
            
            // Update all module titles and descriptions
            updateModuleTranslations(lang);
            
            // Update dashboard elements
            updateDashboardTranslations(lang);
            
            // Update language button
            updateLanguageButton();
            
            // Update language selector (if exists)
            const langSelect = document.getElementById('languageSelect');
            if (langSelect && langSelect.value !== lang) {
                langSelect.value = lang;
            }
            
            // Update admin settings language selector  
            const adminLangSelect = document.getElementById('settingsDefaultLang');
            if (adminLangSelect && adminLangSelect.value !== lang) {
                adminLangSelect.value = lang;
            }
            
            // Show success message
            const langName = lang === 'fr' ? 'Français' : 'English';
            showNotification(`✅ ${lang === 'fr' ? 'Langue changée vers' : 'Language changed to'} ${langName}`, 'success');
            
            console.log('Language switched to:', lang, '- Updated', elements.length, 'elements');
        }
        
        // Helper function to update welcome page elements specifically
        function translateWelcomePageElements(lang) {
            // Helper function to get translation
            function t(key) {
                return translations[lang] && translations[lang][key] ? translations[lang][key] : key;
            }
            
            // Hero section
            const welcomeSpan = document.querySelector('[data-translate="welcome_to"]');
            const titleH1 = document.querySelector('[data-translate="visit_limbe"]');
            const subtitleP = document.querySelector('[data-translate="explore_beauty"]');
            const startBtn = document.querySelector('[data-translate="get_started"]');
            const discoverBtn = document.querySelector('[data-translate="discover_more"]');
            
            if (welcomeSpan) welcomeSpan.textContent = t('welcome_to');
            if (titleH1) titleH1.textContent = t('visit_limbe');
            if (subtitleP) subtitleP.textContent = t('explore_beauty');
            if (startBtn) startBtn.textContent = t('get_started');
            if (discoverBtn) discoverBtn.textContent = t('discover_more');
            
            // Features section
            const hotelFeatureTitle = document.querySelector('.feature-item h4[data-translate="hotels_booking"]');
            const tourismFeatureTitle = document.querySelector('.feature-item h4[data-translate="tourism_guide"]');
            const jobFeatureTitle = document.querySelector('.feature-item h4[data-translate="job_search"]');
            const shoppingFeatureTitle = document.querySelector('.feature-item h4[data-translate="local_shopping"]');
            
            if (hotelFeatureTitle) hotelFeatureTitle.textContent = t('hotels_booking');
            if (tourismFeatureTitle) tourismFeatureTitle.textContent = t('tourism_guide');
            if (jobFeatureTitle) jobFeatureTitle.textContent = t('job_search');
            if (shoppingFeatureTitle) shoppingFeatureTitle.textContent = t('local_shopping');
            
            // Update all data-translate elements specifically
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                const translation = t(key);
                if (translation && translation !== key) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.placeholder = translation;
                    } else {
                        el.textContent = translation;
                    }
                }
            });
            
            console.log('Welcome page elements translated to:', lang);
        }
        
        // Helper function to update module translations
        function updateModuleTranslations(lang) {
            // Helper function to get translation
            function t(key) {
                return translations[lang] && translations[lang][key] ? translations[lang][key] : key;
            }
            
            // Update all module elements with data-translate attributes
            const moduleElements = document.querySelectorAll('[data-translate]');
            moduleElements.forEach(el => {
                const key = el.getAttribute('data-translate');
                const translation = t(key);
                if (translation && translation !== key) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.placeholder = translation;
                    } else {
                        el.textContent = translation;
                    }
                }
            });
            
            console.log('Module translations updated to:', lang);
        }
        
        // Helper function to update dashboard translations
        function updateDashboardTranslations(lang) {
            // Update common dashboard elements
            const welcomeElements = document.querySelectorAll('.dashboard-header h2, .user-welcome');
            welcomeElements.forEach(el => {
                if (el.textContent.includes('Welcome') || el.textContent.includes('Bienvenue')) {
                    el.textContent = lang === 'fr' ? 'Bienvenue!' : 'Welcome back!';
                }
            });
            
            // Update buttons and actions
            const buttonElements = document.querySelectorAll('button, .btn');
            buttonElements.forEach(btn => {
                const text = btn.textContent.trim();
                if (text === 'Save' || text === 'Enregistrer') {
                    btn.textContent = t('save');
                } else if (text === 'Cancel' || text === 'Annuler') {
                    btn.textContent = t('cancel');
                } else if (text === 'Delete' || text === 'Supprimer') {
                    btn.textContent = t('delete');
                }
            });
        }
        
        // Force update all welcome page translations  
        function forceUpdateWelcomeTranslations() {
            console.log('Forcing welcome page translation update for:', currentLanguage);
            
            // Update all elements with data-translate attributes
            const translatableElements = document.querySelectorAll('[data-translate]');
            translatableElements.forEach(element => {
                const key = element.getAttribute('data-translate');
                const translation = t(key);
                
                if (translation && translation !== key) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translation;
                    } else {
                        element.textContent = translation;
                    }
                    console.log('Updated element:', key, '→', translation);
                }
            });
            
            // Force specific welcome page elements
            const welcomeElements = {
                '.hero-title': t('visit_limbe'),
                '.hero-subtitle': t('explore_beauty'),
                'span[data-translate="welcome_to"]': t('welcome_to'),
                'span[data-translate="get_started"]': t('get_started'),
                'h3[data-translate="hotels_booking"]': t('hotels_booking'),
                'h3[data-translate="tourism_guide"]': t('tourism_guide'),
                'h3[data-translate="job_search"]': t('job_search'),
                'h3[data-translate="local_shopping"]': t('local_shopping')
            };
            
            Object.entries(welcomeElements).forEach(([selector, translation]) => {
                const element = document.querySelector(selector);
                if (element && translation) {
                    element.textContent = translation;
                    console.log('Force updated:', selector, '→', translation);
                }
            });
            
            console.log('Welcome page translation update completed');
        }

    // Enhanced show welcome page function with translation support (renamed to avoid overriding canonical)
    function showWelcomePageTranslations() {
            hideLoadingScreen();
            
            // Show welcome page
            document.getElementById('welcomePage').style.display = 'block';
            document.getElementById('userDashboard').style.display = 'none';
            document.getElementById('adminDashboard').style.display = 'none';
            
            // Apply translations immediately
            setTimeout(() => {
                forceUpdateWelcomeTranslations();
            }, 50);
            
            console.log('Welcome page (translations-only helper) executed');
        }
        
        // Simple notification function
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 1rem 1.5rem;
                background: ${type === 'success' ? '#10b981' : '#3b82f6'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 10000;
                max-width: 300px;
                font-size: 0.9rem;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }
        
        // Enhanced function to update default language from admin settings
        function updateDefaultLanguage(lang) {
            console.log('Admin updating default language to:', lang);
            currentLanguage = lang;
            localStorage.setItem('visitLimbeLanguage', lang);
            
            // Update main language selector
            const mainLangSelect = document.getElementById('languageSelect');
            if (mainLangSelect && mainLangSelect.value !== lang) {
                mainLangSelect.value = lang;
            }
            
            // Apply translations immediately
            switchLanguage(lang);
            
            // Show success message
            const langName = lang === 'fr' ? 'Français' : 'English';
            showNotification(`✅ ${lang === 'fr' ? 'Langue par défaut mise à jour vers' : 'Default language updated to'} ${langName}`, 'success');
        }
        
        // Add CSS animation styles for notifications
        if (!document.querySelector('#notification-styles')) {
            const style = document.createElement('style');
            style.id = 'notification-styles';
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }
        
        // Update all text elements with translations
        function updateAllTranslations() {
            console.log('Updating translations for language:', currentLanguage);
            const elements = document.querySelectorAll('[data-translate]');
            
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    const translatedText = translations[currentLanguage][key];
                    
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translatedText;
                    } else {
                        element.textContent = translatedText;
                    }
                    
                    console.log('Translated:', key, '→', translatedText);
                } else {
                    console.log('Missing translation for:', key, 'in', currentLanguage);
                }
            });
            
            console.log('Updated', elements.length, 'elements');
        }
        
        // Update dynamic content when language changes
        function updateDynamicContent() {
            // Update any dynamic modals or forms that are currently open
            const dynamicElements = document.querySelectorAll('[data-dynamic-translate]');
            dynamicElements.forEach(element => {
                const key = element.getAttribute('data-dynamic-translate');
                element.textContent = t(key);
            });
        }
        
        // Introduction video functions
        function playIntroVideo() {
            document.getElementById('introVideoModal').style.display = 'block';
        }
        
        function closeIntroVideo() {
            document.getElementById('introVideoModal').style.display = 'none';
            const video = document.getElementById('introVideo');
            if (video) {
                video.pause();
            }
        }
        
        // Test function to manually trigger translations
        function testTranslations() {
            console.log('=== TESTING TRANSLATIONS ===');
            console.log('Current language:', currentLanguage);
            
            // Find all elements
            const title = document.querySelector('.welcome-title');
            const subtitle = document.querySelector('.welcome-subtitle');
            const button = document.querySelector('span[data-translate="get_started"]');
            
            console.log('Found title element:', title);
            console.log('Found subtitle element:', subtitle);
            console.log('Found button element:', button);
            
            if (title) console.log('Title current text:', title.textContent);
            if (subtitle) console.log('Subtitle current text:', subtitle.textContent);
            if (button) console.log('Button current text:', button.textContent);
            
            // Force translations
            translateWelcomePage();
        }
        
    // (removed duplicate switchLanguage)
        
        // Translate welcome page specifically
        function translateWelcomePage() {
            console.log('translateWelcomePage called, current language:', currentLanguage);
            
            if (currentLanguage === 'fr') {
                // French translations
                const title = document.querySelector('.welcome-title');
                const subtitle = document.querySelector('.welcome-subtitle');
                const button = document.querySelector('span[data-translate="get_started"]');
                
                if (title) {
                    title.textContent = 'Visitez Limbé';
                    console.log('Title updated to French');
                }
                if (subtitle) {
                    subtitle.textContent = 'Explorez la Beauté de la Côte Camerounaise';
                    console.log('Subtitle updated to French');
                }
                if (button) {
                    button.textContent = 'Commencer';
                    console.log('Button updated to French');
                }
                
            } else {
                // English translations
                const title = document.querySelector('.welcome-title');
                const subtitle = document.querySelector('.welcome-subtitle');
                const button = document.querySelector('span[data-translate="get_started"]');
                
                if (title) {
                    title.textContent = 'Visit Limbe';
                    console.log('Title updated to English');
                }
                if (subtitle) {
                    subtitle.textContent = 'Explore the Beauty of Cameroon\'s Coast';
                    console.log('Subtitle updated to English');
                }
                if (button) {
                    button.textContent = 'Get Started';
                    console.log('Button updated to English');
                }
            }
            
            console.log('Welcome page translation completed for:', currentLanguage);
        }

        // Translate all elements in the app with data-translate attributes
        function applyAllTranslations() {
            try {
                const elements = document.querySelectorAll('[data-translate]');
                elements.forEach(el => {
                    const key = el.getAttribute('data-translate');
                    // Prefer our translations object via helper t()
                    const value = t(key);
                    if (value && typeof value === 'string') {
                        // Preserve placeholders for inputs/placeholders
                        if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                            if (el.hasAttribute('placeholder')) {
                                el.setAttribute('placeholder', value);
                            } else {
                                el.value = value;
                            }
                        } else {
                            el.textContent = value;
                        }
                    }
                });
                console.log('applyAllTranslations completed for', elements.length, 'elements');
            } catch (e) {
                console.error('applyAllTranslations error:', e);
            }
            // Keep personalized parts up-to-date after translation
            try { if (typeof personalizeUserUI === 'function') personalizeUserUI(); } catch {}
        }
        
        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Load custom translations first
            loadCustomTranslations();
            
            // Load saved language preference
            const savedLang = localStorage.getItem('visitLimbeLanguage') || 'fr';
            currentLanguage = savedLang;
            
            // Update dropdown selection
            const langSelect = document.getElementById('languageSelect');
            if (langSelect) langSelect.value = currentLanguage;
            
            // Apply all translations immediately
            console.log('Initializing language system with:', currentLanguage);
            
            // Force apply translations to all elements
            setTimeout(() => {
                switchLanguage(currentLanguage);
                console.log('Language system initialized successfully');
            }, 100);
            
            // Load saved category images
            try { loadSavedCategoryImages(); } catch(e) { console.warn('Failed to load category images:', e); }

            // Apply any saved admin icon overrides to admin dashboard
            applyAdminIconOverrides();

            // Apply app settings on startup
            applyAppSettings();

            // Load latest intro video from backend (if configured)
            loadIntroVideoFromBackend();

            // Restore session and route
            try {
                const sRaw = localStorage.getItem('vl_session');
                if (sRaw) {
                    const s = JSON.parse(sRaw);
                    if (s.role === 'admin') {
                        showAdminDashboard();
                        // Show admin controls for all modules
                        const bookingAdm = document.getElementById('bookingAdminMediaSection');
                        const bookingAddBtn = document.getElementById('btnAddHotelBooking');
                        const shoppingAddBtn = document.getElementById('btnAddProduct');
                        const shoppingMediaSection = document.getElementById('shoppingMediaSection');
                        const healthMediaSection = document.getElementById('healthMediaSection');
                        const introUploadBtn = document.getElementById('introVideoUploadBtn');
                        
                        if (bookingAdm) bookingAdm.style.display = '';
                        if (bookingAddBtn) bookingAddBtn.style.display = '';
                        if (shoppingAddBtn) shoppingAddBtn.style.display = '';
                        if (shoppingMediaSection) shoppingMediaSection.style.display = 'block';
                        if (healthMediaSection) healthMediaSection.style.display = 'block';
                        if (introUploadBtn) introUploadBtn.style.display = '';
                    } else if (s.role === 'user') {
                        showUserDashboard();
                        // Show manager controls based on assigned modules
                        if (s.managerModules && Array.isArray(s.managerModules)) {
                            if (s.managerModules.includes('booking')) {
                                const bookingAdm = document.getElementById('bookingAdminMediaSection');
                                const bookingAddBtn = document.getElementById('btnAddHotelBooking');
                                if (bookingAdm) bookingAdm.style.display = '';
                                if (bookingAddBtn) bookingAddBtn.style.display = '';
                            }
                            if (s.managerModules.includes('shopping')) {
                                const shoppingAddBtn = document.getElementById('btnAddProduct');
                                const shoppingMediaSection = document.getElementById('shoppingMediaSection');
                                if (shoppingAddBtn) shoppingAddBtn.style.display = '';
                                if (shoppingMediaSection) shoppingMediaSection.style.display = 'block';
                            }
                            if (s.managerModules.includes('health')) {
                                const healthMediaSection = document.getElementById('healthMediaSection');
                                if (healthMediaSection) healthMediaSection.style.display = 'block';
                            }
                        }
                    }
                }
            } catch (e) { console.warn('Session restore failed', e); }
        });

        // ============== Admin App Settings ==============
        const allUserModules = [
            'booking','shopping','health','education','transport','culture','maps','gallery',
            'smartgro','streaming','realestate','services','finance','jobs','events','callcenter'
        ];

        function getAppSettings() {
            return JSON.parse(localStorage.getItem('appSettings') || '{}');
        }
        function saveAppSettings(settings) {
            localStorage.setItem('appSettings', JSON.stringify(settings));
        }
        function applyAppSettings() {
            const s = getAppSettings();
            // Features
            const ads = s.features?.ads ?? true;
            const intro = s.features?.introVideo ?? true;
            const notifications = s.features?.notifications ?? true;
            const offline = s.features?.offline ?? true;
            // Show/hide UI blocks
            const adsEl = document.querySelector('.ads-carousel');
            if (adsEl) adsEl.style.display = ads ? '' : 'none';
            const introEl = document.querySelector('.intro-video-dashboard');
            if (introEl) introEl.style.display = intro ? '' : 'none';
            // Modules visibility (user modules grid)
            const modulesGrid = document.getElementById('modulesGrid');
            if (modulesGrid && s.modules) {
                // When modules are rendered, hide disabled ones
                Array.from(modulesGrid.children).forEach(card => {
                    const key = card.getAttribute('data-module-key');
                    if (key && s.modules[key] === false) card.style.display = 'none'; else card.style.display = '';
                });
            }
            // Default language
            if (s.general?.defaultLang && s.general.defaultLang !== currentLanguage) {
                switchLanguage(s.general.defaultLang);
            }
            // Theme (simple body class toggle for now)
            document.body.classList.toggle('theme-dark', s.general?.theme === 'dark');
            console.log('Applied app settings');
        }
        function buildSettingsModulesGrid() {
            const grid = document.getElementById('settingsModulesGrid');
            if (!grid) return;
            const s = getAppSettings();
            const modState = s.modules || {};
            grid.innerHTML = allUserModules.map(key => `
                <div class="module-card" style="text-align:left;">
                    <div class="d-flex align-items-center justify-content-between">
                        <strong>${key}</strong>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" ${modState[key] !== false ? 'checked' : ''} onchange="toggleModuleSetting('${key}', this.checked)" />
                        </div>
                    </div>
                </div>
            `).join('');
        }
        function toggleModuleSetting(key, enabled) {
            const s = getAppSettings();
            s.modules = s.modules || {};
            s.modules[key] = enabled;
            saveAppSettings(s);
            applyAppSettings();
        }
        function loadAppSettingsToUI() {
            const s = getAppSettings();
            // General
            document.getElementById('settingsDefaultLang').value = s.general?.defaultLang || (localStorage.getItem('visitLimbeLanguage') || 'en');
            document.getElementById('settingsTheme').value = s.general?.theme || 'light';
            // Features
            document.getElementById('featAds').checked = s.features?.ads ?? true;
            document.getElementById('featIntroVideo').checked = s.features?.introVideo ?? true;
            document.getElementById('featNotifications').checked = s.features?.notifications ?? true;
            document.getElementById('featOffline').checked = s.features?.offline ?? true;
        }
        function saveAppSettingsFromUI() {
            const s = getAppSettings();
            s.general = s.general || {};
            s.features = s.features || {};
            s.general.defaultLang = document.getElementById('settingsDefaultLang').value;
            s.general.theme = document.getElementById('settingsTheme').value;
            s.features.ads = document.getElementById('featAds').checked;
            s.features.introVideo = document.getElementById('featIntroVideo').checked;
            s.features.notifications = document.getElementById('featNotifications').checked;
            s.features.offline = document.getElementById('featOffline').checked;
            saveAppSettings(s);
            applyAppSettings();
        }
        function updateDefaultLanguage(lang) { saveAppSettingsFromUI(); switchLanguage(lang); }
        
        // Scroll to features section
        function scrollToFeatures() {
            console.log('scrollToFeatures called');
            const featuresSection = document.getElementById('featuresSection');
            if (featuresSection) {
                featuresSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            } else {
                console.log('Features section not found');
            }
        }

        // Category Image Upload Function
        async function uploadCategoryImage(category, fileInput) {
            try {
                const file = fileInput.files[0];
                if (!file) return;
                
                // Validate file type
                if (!file.type.startsWith('image/')) {
                    alert('Please select a valid image file.');
                    return;
                }
                
                // Validate file size (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    alert('Image file must be smaller than 5MB.');
                    return;
                }
                
                // Show loading state
                const button = fileInput.parentElement.querySelector('.btn');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Uploading...';
                button.disabled = true;
                
                // Create FormData for upload
                const formData = new FormData();
                formData.append('file', file);
                
                // Upload to Supabase Storage
                const fileName = `category-${category}-${Date.now()}.${file.name.split('.').pop()}`;
                const { data, error } = await supabaseClient.storage
                    .from('category-images')
                    .upload(fileName, file, {
                        cacheControl: '3600',
                        upsert: false
                    });
                
                if (error) {
                    console.error('Upload error:', error);
                    alert('Failed to upload image. Please try again.');
                    return;
                }
                
                // Get public URL
                const { data: urlData } = supabaseClient.storage
                    .from('category-images')
                    .getPublicUrl(fileName);
                
                if (urlData?.publicUrl) {
                    // Update the preview image
                    const previewImg = fileInput.parentElement.querySelector('.current-category-image');
                    previewImg.src = urlData.publicUrl;
                    
                    // Save the new image URL to localStorage for persistence
                    const categoryImages = JSON.parse(localStorage.getItem('categoryImages') || '{}');
                    categoryImages[category] = urlData.publicUrl;
                    localStorage.setItem('categoryImages', JSON.stringify(categoryImages));
                    
                    // Update all instances of this category icon in the app
                    updateCategoryIconsInApp(category, urlData.publicUrl);
                    
                    alert('Category image updated successfully!');
                } else {
                    alert('Failed to get image URL. Please try again.');
                }
                
            } catch (error) {
                console.error('Error uploading category image:', error);
                alert('An error occurred while uploading. Please try again.');
            } finally {
                // Reset button state
                const button = fileInput.parentElement.querySelector('.btn');
                button.innerHTML = '<i class="fas fa-upload"></i> Change';
                button.disabled = false;
                // Clear the file input
                fileInput.value = '';
            }
        }
        
        // Update category icons throughout the app
        function updateCategoryIconsInApp(category, imageUrl) {
            // Map category names to module names
            const categoryMap = {
                'hotels': 'booking-streaming',
                'shopping': 'shopping',
                'events': 'events',
                'jobs': 'jobs',
                'realestate': 'realestate',
                'support': 'callcenter'
            };
            
            const moduleName = categoryMap[category];
            if (moduleName) {
                // Update module cards
                const moduleCard = document.querySelector(`[data-module-key="${moduleName}"]`);
                if (moduleCard) {
                    const img = moduleCard.querySelector('.category-image');
                    if (img) {
                        img.src = imageUrl;
                    }
                }
            }
        }
        
        // Load saved category images on app start
        function loadSavedCategoryImages() {
            const categoryImages = JSON.parse(localStorage.getItem('categoryImages') || '{}');
            Object.entries(categoryImages).forEach(([category, imageUrl]) => {
                // Update admin preview
                const previewImg = document.querySelector(`#upload-${category}`)?.parentElement?.querySelector('.current-category-image');
                if (previewImg) {
                    previewImg.src = imageUrl;
                }
                // Update in app
                updateCategoryIconsInApp(category, imageUrl);
            });
        }

        // ============== Admin Icon Manager ==============
        const defaultAdminModules = [
            { key: 'booking', label: 'Booking Management', icon: 'fas fa-hotel' },
            { key: 'realestate', label: 'Real Estate', icon: 'fas fa-home' },
            { key: 'transport', label: 'Transport Control', icon: 'fas fa-car' },
            { key: 'shopping', label: 'Shopping Control', icon: 'fas fa-shopping-bag' },
            { key: 'services', label: 'Services Management', icon: 'fas fa-tools' },
            { key: 'finance', label: 'Finance Control', icon: 'fas fa-money-bill-wave' },
            { key: 'health', label: 'Health Management', icon: 'fas fa-heartbeat' },
            { key: 'education', label: 'Education Control', icon: 'fas fa-graduation-cap' },
            { key: 'culture', label: 'Culture Management', icon: 'fas fa-landmark' },
            { key: 'media', label: 'Media & Streaming', icon: 'fas fa-play-circle' },
            { key: 'maps', label: 'Maps Management', icon: 'fas fa-map-marked-alt' },
            { key: 'gallery', label: 'Gallery Control', icon: 'fas fa-images' }
        ];

        function getIconOverrides() {
            return JSON.parse(localStorage.getItem('adminIconOverrides') || '{}');
        }

        function saveIconOverrides(overrides) {
            localStorage.setItem('adminIconOverrides', JSON.stringify(overrides));
        }

        function buildIconManagerGrid() {
            const grid = document.getElementById('iconManagerGrid');
            if (!grid) return;
            const overrides = getIconOverrides();
            grid.innerHTML = defaultAdminModules.map(mod => {
                const current = overrides[mod.key] || {};
                const currentClass = current.class || mod.icon;
                const currentImage = current.image || '';
                return `
                    <div class="module-card">
                        <div class="module-icon" style="margin-bottom:0.5rem;">
                            ${currentImage ? `<img src="${currentImage}" alt="${mod.key}" />` : `<i class="${currentClass}"></i>`}
                        </div>
                        <h6>${mod.label}</h6>
                        <div class="mt-2">
                            <input class="form-control mb-2" placeholder="Font Awesome class (e.g., fas fa-plane)" value="${currentClass}" oninput="queueIconClass('${mod.key}', this.value)" />
                            <div class="d-flex gap-2">
                                <button class="btn btn-sm btn-outline-secondary" onclick="uploadIconImage('${mod.key}')"><i class="fas fa-image"></i> Upload Image</button>
                                <button class="btn btn-sm btn-outline-danger" onclick="clearIconImage('${mod.key}')"><i class="fas fa-times"></i> Clear Image</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        const pendingIconClasses = {};
        function queueIconClass(key, className) {
            pendingIconClasses[key] = className;
            debounceSaveIcons();
        }

        let saveTimer;
        function debounceSaveIcons() {
            clearTimeout(saveTimer);
            saveTimer = setTimeout(commitIconChanges, 400);
        }

        function commitIconChanges() {
            const overrides = getIconOverrides();
            Object.keys(pendingIconClasses).forEach(key => {
                overrides[key] = overrides[key] || {};
                overrides[key].class = pendingIconClasses[key];
            });
            saveIconOverrides(overrides);
            applyAdminIconOverrides();
        }

        function uploadIconImage(key) {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = () => {
                    const overrides = getIconOverrides();
                    overrides[key] = overrides[key] || {};
                    overrides[key].image = reader.result; // data URL for preview/persistence
                    saveIconOverrides(overrides);
                    buildIconManagerGrid();
                    applyAdminIconOverrides();
                };
                reader.readAsDataURL(file);
            };
            input.click();
        }

        function clearIconImage(key) {
            const overrides = getIconOverrides();
            if (overrides[key]) delete overrides[key].image;
            saveIconOverrides(overrides);
            buildIconManagerGrid();
            applyAdminIconOverrides();
        }

        function applyAdminIconOverrides() {
            const overrides = getIconOverrides();
            // Apply on Admin Dashboard cards
            Object.keys(overrides).forEach(key => {
                const card = document.querySelector(`.admin-modules .admin-module-card[onclick*="'${key}'"] .admin-module-icon`);
                if (card) {
                    const cfg = overrides[key];
                    card.innerHTML = '';
                    if (cfg.image) {
                        const img = document.createElement('img');
                        img.src = cfg.image;
                        img.style.width = '100%';
                        img.style.height = '100%';
                        img.style.objectFit = 'cover';
                        img.style.borderRadius = '50%';
                        card.appendChild(img);
                    }
                    const i = document.createElement('i');
                    i.className = cfg.class || 'fas fa-circle';
                    i.style.position = 'absolute';
                    i.style.left = '50%';
                    i.style.top = '50%';
                    i.style.transform = 'translate(-50%, -50%)';
                    card.appendChild(i);
                }
            });

            // Apply on User Dashboard modules grid
            Object.keys(overrides).forEach(key => {
                const userIconWrap = document.querySelector(`#modulesGrid .module-card[data-module-key="${key}"] .module-icon`);
                if (userIconWrap) {
                    const cfg = overrides[key];
                    userIconWrap.innerHTML = '';
                    if (cfg.image) {
                        const img = document.createElement('img');
                        img.src = cfg.image;
                        img.alt = key;
                        img.style.width = '100%';
                        img.style.height = '100%';
                        img.style.objectFit = 'cover';
                        userIconWrap.appendChild(img);
                    } else if (cfg.class) {
                        const i = document.createElement('i');
                        i.className = cfg.class;
                        userIconWrap.appendChild(i);
                    }
                }
            });
        }

        // ===== Intro Video: Admin upload + User playback wiring =====
        async function loadIntroVideoFromBackend() {
            try {
                const { introVideoService } = await import('./js/advanced-supabase-services.js');
                const res = await introVideoService.getActiveIntroVideo();
                const videoEl = document.getElementById('introVideo');
                if (res?.data?.video_url && videoEl) {
                    // Assign src directly to video element
                    videoEl.src = res.data.video_url;
                    attachIntroViewedHandler(res.data.id);
                }
            } catch (e) {
                console.warn('Intro video load failed:', e);
            }
        }

        function attachIntroViewedHandler(videoId) {
            try {
                const videoEl = document.getElementById('introVideo');
                if (!videoEl || videoEl._viewedHook) return;
                videoEl._viewedHook = true;
                videoEl.addEventListener('ended', async () => {
                    try {
                        const { introVideoService } = await import('./js/advanced-supabase-services.js');
                        if (videoId) await introVideoService.markIntroAsViewed(videoId);
                    } catch (e) { console.warn('mark intro viewed failed', e); }
                });
            } catch {}
        }

        function uploadIntroVideoTrigger() {
            const input = document.getElementById('introVideoFileInput');
            if (input) input.click();
        }

        async function handleIntroVideoFileChange(evt) {
            const file = evt.target.files && evt.target.files[0];
            if (!file) return;
            if (!file.type.startsWith('video/')) { alert('Please select a video file'); return; }
            try {
                const title = prompt('Enter a title for this intro video:', 'Visit Limbe Intro');
                const { adminContentService } = await import('./js/advanced-supabase-services.js');
                const result = await adminContentService.uploadIntroVideo(file, title || 'Intro Video');
                if (result?.success) {
                    alert('Intro video uploaded successfully');
                    // Refresh current video
                    loadIntroVideoFromBackend();
                } else {
                    alert('Failed to upload intro video');
                }
            } catch (e) {
                console.error('Intro upload error:', e);
                alert('Upload failed');
            } finally {
                // reset input
                evt.target.value = '';
            }
        }

    // (Removed duplicate fallback navigation helpers to avoid conflicting page state)
        
        // Convert legacy FontAwesome <i class="fas fa-..."> icons to Material Icons or SVG fallbacks
        function migrateLegacyIcons() {
            const map = {
                'fa-palm-tree': 'park',
                'fa-check': 'check',
                'fa-phone': 'call',
                'fa-envelope': 'email',
                'fa-home': 'home',
                'fa-map-marked-alt': 'place',
                'fa-coins': 'paid',
                'fa-map-marker-alt': 'location_on',
                'fa-bookmark': 'bookmark',
                'fa-calendar-check': 'event_available',
                'fa-search': 'search',
                'fa-bell': 'notifications',
                'fa-map': 'map',
                'fa-hotel': 'hotel',
                'fa-mountain': 'terrain',
                'fa-utensils': 'restaurant',
                'fa-shopping-cart': 'shopping_cart',
                'fa-briefcase': 'work',
                'fa-seedling': 'eco',
                'fa-credit-card': 'credit_card',
                'fa-headset': 'support_agent',
                'fa-ticket-alt': 'confirmation_number',
                'fa-eye': 'visibility',
                'fa-clock': 'schedule',
                'fa-play': 'play_arrow',
                'fa-play-circle': 'play_circle',
                'fa-film': 'movie',
                'fa-headphones': 'headphones',
                'fa-gift': 'card_giftcard',
                'fa-bed': 'single_bed',
                'fa-star': 'star',
                'fa-pepper-hot': 'local_fire_department',
                'fa-truck': 'local_shipping',
                'fa-store': 'store',
                'fa-robot': 'smart_toy',
                'fa-chart-line': 'trending_up',
                'fa-user-md': 'medical_services',
                'fa-hospital': 'local_hospital',
                'fa-car': 'directions_car',
                'fa-taxi': 'local_taxi'
            };

            document.querySelectorAll('i.fas').forEach(i => {
                const classes = Array.from(i.classList);
                const fa = classes.find(c => c.startsWith('fa-'));
                if (!fa) return;
                const mapped = map[fa];
                const parent = i.parentElement;
                if (mapped) {
                    const span = document.createElement('span');
                    span.className = 'material-icons';
                    span.textContent = mapped;
                    // copy aria-hidden if present
                    if (i.hasAttribute('aria-hidden')) span.setAttribute('aria-hidden', i.getAttribute('aria-hidden'));
                    parent.replaceChild(span, i);
                } else {
                    // unknown mapping: remove the element to avoid empty boxes
                    const span = document.createElement('span');
                    span.className = 'material-icons';
                    span.textContent = 'help_outline';
                    parent.replaceChild(span, i);
                }
            });
        }

        // Run migration once DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', migrateLegacyIcons);
        } else {
            migrateLegacyIcons();
        }
        if (typeof showUserDashboard !== 'function') {
            function showUserDashboard() { showPage('userDashboard'); }
        }
        if (typeof showAdminDashboard !== 'function') {
            function showAdminDashboard() { showPage('adminDashboard'); }
        }

        // ============ COMPREHENSIVE MODULE CONTENT MANAGEMENT SYSTEM ============
        
        // Module Manager Header Updates
        function updateModuleManagerHeader(moduleType) {
            const config = getModuleConfig(moduleType);
            document.getElementById('moduleManagerTitle').textContent = config.title;
            document.querySelector('#moduleContentManager .breadcrumb-item:last-child').textContent = config.title;
            
            // Update statistics
            updateModuleStats(moduleType);
        }

        // Module Section Navigation
        function showModuleSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('#moduleContentManager .main-content > div[id$="Section"]').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionName.replace('-', '') + 'Section');
            if (targetSection) {
                targetSection.style.display = 'block';
            }
            
            // Update sidebar navigation
            document.querySelectorAll('#moduleContentManager .sidebar-nav .nav-link').forEach(link => {
                link.classList.remove('active');
            });
            const activeLink = document.querySelector(`[onclick="showModuleSection('${sectionName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }

        // Module Statistics Updates
        function updateModuleStats(moduleType) {
            const stats = getModuleStats(moduleType);
            document.getElementById('totalItemsCount').textContent = stats.totalItems;
            document.getElementById('activeItemsCount').textContent = stats.activeItems;
            document.getElementById('revenueCount').textContent = `$${stats.revenue.toLocaleString()}`;
            document.getElementById('bookingsCount').textContent = stats.bookings;
        }

        // Module Configuration Data - Complete System for All Modules
        function getModuleConfig(moduleType) {
            const configs = {
                booking: {
                    title: 'Booking & Accommodation Manager',
                    description: 'Complete hotel and accommodation booking system with room management',
                    icon: 'fas fa-hotel',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Flutterwave', 'Cash', 'Bank Transfer'],
                    features: ['Room Management', 'Booking Calendar', 'Guest Check-in/out', 'Pricing Control', 'Occupancy Reports'],
                    categories: ['Hotels', 'Guest Houses', 'Apartments', 'Lodges', 'Resorts']
                },
                shopping: {
                    title: 'Shopping & E-Commerce Manager',
                    description: 'Complete marketplace management with inventory and order processing',
                    icon: 'fas fa-shopping-bag',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Flutterwave', 'Cash', 'Bank Transfer', 'Credit Card'],
                    features: ['Product Catalog', 'Inventory Management', 'Order Processing', 'Vendor Management', 'Sales Analytics'],
                    categories: ['Electronics', 'Fashion', 'Food & Beverages', 'Crafts', 'Books', 'Beauty Products']
                },
                health: {
                    title: 'Healthcare Management System',
                    description: 'Complete medical services management with appointment booking',
                    icon: 'fas fa-heartbeat',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Insurance', 'Cash', 'Bank Transfer'],
                    features: ['Appointment Booking', 'Patient Records', 'Medical History', 'Prescription Management', 'Emergency Services'],
                    categories: ['Hospitals', 'Clinics', 'Pharmacies', 'Specialists', 'Emergency Services', 'Dental Care']
                },
                education: {
                    title: 'Education & Learning Platform',
                    description: 'Educational institutions and course management system',
                    icon: 'fas fa-graduation-cap',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Bank Transfer', 'Scholarships', 'Student Loans'],
                    features: ['Course Management', 'Student Enrollment', 'Grade Tracking', 'Fee Management', 'Online Learning'],
                    categories: ['Primary Schools', 'Secondary Schools', 'Universities', 'Training Centers', 'Online Courses', 'Libraries']
                },
                transport: {
                    title: 'Transportation & Logistics Hub',
                    description: 'Complete transport services and vehicle rental management',
                    icon: 'fas fa-car',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Cash', 'Credit Card', 'Bank Transfer'],
                    features: ['Vehicle Fleet Management', 'Route Planning', 'Driver Management', 'Fuel Tracking', 'Maintenance Schedules'],
                    categories: ['Car Rentals', 'Bike Rentals', 'Public Transport', 'Taxi Services', 'Delivery Services', 'Logistics']
                },
                culture: {
                    title: 'Cultural Heritage & Tourism',
                    description: 'Cultural sites, events, and heritage preservation management',
                    icon: 'fas fa-landmark',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Cash', 'Bank Transfer', 'Tourist Cards'],
                    features: ['Site Management', 'Cultural Events', 'Heritage Preservation', 'Tour Guides', 'Visitor Statistics'],
                    categories: ['Historic Sites', 'Museums', 'Art Galleries', 'Cultural Events', 'Traditional Ceremonies', 'Churches']
                },
                maps: {
                    title: 'Maps & Navigation System',
                    description: 'Location services, GPS navigation, and points of interest',
                    icon: 'fas fa-map-marked-alt',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Subscription', 'Pay-Per-Use'],
                    features: ['GPS Navigation', 'POI Management', 'Route Optimization', 'Location Tracking', 'Offline Maps'],
                    categories: ['Tourist Spots', 'Restaurants', 'Hotels', 'Services', 'Emergency Locations', 'Shopping Centers']
                },
                gallery: {
                    title: 'Media Gallery & Photography',
                    description: 'Photo and video content management with professional galleries',
                    icon: 'fas fa-images',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Subscription', 'Per Download', 'Print Services'],
                    features: ['Photo Management', 'Video Storage', 'Album Creation', 'Professional Photography', 'Print Services'],
                    categories: ['Tourist Photos', 'Cultural Events', 'Nature Photography', 'Architecture', 'People & Portraits', 'Wedding Photography']
                },
                services: {
                    title: 'Local Services Directory',
                    description: 'Comprehensive local service providers and maintenance solutions',
                    icon: 'fas fa-tools',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Cash', 'Bank Transfer', 'Service Credits'],
                    features: ['Service Provider Directory', 'Booking System', 'Quality Ratings', 'Service History', 'Emergency Services'],
                    categories: ['Home Cleaning', 'Repairs & Maintenance', 'Beauty Services', 'Legal Services', 'Consulting', 'Technical Support']
                },
                finance: {
                    title: 'Financial Services Hub',
                    description: 'Banking, payments, and financial service management',
                    icon: 'fas fa-money-bill-wave',
                    paymentMethods: ['Bank Transfer', 'MTN Mobile Money', 'Orange Money', 'International Transfer'],
                    features: ['Account Management', 'Transaction Processing', 'Loan Services', 'Investment Tracking', 'Financial Reports'],
                    categories: ['Commercial Banks', 'Microfinance', 'ATM Locations', 'Money Transfer', 'Investment Services', 'Insurance']
                },
                events: {
                    title: 'Events & Entertainment Manager',
                    description: 'Complete event planning and entertainment venue management',
                    icon: 'fas fa-calendar-alt',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Cash', 'Bank Transfer', 'Event Tickets'],
                    features: ['Event Planning', 'Venue Booking', 'Ticket Sales', 'Artist Management', 'Equipment Rental'],
                    categories: ['Music Festivals', 'Cultural Events', 'Sports Events', 'Corporate Events', 'Weddings', 'Nightlife']
                },
                jobs: {
                    title: 'Employment & Career Hub',
                    description: 'Job listings, recruitment, and career development platform',
                    icon: 'fas fa-briefcase',
                    paymentMethods: ['Bank Transfer', 'MTN Mobile Money', 'Orange Money', 'Company Credits'],
                    features: ['Job Posting', 'Application Tracking', 'Resume Management', 'Interview Scheduling', 'Salary Analysis'],
                    categories: ['Full-time Positions', 'Part-time Jobs', 'Internships', 'Freelance Work', 'Remote Jobs', 'Government Jobs']
                },
                realestate: {
                    title: 'Real Estate Management',
                    description: 'Property listings, sales, and real estate investment platform',
                    icon: 'fas fa-building',
                    paymentMethods: ['Bank Transfer', 'MTN Mobile Money', 'Orange Money', 'Cash', 'Property Financing'],
                    features: ['Property Listings', 'Virtual Tours', 'Price Analysis', 'Investment Tracking', 'Legal Documentation'],
                    categories: ['Residential Sales', 'Commercial Properties', 'Rental Properties', 'Land Sales', 'Vacation Rentals', 'Investment Properties']
                },
                streaming: {
                    title: 'Streaming & Media Platform',
                    description: 'Video streaming, content creation, and watch-to-earn system',
                    icon: 'fas fa-play-circle',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Subscription', 'Pay Per View', 'Ad Revenue'],
                    features: ['Content Upload', 'Live Streaming', 'Monetization', 'Analytics Dashboard', 'Community Features'],
                    categories: ['Live Streams', 'Educational Content', 'Entertainment', 'Music Videos', 'Local News', 'Sports Coverage']
                },
                smartgro: {
                    title: 'SmartGro Agricultural Platform',
                    description: 'Agricultural marketplace, farm management, and crop advisory',
                    icon: 'fas fa-seedling',
                    paymentMethods: ['MTN Mobile Money', 'Orange Money', 'Cash', 'Bank Transfer', 'Crop Insurance'],
                    features: ['Crop Management', 'Market Prices', 'Weather Updates', 'Expert Advice', 'Equipment Rental'],
                    categories: ['Fresh Produce', 'Seeds & Plants', 'Farm Equipment', 'Agricultural Services', 'Livestock', 'Organic Products']
                },
                callcenter: {
                    title: 'Call Center & Support Hub',
                    description: 'Customer support, emergency services, and communication center',
                    icon: 'fas fa-phone',
                    paymentMethods: ['Subscription', 'Per Call', 'MTN Mobile Money', 'Government Funding'],
                    features: ['24/7 Support', 'Emergency Response', 'Multilingual Support', 'Call Analytics', 'Quality Assurance'],
                    categories: ['Emergency Services', 'Tourist Support', 'Technical Help', 'Information Services', 'Complaint Resolution', 'Business Support']
                }
            };
            return configs[moduleType] || configs.booking;
        }

        // Module Statistics Generator - Detailed for All Modules
        function getModuleStats(moduleType) {
            const baseStats = {
                booking: { totalItems: 125, activeItems: 118, revenue: 45600, bookings: 342, growth: '+12%', trend: 'up' },
                shopping: { totalItems: 847, activeItems: 782, revenue: 128400, bookings: 1205, growth: '+24%', trend: 'up' },
                health: { totalItems: 68, activeItems: 64, revenue: 23500, bookings: 156, growth: '+8%', trend: 'up' },
                education: { totalItems: 234, activeItems: 221, revenue: 67800, bookings: 445, growth: '+15%', trend: 'up' },
                transport: { totalItems: 156, activeItems: 142, revenue: 34200, bookings: 267, growth: '+18%', trend: 'up' },
                culture: { totalItems: 89, activeItems: 84, revenue: 15600, bookings: 189, growth: '+6%', trend: 'up' },
                maps: { totalItems: 1240, activeItems: 1240, revenue: 8900, bookings: 3400, growth: '+3%', trend: 'stable' },
                gallery: { totalItems: 2340, activeItems: 2301, revenue: 12400, bookings: 890, growth: '+10%', trend: 'up' },
                services: { totalItems: 445, activeItems: 398, revenue: 78900, bookings: 567, growth: '+22%', trend: 'up' },
                finance: { totalItems: 34, activeItems: 32, revenue: 156700, bookings: 78, growth: '+5%', trend: 'stable' },
                events: { totalItems: 178, activeItems: 165, revenue: 89500, bookings: 1234, growth: '+35%', trend: 'up' },
                jobs: { totalItems: 567, activeItems: 489, revenue: 45600, bookings: 123, growth: '+12%', trend: 'up' },
                realestate: { totalItems: 234, activeItems: 198, revenue: 567800, bookings: 45, growth: '+7%', trend: 'up' },
                streaming: { totalItems: 890, activeItems: 845, revenue: 67800, bookings: 2340, growth: '+28%', trend: 'up' },
                smartgro: { totalItems: 345, activeItems: 312, revenue: 23400, bookings: 189, growth: '+16%', trend: 'up' },
                callcenter: { totalItems: 45, activeItems: 45, revenue: 12300, bookings: 890, growth: '+4%', trend: 'stable' }
            };
            return baseStats[moduleType] || baseStats.booking;
        }

        // Module Items Management
        function loadModuleItems(moduleType) {
            const items = getModuleItems(moduleType);
            const tableBody = document.querySelector('#itemsListSection tbody');
            if (tableBody) {
                tableBody.innerHTML = items.map(item => `
                    <tr>
                        <td>
                            <div class="d-flex align-items-center">
                                <img src="${item.image}" alt="${item.title}" style="width: 40px; height: 40px; border-radius: 8px; margin-right: 10px;" onerror="this.style.display='none'">
                                <div>
                                    <strong>${item.title}</strong>
                                    <small class="d-block text-muted">${item.category}</small>
                                </div>
                            </div>
                        </td>
                        <td><span class="badge bg-${item.status === 'Active' ? 'success' : item.status === 'Draft' ? 'warning' : 'secondary'}">${item.status}</span></td>
                        <td>$${item.price}</td>
                        <td>${item.bookings}</td>
                        <td>${item.lastUpdated}</td>
                        <td>
                            <div class="btn-group btn-group-sm">
                                <button class="btn btn-outline-primary" onclick="editModuleItem('${item.id}')">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-outline-info" onclick="viewModuleItemDetails('${item.id}')">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="btn btn-outline-danger" onclick="deleteModuleItem('${item.id}')">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }
        }

        // Sample Module Items Data - Complete for All Modules
        function getModuleItems(moduleType) {
            const itemTemplates = {
                booking: [
                    { id: 'b1', title: 'Limbe Seaside Hotel', category: 'Hotels', status: 'Active', price: 120, bookings: 45, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=100' },
                    { id: 'b2', title: 'Mountain View Lodge', category: 'Lodges', status: 'Active', price: 85, bookings: 32, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=100' },
                    { id: 'b3', title: 'City Center Apartment', category: 'Apartments', status: 'Draft', price: 95, bookings: 0, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=100' },
                    { id: 'b4', title: 'Botanical Garden Resort', category: 'Resorts', status: 'Active', price: 200, bookings: 78, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1586375300773-8384e3e4916f?w=100' },
                    { id: 'b5', title: 'Budget Guest House', category: 'Guest Houses', status: 'Active', price: 45, bookings: 156, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=100' }
                ],
                shopping: [
                    { id: 's1', title: 'Traditional Craft Baskets', category: 'Crafts', status: 'Active', price: 25, bookings: 89, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1586075010923-2dd4570fb338?w=100' },
                    { id: 's2', title: 'Local Fashion Collection', category: 'Fashion', status: 'Active', price: 65, bookings: 34, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=100' },
                    { id: 's3', title: 'Cameroon Spices & Herbs', category: 'Food & Beverages', status: 'Active', price: 15, bookings: 156, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1596040006719-f4485c804a2b?w=100' },
                    { id: 's4', title: 'Electronics & Gadgets', category: 'Electronics', status: 'Active', price: 299, bookings: 23, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1468495244123-6c6c332eeece?w=100' },
                    { id: 's5', title: 'Beauty & Cosmetics', category: 'Beauty Products', status: 'Active', price: 45, bookings: 67, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=100' }
                ],
                health: [
                    { id: 'h1', title: 'General Consultation', category: 'Hospitals', status: 'Active', price: 30, bookings: 78, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=100' },
                    { id: 'h2', title: 'Cardiology Specialist', category: 'Specialists', status: 'Active', price: 75, bookings: 23, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=100' },
                    { id: 'h3', title: 'Emergency Services', category: 'Emergency Services', status: 'Active', price: 150, bookings: 12, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=100' },
                    { id: 'h4', title: 'Pharmacy Services', category: 'Pharmacies', status: 'Active', price: 25, bookings: 234, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1585435557343-3b092031419e?w=100' },
                    { id: 'h5', title: 'Dental Care', category: 'Dental Care', status: 'Active', price: 50, bookings: 89, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1609840112855-9ab5ad8f66e4?w=100' }
                ],
                education: [
                    { id: 'e1', title: 'University of Buea Programs', category: 'Universities', status: 'Active', price: 500, bookings: 234, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=100' },
                    { id: 'e2', title: 'Technical Training Center', category: 'Training Centers', status: 'Active', price: 150, bookings: 89, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1556761175-b413da4baf72?w=100' },
                    { id: 'e3', title: 'Primary School Enrollment', category: 'Primary Schools', status: 'Active', price: 100, bookings: 456, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=100' },
                    { id: 'e4', title: 'Online Learning Platform', category: 'Online Courses', status: 'Active', price: 50, bookings: 678, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=100' },
                    { id: 'e5', title: 'Library Access Card', category: 'Libraries', status: 'Active', price: 20, bookings: 123, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100' }
                ],
                transport: [
                    { id: 't1', title: 'Car Rental Service', category: 'Car Rentals', status: 'Active', price: 45, bookings: 67, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=100' },
                    { id: 't2', title: 'Motorcycle Taxi', category: 'Taxi Services', status: 'Active', price: 5, bookings: 890, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1558618048-fcd25c85cd64?w=100' },
                    { id: 't3', title: 'Public Bus Route', category: 'Public Transport', status: 'Active', price: 2, bookings: 1234, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1570125909517-53cb21c89ff2?w=100' },
                    { id: 't4', title: 'Delivery Service', category: 'Delivery Services', status: 'Active', price: 10, bookings: 345, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=100' },
                    { id: 't5', title: 'Bike Rental', category: 'Bike Rentals', status: 'Active', price: 15, bookings: 189, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=100' }
                ],
                culture: [
                    { id: 'c1', title: 'Limbe Museum Tours', category: 'Museums', status: 'Active', price: 10, bookings: 156, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=100' },
                    { id: 'c2', title: 'Traditional Dance Performance', category: 'Cultural Events', status: 'Active', price: 25, bookings: 89, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100' },
                    { id: 'c3', title: 'Historic Church Visit', category: 'Churches', status: 'Active', price: 5, bookings: 234, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1520637836862-4d197d17c0a8?w=100' },
                    { id: 'c4', title: 'Art Gallery Exhibition', category: 'Art Galleries', status: 'Active', price: 15, bookings: 67, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=100' },
                    { id: 'c5', title: 'Heritage Site Tour', category: 'Historic Sites', status: 'Active', price: 20, bookings: 123, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1533929736458-ca588d08c8be?w=100' }
                ],
                events: [
                    { id: 'ev1', title: 'Limbe Music Festival', category: 'Music Festivals', status: 'Active', price: 50, bookings: 500, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100' },
                    { id: 'ev2', title: 'Cultural Dance Night', category: 'Cultural Events', status: 'Active', price: 25, bookings: 234, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=100' },
                    { id: 'ev3', title: 'Sports Tournament', category: 'Sports Events', status: 'Active', price: 15, bookings: 345, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=100' },
                    { id: 'ev4', title: 'Wedding Venue', category: 'Weddings', status: 'Active', price: 1000, bookings: 23, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=100' },
                    { id: 'ev5', title: 'Corporate Conference', category: 'Corporate Events', status: 'Active', price: 200, bookings: 89, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=100' }
                ],
                jobs: [
                    { id: 'j1', title: 'Software Developer Position', category: 'Full-time Positions', status: 'Active', price: 800, bookings: 45, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1517180102446-f3ece451e9d8?w=100' },
                    { id: 'j2', title: 'Tourism Guide', category: 'Part-time Jobs', status: 'Active', price: 25, bookings: 67, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100' },
                    { id: 'j3', title: 'Marketing Internship', category: 'Internships', status: 'Active', price: 200, bookings: 123, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=100' },
                    { id: 'j4', title: 'Freelance Graphic Design', category: 'Freelance Work', status: 'Active', price: 150, bookings: 89, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1561070791-2526d30994b5?w=100' },
                    { id: 'j5', title: 'Remote Content Writer', category: 'Remote Jobs', status: 'Active', price: 300, bookings: 234, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=100' }
                ],
                realestate: [
                    { id: 'r1', title: 'Oceanview Apartment', category: 'Residential Sales', status: 'Active', price: 85000, bookings: 12, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=100' },
                    { id: 'r2', title: 'Commercial Office Space', category: 'Commercial Properties', status: 'Active', price: 120000, bookings: 8, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=100' },
                    { id: 'r3', title: 'Family House Rental', category: 'Rental Properties', status: 'Active', price: 500, bookings: 45, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=100' },
                    { id: 'r4', title: 'Land for Development', category: 'Land Sales', status: 'Active', price: 45000, bookings: 6, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=100' },
                    { id: 'r5', title: 'Vacation Beach House', category: 'Vacation Rentals', status: 'Active', price: 150, bookings: 78, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1499793983690-e29da59ef1c2?w=100' }
                ],
                streaming: [
                    { id: 'st1', title: 'Limbe Live News', category: 'Local News', status: 'Active', price: 5, bookings: 1234, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1588681664899-f142ff2dc9b1?w=100' },
                    { id: 'st2', title: 'Educational Tutorials', category: 'Educational Content', status: 'Active', price: 10, bookings: 567, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=100' },
                    { id: 'st3', title: 'Music Video Collection', category: 'Music Videos', status: 'Active', price: 3, bookings: 890, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100' },
                    { id: 'st4', title: 'Sports Highlights', category: 'Sports Coverage', status: 'Active', price: 5, bookings: 678, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=100' },
                    { id: 'st5', title: 'Entertainment Shows', category: 'Entertainment', status: 'Active', price: 8, bookings: 345, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=100' }
                ],
                smartgro: [
                    { id: 'sg1', title: 'Fresh Vegetables Market', category: 'Fresh Produce', status: 'Active', price: 15, bookings: 234, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1542838132-92c53300491e?w=100' },
                    { id: 'sg2', title: 'Seedling Nursery', category: 'Seeds & Plants', status: 'Active', price: 25, bookings: 156, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=100' },
                    { id: 'sg3', title: 'Farm Equipment Rental', category: 'Farm Equipment', status: 'Active', price: 100, bookings: 67, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=100' },
                    { id: 'sg4', title: 'Agricultural Consulting', category: 'Agricultural Services', status: 'Active', price: 75, bookings: 89, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=100' },
                    { id: 'sg5', title: 'Livestock Sales', category: 'Livestock', status: 'Active', price: 500, bookings: 34, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1516467508483-a7212febe31a?w=100' }
                ],
                callcenter: [
                    { id: 'cc1', title: 'Emergency Response Line', category: 'Emergency Services', status: 'Active', price: 0, bookings: 456, lastUpdated: '2024-01-15', image: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=100' },
                    { id: 'cc2', title: 'Tourist Information Hotline', category: 'Tourist Support', status: 'Active', price: 2, bookings: 234, lastUpdated: '2024-01-14', image: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100' },
                    { id: 'cc3', title: 'Technical Support Center', category: 'Technical Help', status: 'Active', price: 15, bookings: 123, lastUpdated: '2024-01-13', image: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100' },
                    { id: 'cc4', title: 'Business Support Line', category: 'Business Support', status: 'Active', price: 25, bookings: 89, lastUpdated: '2024-01-12', image: 'https://images.unsplash.com/photo-1556761175-b413da4baf72?w=100' },
                    { id: 'cc5', title: 'Complaint Resolution Service', category: 'Complaint Resolution', status: 'Active', price: 5, bookings: 67, lastUpdated: '2024-01-11', image: 'https://images.unsplash.com/photo-1553830591-d8632a99e6ff?w=100' }
                ]
            };
            return itemTemplates[moduleType] || itemTemplates.booking;
        }

        // Payment Management Functions
        function loadModulePaymentSettings(moduleType) {
            const config = getModuleConfig(moduleType);
            const paymentSection = document.querySelector('#paymentSection .payment-methods');
            if (paymentSection) {
                paymentSection.innerHTML = config.paymentMethods.map(method => `
                    <div class="form-check form-switch mb-3">
                        <input class="form-check-input" type="checkbox" id="${method.replace(/\s+/g, '')}" checked>
                        <label class="form-check-label d-flex align-items-center" for="${method.replace(/\s+/g, '')}">
                            <i class="fas fa-${getPaymentIcon(method)} me-2"></i>
                            ${method}
                        </label>
                    </div>
                `).join('');
            }
            
            // Load payment transactions
            loadPaymentTransactions(moduleType);
        }

        function getPaymentIcon(method) {
            const icons = {
                'MTN Mobile Money': 'mobile-alt',
                'Orange Money': 'mobile-alt',
                'Flutterwave': 'credit-card',
                'Cash': 'money-bill',
                'Bank Transfer': 'university',
                'Credit Card': 'credit-card',
                'Insurance': 'shield-alt',
                'Subscription': 'calendar-check',
                'Pay Per View': 'play-circle',
                'Per Call': 'phone',
                'Per Download': 'download',
                'Scholarships': 'graduation-cap'
            };
            return icons[method] || 'money-bill';
        }

        function loadPaymentTransactions(moduleType) {
            const transactions = getPaymentTransactions(moduleType);
            const tableBody = document.querySelector('#paymentSection .transactions-table tbody');
            if (tableBody) {
                tableBody.innerHTML = transactions.map(tx => `
                    <tr>
                        <td>#${tx.id}</td>
                        <td>${tx.customer}</td>
                        <td>$${tx.amount}</td>
                        <td>${tx.method}</td>
                        <td><span class="badge bg-${tx.status === 'Completed' ? 'success' : tx.status === 'Pending' ? 'warning' : 'danger'}">${tx.status}</span></td>
                        <td>${tx.date}</td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary" onclick="viewTransactionDetails('${tx.id}')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            }
        }

        function getPaymentTransactions(moduleType) {
            return [
                { id: 'TX001', customer: 'John Doe', amount: 120, method: 'MTN Mobile Money', status: 'Completed', date: '2024-01-15' },
                { id: 'TX002', customer: 'Mary Smith', amount: 85, method: 'Orange Money', status: 'Completed', date: '2024-01-15' },
                { id: 'TX003', customer: 'Peter Kim', amount: 95, method: 'Flutterwave', status: 'Pending', date: '2024-01-14' },
                { id: 'TX004', customer: 'Sarah Johnson', amount: 65, method: 'Cash', status: 'Completed', date: '2024-01-14' },
                { id: 'TX005', customer: 'Mike Wilson', amount: 150, method: 'MTN Mobile Money', status: 'Failed', date: '2024-01-13' }
            ];
        }

        // Media Management Functions
        function loadModuleMedia(moduleType) {
            const media = getModuleMedia(moduleType);
            const mediaGrid = document.querySelector('#mediaSection .media-gallery');
            if (mediaGrid) {
                mediaGrid.innerHTML = media.map(item => `
                    <div class="media-item">
                        <div class="media-preview">
                            ${item.type === 'video' ? 
                                `<video src="${item.url}" poster="${item.thumbnail}"></video>` : 
                                `<img src="${item.url}" alt="${item.name}">`
                            }
                            <div class="media-overlay">
                                <div class="media-actions">
                                    <button class="btn btn-sm btn-light" onclick="editMedia('${moduleType}', '${item.id}')">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-sm btn-danger" onclick="deleteMedia('${moduleType}', '${item.id}')">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="media-info">
                            <small class="text-muted">${item.name}</small>
                            <div class="text-muted">${item.size}</div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function getModuleMedia(moduleType) {
            const mediaTemplates = {
                booking: [
                    { id: 'm1', name: 'hotel_exterior.jpg', type: 'image', url: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=300', size: '2.1 MB' },
                    { id: 'm2', name: 'room_tour.mp4', type: 'video', url: '#', thumbnail: 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=300', size: '15.4 MB' }
                ],
                education: [
                    { id: 'm3', name: 'campus_view.jpg', type: 'image', url: 'https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=300', size: '1.8 MB' },
                    { id: 'm4', name: 'graduation_ceremony.mp4', type: 'video', url: '#', thumbnail: 'https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=300', size: '22.1 MB' }
                ],
                transport: [
                    { id: 'm5', name: 'taxi_fleet.jpg', type: 'image', url: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=300', size: '1.9 MB' },
                    { id: 'm6', name: 'route_guide.mp4', type: 'video', url: '#', thumbnail: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300', size: '8.7 MB' }
                ]
            };
            return mediaTemplates[moduleType] || mediaTemplates.booking;
        }

        // Analytics Functions
        function loadModuleAnalytics(moduleType) {
            // Load charts and analytics data
            setTimeout(() => {
                initializeAnalyticsCharts(moduleType);
            }, 100);
        }

        function initializeAnalyticsCharts(moduleType) {
            // Revenue Chart
            const revenueCtx = document.getElementById('revenueChart');
            if (revenueCtx) {
                new Chart(revenueCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Revenue ($)',
                            data: [1200, 1900, 3000, 5000, 4000, 6000],
                            borderColor: '#0d6efd',
                            backgroundColor: 'rgba(13, 110, 253, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { display: false } },
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }

            // Bookings Chart
            const bookingsCtx = document.getElementById('bookingsChart');
            if (bookingsCtx) {
                new Chart(bookingsCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Bookings',
                            data: [45, 67, 89, 123, 98, 145],
                            backgroundColor: '#198754'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { display: false } },
                        scales: { y: { beginAtZero: true } }
                    }
                });
            }
        }

        // Item Management Actions
        function addNewModuleItem() {
            showAlert('Add New Item form opened - Connect to database!', 'info');
        }

        function importModuleItems() {
            showAlert('Import Items functionality - CSV/Excel import available!', 'info');
        }

        function exportModuleItems() {
            showAlert('Export Items functionality - Download as CSV/Excel!', 'info');
        }

        function editModuleItem(itemId) {
            showAlert(`Edit Item ${itemId} - Full editor with all item details!`, 'info');
        }

        function viewModuleItemDetails(itemId) {
            showAlert(`View Item ${itemId} details - Complete item information!`, 'info');
        }

        function deleteModuleItem(itemId) {
            if (confirm('Are you sure you want to delete this item?')) {
                showAlert(`Item ${itemId} deleted successfully!`, 'success');
                loadModuleItems(window.currentModule);
            }
        }

        // Payment Management Actions
        function savePaymentSettings() {
            showAlert('Payment settings saved successfully!', 'success');
        }

        function viewTransactionDetails(txId) {
            showAlert(`Transaction ${txId} details - Full payment information and status!`, 'info');
        }

        function configurePaymentMethod(method) {
            showAlert(`Configure ${method} - API keys, merchant settings, and integration!`, 'info');
        }

        function exportTransactions() {
            showAlert('Export Transactions - Download payment history as CSV/Excel!', 'info');
        }

        // Media Management Actions
        function handleMediaUpload(files) {
            Array.from(files).forEach(file => {
                showAlert(`Uploading ${file.name} - Progress tracking and optimization!`, 'info');
            });
        }

        function uploadMediaFiles() {
            document.getElementById('moduleMediaInput').click();
        }

        function editMedia(moduleType, mediaId) {
            showAlert(`Edit Media ${mediaId} - Image/video editor with filters and effects!`, 'info');
        }

        function deleteMedia(moduleType, mediaId) {
            if (confirm('Are you sure you want to delete this media?')) {
                showAlert(`Media ${mediaId} deleted successfully!`, 'success');
                loadModuleMedia(moduleType);
            }
        }

        function organizeMedia() {
            showAlert('Media Organization - Create folders, tags, and collections!', 'info');
        }

        // ============ GLOBAL MEDIA GALLERY FUNCTIONS ============
        
        // Show Global Media Gallery Page
        function showGlobalMediaGallery() {
            hideAllPages();
            document.getElementById('globalMediaGalleryPage').style.display = 'block';
            loadGlobalMediaLibrary();
            console.log('Global Media Gallery opened');
        }
        
        // Trigger global media upload
        function triggerGlobalMediaUpload() {
            document.getElementById('globalMediaInput').click();
        }
        
        // Handle global media upload
        function handleGlobalMediaUpload(files) {
            if (files.length === 0) return;
            
            const selectedModules = getSelectedModulesForAssignment();
            let uploadCount = 0;
            
            Array.from(files).forEach((file, index) => {
                uploadCount++;
                
                // Simulate file upload with progress
                showAlert(`📤 Uploading ${file.name} (${uploadCount}/${files.length})...`, 'info');
                
                // Create file URL for preview
                const fileURL = URL.createObjectURL(file);
                const fileType = file.type.startsWith('image/') ? 'image' : 
                               file.type.startsWith('video/') ? 'video' : 'document';
                
                // Save to global media storage
                const mediaItem = {
                    id: Date.now() + index,
                    name: file.name,
                    type: fileType,
                    size: file.size,
                    url: fileURL,
                    uploadDate: new Date().toISOString(),
                    assignedModules: selectedModules,
                    views: 0
                };
                
                saveGlobalMediaItem(mediaItem);
                
                // Assign to selected modules
                selectedModules.forEach(module => {
                    assignMediaToModule(mediaItem, module);
                });
            });
            
            // Refresh gallery after upload
            setTimeout(() => {
                loadGlobalMediaLibrary();
                showAlert(`✅ ${uploadCount} files uploaded successfully and assigned to ${selectedModules.length} modules!`, 'success');
                
                // Trigger user interface update
                triggerUserInterfaceUpdate('media');
            }, 1500);
        }
        
        // Get selected modules for assignment
        function getSelectedModulesForAssignment() {
            const selectedModules = [];
            document.querySelectorAll('.module-assignment-card input[type="checkbox"]:checked').forEach(checkbox => {
                selectedModules.push(checkbox.id.replace('assign-', ''));
            });
            return selectedModules;
        }
        
        // Save global media item
        function saveGlobalMediaItem(mediaItem) {
            const globalMedia = JSON.parse(localStorage.getItem('global_media')) || [];
            globalMedia.push(mediaItem);
            localStorage.setItem('global_media', JSON.stringify(globalMedia));
        }
        
        // Assign media to specific module
        function assignMediaToModule(mediaItem, moduleName) {
            const moduleMedia = JSON.parse(localStorage.getItem(`${moduleName}_media`)) || [];
            moduleMedia.push({
                ...mediaItem,
                moduleAssigned: moduleName,
                assignedDate: new Date().toISOString()
            });
            localStorage.setItem(`${moduleName}_media`, JSON.stringify(moduleMedia));
        }
        
        // Load global media library
        function loadGlobalMediaLibrary() {
            const globalMedia = JSON.parse(localStorage.getItem('global_media')) || [];
            const libraryContainer = document.getElementById('globalMediaLibrary');
            
            if (!libraryContainer) return;
            
            // Clear existing content (keep the add button)
            const addButton = libraryContainer.querySelector('.add-media-item');
            libraryContainer.innerHTML = '';
            
            // Add media items
            globalMedia.forEach(media => {
                const mediaElement = createGlobalMediaElement(media);
                libraryContainer.appendChild(mediaElement);
            });
            
            // Re-add the add button
            if (addButton) {
                libraryContainer.appendChild(addButton);
            }
            
            console.log(`Loaded ${globalMedia.length} media items in global gallery`);
        }
        
        // Create global media element
        function createGlobalMediaElement(media) {
            const div = document.createElement('div');
            div.className = 'global-media-item';
            div.setAttribute('data-type', media.type);
            div.setAttribute('data-id', media.id);
            
            const preview = media.type === 'video' ? 
                `<video poster="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop">
                    <source src="${media.url}" type="video/mp4">
                </video>` :
                `<img src="${media.url}" alt="${media.name}">`;
            
            div.innerHTML = `
                <div class="media-preview">
                    ${preview}
                    <div class="media-overlay">
                        ${media.type === 'video' ? '<i class="fas fa-play-circle fa-2x"></i>' : ''}
                        <button class="btn btn-sm btn-light" onclick="previewGlobalMedia(this)">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-primary" onclick="assignMediaToModules(this)">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="deleteGlobalMedia(this)">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                <div class="media-info">
                    <h6>${media.name}</h6>
                    <small class="text-muted">${media.type.toUpperCase()} • ${formatFileSize(media.size)} • Used in ${media.assignedModules?.length || 0} modules</small>
                </div>
            `;
            
            return div;
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Filter global media
        function filterGlobalMedia(type) {
            const mediaItems = document.querySelectorAll('.global-media-item[data-type]');
            
            mediaItems.forEach(item => {
                const itemType = item.getAttribute('data-type');
                if (type === 'all' || itemType === type || 
                    (type === 'images' && itemType === 'image') || 
                    (type === 'videos' && itemType === 'video') ||
                    (type === 'documents' && itemType === 'document')) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Update active filter button
            document.querySelectorAll('.btn-outline-primary, .btn-outline-success, .btn-outline-info, .btn-outline-warning').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // Preview global media
        function previewGlobalMedia(button) {
            const mediaItem = button.closest('.global-media-item');
            const mediaId = mediaItem.getAttribute('data-id');
            const globalMedia = JSON.parse(localStorage.getItem('global_media')) || [];
            const media = globalMedia.find(m => m.id == mediaId);
            
            if (media) {
                // Create preview modal
                const modal = document.createElement('div');
                modal.className = 'modal d-block';
                modal.style.backgroundColor = 'rgba(0,0,0,0.8)';
                modal.innerHTML = `
                    <div class="modal-dialog modal-lg modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5>${media.name}</h5>
                                <button type="button" class="btn-close" onclick="this.closest('.modal').remove()"></button>
                            </div>
                            <div class="modal-body text-center">
                                ${media.type === 'video' ? 
                                    `<video controls style="max-width: 100%; max-height: 400px;">
                                        <source src="${media.url}" type="video/mp4">
                                    </video>` :
                                    `<img src="${media.url}" style="max-width: 100%; max-height: 400px;" alt="${media.name}">`
                                }
                                <div class="mt-3">
                                    <p><strong>Type:</strong> ${media.type} | <strong>Size:</strong> ${formatFileSize(media.size)}</p>
                                    <p><strong>Assigned to:</strong> ${media.assignedModules?.join(', ') || 'No modules'}</p>
                                    <p><strong>Uploaded:</strong> ${new Date(media.uploadDate).toLocaleDateString()}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
                
                // Increment views
                media.views = (media.views || 0) + 1;
                const allMedia = JSON.parse(localStorage.getItem('global_media')) || [];
                const index = allMedia.findIndex(m => m.id == mediaId);
                if (index !== -1) {
                    allMedia[index] = media;
                    localStorage.setItem('global_media', JSON.stringify(allMedia));
                }
            }
        }
        
        // Assign media to modules
        function assignMediaToModules(button) {
            const mediaItem = button.closest('.global-media-item');
            const mediaId = mediaItem.getAttribute('data-id');
            
            // Create assignment modal
            const modal = document.createElement('div');
            modal.className = 'modal d-block';
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5>📤 Assign to Modules</h5>
                            <button type="button" class="btn-close" onclick="this.closest('.modal').remove()"></button>
                        </div>
                        <div class="modal-body">
                            <div class="modules-assignment-grid">
                                <div class="module-assignment-card">
                                    <input type="checkbox" id="reassign-booking">
                                    <label for="reassign-booking">
                                        <i class="fas fa-bed"></i>
                                        <span>Hotels & Booking</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card">
                                    <input type="checkbox" id="reassign-shopping">
                                    <label for="reassign-shopping">
                                        <i class="fas fa-shopping-cart"></i>
                                        <span>Shopping</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card">
                                    <input type="checkbox" id="reassign-restaurants">
                                    <label for="reassign-restaurants">
                                        <i class="fas fa-utensils"></i>
                                        <span>Restaurants</span>
                                    </label>
                                </div>
                                <div class="module-assignment-card">
                                    <input type="checkbox" id="reassign-events">
                                    <label for="reassign-events">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span>Events</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="this.closest('.modal').remove()">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="saveMediaAssignment('${mediaId}', this.closest('.modal'))">Save Assignment</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // Save media assignment
        function saveMediaAssignment(mediaId, modal) {
            const selectedModules = [];
            modal.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                selectedModules.push(checkbox.id.replace('reassign-', ''));
            });
            
            // Update media assignment
            const globalMedia = JSON.parse(localStorage.getItem('global_media')) || [];
            const mediaIndex = globalMedia.findIndex(m => m.id == mediaId);
            
            if (mediaIndex !== -1) {
                globalMedia[mediaIndex].assignedModules = selectedModules;
                localStorage.setItem('global_media', JSON.stringify(globalMedia));
                
                // Re-assign to modules
                selectedModules.forEach(module => {
                    assignMediaToModule(globalMedia[mediaIndex], module);
                });
                
                showAlert(`✅ Media assigned to ${selectedModules.length} modules successfully!`, 'success');
                loadGlobalMediaLibrary();
                
                // Trigger user update
                triggerUserInterfaceUpdate('media');
            }
            
            modal.remove();
        }
        
        // Delete global media
        function deleteGlobalMedia(button) {
            if (confirm('🗑️ Are you sure you want to delete this media? It will be removed from all modules.')) {
                const mediaItem = button.closest('.global-media-item');
                const mediaId = mediaItem.getAttribute('data-id');
                
                // Remove from global storage
                const globalMedia = JSON.parse(localStorage.getItem('global_media')) || [];
                const filteredMedia = globalMedia.filter(m => m.id != mediaId);
                localStorage.setItem('global_media', JSON.stringify(filteredMedia));
                
                // Remove from all module storages
                const modules = ['booking', 'shopping', 'restaurants', 'events', 'streaming', 'tourism', 'gallery', 'realestate'];
                modules.forEach(module => {
                    const moduleMedia = JSON.parse(localStorage.getItem(`${module}_media`)) || [];
                    const filteredModuleMedia = moduleMedia.filter(m => m.id != mediaId);
                    localStorage.setItem(`${module}_media`, JSON.stringify(filteredModuleMedia));
                });
                
                // Remove from DOM
                mediaItem.remove();
                
                showAlert('🗑️ Media deleted successfully from all modules!', 'success');
                
                // Trigger user update
                triggerUserInterfaceUpdate('media');
            }
        }
        
        // ============ END GLOBAL MEDIA GALLERY FUNCTIONS ============

        // ============ ENHANCED PAYMENT SYSTEM ============
        
        // Enhanced MTN Mobile Money Payment
        function processMTNPayment(amount, phoneNumber, description) {
            showAlert('📱 Connecting to MTN Mobile Money...', 'info');
            
            // Simulate MTN MoMo API call
            setTimeout(() => {
                const transactionId = 'MTN' + Date.now();
                const paymentData = {
                    id: transactionId,
                    method: 'MTN Mobile Money',
                    amount: amount,
                    phone: phoneNumber,
                    description: description,
                    status: 'pending',
                    date: new Date().toISOString(),
                    currency: 'XAF'
                };
                
                // Save transaction
                saveTransaction(paymentData);
                
                // Show MTN payment prompt
                showMTNPaymentPrompt(paymentData);
            }, 1000);
        }
        
        // Enhanced Orange Money Payment
        function processOrangePayment(amount, phoneNumber, description) {
            showAlert('🟠 Connecting to Orange Money...', 'info');
            
            // Simulate Orange Money API call
            setTimeout(() => {
                const transactionId = 'OM' + Date.now();
                const paymentData = {
                    id: transactionId,
                    method: 'Orange Money',
                    amount: amount,
                    phone: phoneNumber,
                    description: description,
                    status: 'pending',
                    date: new Date().toISOString(),
                    currency: 'XAF'
                };
                
                // Save transaction
                saveTransaction(paymentData);
                
                // Show Orange payment prompt
                showOrangePaymentPrompt(paymentData);
            }, 1000);
        }
        
        // Show MTN payment prompt
        function showMTNPaymentPrompt(paymentData) {
            const modal = document.createElement('div');
            modal.className = 'modal d-block';
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header bg-warning text-dark">
                            <h5>📱 MTN Mobile Money Payment</h5>
                        </div>
                        <div class="modal-body text-center">
                            <div class="payment-animation">
                                <i class="fas fa-mobile-alt fa-3x text-warning mb-3"></i>
                                <div class="spinner-border text-warning mb-3"></div>
                            </div>
                            <h4>${paymentData.amount.toLocaleString()} XAF</h4>
                            <p><strong>To:</strong> ${paymentData.phone}</p>
                            <p><strong>For:</strong> ${paymentData.description}</p>
                            <p><strong>Transaction ID:</strong> ${paymentData.id}</p>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Please check your phone for MTN MoMo payment prompt</strong><br>
                                Enter your PIN to complete the payment
                            </div>
                            <div class="payment-status" id="mtnPaymentStatus">
                                <div class="d-flex align-items-center justify-content-center">
                                    <div class="spinner-border spinner-border-sm me-2"></div>
                                    Waiting for payment confirmation...
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="cancelPayment('${paymentData.id}', this.closest('.modal'))">Cancel Payment</button>
                            <button type="button" class="btn btn-success" onclick="confirmPayment('${paymentData.id}', this.closest('.modal'))">I've Paid</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Auto-check payment status
            checkPaymentStatus(paymentData.id, 'mtnPaymentStatus');
        }
        
        // Show Orange payment prompt
        function showOrangePaymentPrompt(paymentData) {
            const modal = document.createElement('div');
            modal.className = 'modal d-block';
            modal.innerHTML = `
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header" style="background: #ff6600; color: white;">
                            <h5>🟠 Orange Money Payment</h5>
                        </div>
                        <div class="modal-body text-center">
                            <div class="payment-animation">
                                <i class="fas fa-mobile-alt fa-3x mb-3" style="color: #ff6600;"></i>
                                <div class="spinner-border mb-3" style="color: #ff6600;"></div>
                            </div>
                            <h4>${paymentData.amount.toLocaleString()} XAF</h4>
                            <p><strong>To:</strong> ${paymentData.phone}</p>
                            <p><strong>For:</strong> ${paymentData.description}</p>
                            <p><strong>Transaction ID:</strong> ${paymentData.id}</p>
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Please check your phone for Orange Money payment prompt</strong><br>
                                Enter your PIN to complete the payment
                            </div>
                            <div class="payment-status" id="orangePaymentStatus">
                                <div class="d-flex align-items-center justify-content-center">
                                    <div class="spinner-border spinner-border-sm me-2"></div>
                                    Waiting for payment confirmation...
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="cancelPayment('${paymentData.id}', this.closest('.modal'))">Cancel Payment</button>
                            <button type="button" class="btn btn-success" onclick="confirmPayment('${paymentData.id}', this.closest('.modal'))">I've Paid</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Auto-check payment status
            checkPaymentStatus(paymentData.id, 'orangePaymentStatus');
        }
        
        // Check payment status
        function checkPaymentStatus(transactionId, statusElementId) {
            let attempts = 0;
            const maxAttempts = 10;
            
            const checkInterval = setInterval(() => {
                attempts++;
                
                // Simulate payment confirmation (randomly successful after 3-8 seconds)
                if (attempts >= 3 && Math.random() > 0.3) {
                    clearInterval(checkInterval);
                    confirmPaymentSuccess(transactionId, statusElementId);
                } else if (attempts >= maxAttempts) {
                    clearInterval(checkInterval);
                    showPaymentTimeout(transactionId, statusElementId);
                }
            }, 1000);
        }
        
        // Confirm payment success
        function confirmPaymentSuccess(transactionId, statusElementId) {
            const statusElement = document.getElementById(statusElementId);
            if (statusElement) {
                statusElement.innerHTML = `
                    <div class="alert alert-success">
                        <i class="fas fa-check-circle"></i>
                        <strong>Payment Successful!</strong><br>
                        Your payment has been confirmed
                    </div>
                `;
            }
            
            // Update transaction status
            updateTransactionStatus(transactionId, 'completed');
            
            // Show success message
            setTimeout(() => {
                const modal = document.querySelector('.modal.d-block');
                if (modal) modal.remove();
                showAlert('✅ Payment completed successfully! Your booking is confirmed.', 'success');
                
                // Trigger user interface update
                triggerUserInterfaceUpdate('payment');
            }, 2000);
        }
        
        // Show payment timeout
        function showPaymentTimeout(transactionId, statusElementId) {
            const statusElement = document.getElementById(statusElementId);
            if (statusElement) {
                statusElement.innerHTML = `
                    <div class="alert alert-warning">
                        <i class="fas fa-clock"></i>
                        <strong>Payment Timeout</strong><br>
                        Please try again or contact support
                    </div>
                `;
            }
            
            // Update transaction status
            updateTransactionStatus(transactionId, 'timeout');
        }
        
        // Cancel payment
        function cancelPayment(transactionId, modal) {
            updateTransactionStatus(transactionId, 'cancelled');
            modal.remove();
            showAlert('❌ Payment cancelled by user.', 'warning');
        }
        
        // Confirm payment manually
        function confirmPayment(transactionId, modal) {
            updateTransactionStatus(transactionId, 'completed');
            modal.remove();
            showAlert('✅ Payment confirmed! Thank you for your payment.', 'success');
            
            // Trigger user interface update
            triggerUserInterfaceUpdate('payment');
        }
        
        // Save transaction
        function saveTransaction(transactionData) {
            const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            transactions.push(transactionData);
            localStorage.setItem('transactions', JSON.stringify(transactions));
            
            // Also save to user transactions
            if (window.currentUser) {
                const userTransactions = JSON.parse(localStorage.getItem(`user_transactions_${window.currentUser.email}`)) || [];
                userTransactions.push(transactionData);
                localStorage.setItem(`user_transactions_${window.currentUser.email}`, JSON.stringify(userTransactions));
            }
        }
        
        // Update transaction status
        function updateTransactionStatus(transactionId, status) {
            // Update global transactions
            const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            const transactionIndex = transactions.findIndex(t => t.id === transactionId);
            if (transactionIndex !== -1) {
                transactions[transactionIndex].status = status;
                transactions[transactionIndex].updatedAt = new Date().toISOString();
                localStorage.setItem('transactions', JSON.stringify(transactions));
            }
            
            // Update user transactions
            if (window.currentUser) {
                const userTransactions = JSON.parse(localStorage.getItem(`user_transactions_${window.currentUser.email}`)) || [];
                const userTransactionIndex = userTransactions.findIndex(t => t.id === transactionId);
                if (userTransactionIndex !== -1) {
                    userTransactions[userTransactionIndex].status = status;
                    userTransactions[userTransactionIndex].updatedAt = new Date().toISOString();
                    localStorage.setItem(`user_transactions_${window.currentUser.email}`, JSON.stringify(userTransactions));
                }
            }
        }
        
        // ============ END ENHANCED PAYMENT SYSTEM ============

        // Main Content Management
        function saveModuleMainContent() {
            const title = document.getElementById('moduleTitle').value;
            const description = document.getElementById('moduleDescription').value;
            const status = document.getElementById('moduleStatus').value;
            const videoUrl = document.getElementById('moduleVideoUrl').value;
            
            if (title && description) {
                showAlert('Module main content saved successfully!', 'success');
            } else {
                showAlert('Please fill in all required fields', 'error');
            }
        }

        function previewModuleContent() {
            showAlert('Module Preview - See how content appears in live app!', 'info');
        }

        function publishModule() {
            if (!confirm('Are you sure you want to publish this module? It will be visible to all users.')) return;
            
            try {
                // Use existing Supabase services instead of localStorage
                if (window.VisitLimbeServices && window.VisitLimbeServices.Ads) {
                    // Use the existing AdsService to create offers/promotions
                    showAlert('Module published successfully via Supabase!', 'success');
                } else {
                    showAlert('Supabase services not loaded. Please check connection.', 'error');
                }
            } catch (e) {
                console.error('publishModule failed', e);
                showAlert('Failed to publish module', 'error');
            }
        }

        // Admin: Manage Offers using Supabase
        async function manageOffers() {
            try {
                // Use existing Supabase AdsService to get offers/promotions
                const adsService = window.VisitLimbeServices?.Ads;
                if (!adsService) {
                    showAlert('Supabase services not available', 'error');
                    return;
                }

                showAlert('Loading offers from Supabase...', 'info');
                const { data: offers, error } = await adsService.getAds();
                
                if (error) {
                    showAlert('Failed to load offers: ' + error.message, 'error');
                    return;
                }

                const listHtml = offers?.map(o => `
                    <div class="card p-3 mb-2">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <strong>${escapeHtml(o.title || '')}</strong>
                                <div class="text-muted small">${escapeHtml(o.description || '')}</div>
                            </div>
                            <div class="btn-group">
                                <button class="btn btn-sm btn-secondary" onclick="openOfferEditor('${o.id}')">Edit</button>
                                <button class="btn btn-sm btn-danger" onclick="deleteOffer('${o.id}')">Delete</button>
                            </div>
                        </div>
                    </div>
                `).join('') || '<div class="text-muted">No offers yet.</div>';

                const html = `
                    <div>
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5>Offers Manager (Supabase)</h5>
                            <div>
                                <button class="btn btn-primary" onclick="openOfferEditor()">Add Offer</button>
                                <button class="btn btn-secondary ms-2" onclick="hideAllModals()">Close</button>
                            </div>
                        </div>
                        <div id="offersAdminList">${listHtml}</div>
                    </div>
                `;

                showModal('Manage Offers', html);
            } catch (e) {
                console.error('manageOffers error', e);
                showAlert('Failed to load offers manager', 'error');
            }
        }

        function openOfferEditor(id) {
            const offersModel = window.models && window.models.offers;
            const item = (id && offersModel) ? offersModel.list().find(i => i.id === id) : null;

            const title = item ? item.title : '';
            const description = item ? item.description : '';

            const formHtml = `
                <form onsubmit="saveOffer(event)">
                    <input type="hidden" id="adminOfferId" value="${item ? escapeHtml(item.id) : ''}">
                    <div class="mb-2">
                        <label class="form-label">Title</label>
                        <input id="adminOfferTitle" class="form-control" required value="${escapeHtml(title)}">
                    </div>
                    <div class="mb-2">
                        <label class="form-label">Description</label>
                        <textarea id="adminOfferDescription" class="form-control" rows="3">${escapeHtml(description)}</textarea>
                    </div>
                    <div class="d-flex justify-content-end gap-2">
                        <button type="button" class="btn btn-secondary" onclick="manageOffers()">Back</button>
                        <button type="submit" class="btn btn-primary">Save Offer</button>
                    </div>
                </form>
            `;

            showModal(item ? 'Edit Offer' : 'New Offer', formHtml);
        }

        async function saveOffer(event) {
            try {
                event.preventDefault();
                const id = document.getElementById('adminOfferId')?.value || '';
                const title = (document.getElementById('adminOfferTitle')?.value || '').trim();
                const description = (document.getElementById('adminOfferDescription')?.value || '').trim();

                if (!title) { showAlert('Please enter a title', 'error'); return; }

                const offersModel = window.models && window.models.offers;
                let item = null;
                if (!offersModel) {
                    showAlert('Offers model not available', 'error');
                    return;
                }

                if (id) {
                    item = offersModel.update(id, { title, description });
                    if (!item) { showAlert('Failed to update offer', 'error'); return; }
                    // publish update
                    if (window.adminSync) window.adminSync.publish({ type: 'module_update', module: 'offers', action: 'update', payload: item });
                } else {
                    item = offersModel.create({ title, description });
                    if (!item) { showAlert('Failed to create offer', 'error'); return; }
                    if (window.adminSync) window.adminSync.publish({ type: 'module_update', module: 'offers', action: 'create', payload: item });
                }

                showAlert('Offer saved', 'success');
                // Refresh the manager modal
                manageOffers();
            } catch (e) {
                console.error('saveOffer error', e);
                showAlert('Failed to save offer', 'error');
            }
        }

        function deleteOffer(id) {
            if (!confirm('Delete this offer? This cannot be undone.')) return;
            try {
                const offersModel = window.models && window.models.offers;
                if (!offersModel) { showAlert('Offers model not available', 'error'); return; }
                const ok = offersModel.remove(id);
                if (!ok) { showAlert('Failed to delete offer', 'error'); return; }
                if (window.adminSync) window.adminSync.publish({ type: 'module_update', module: 'offers', action: 'delete', payload: { id } });
                showAlert('Offer deleted', 'success');
                manageOffers();
            } catch (e) {
                console.error('deleteOffer error', e);
                showAlert('Failed to delete offer', 'error');
            }
        }

        function duplicateModule() {
            showAlert('Duplicate Module - Create copy with all content and settings!', 'info');
        }

        // Global Contact Information - Visit Limbe Central
        const VISIT_LIMBE_CONTACT = {
            phone: '+237 653 479 509',
            whatsapp: '+237 653 479 509',
            email: 'abh.staff@proton.me',
            momo: '+237 653 479 509',
            whatsappLink: 'https://wa.me/237653479509',
            businessName: 'Visit Limbe',
            address: 'Limbe, Southwest Region, Cameroon'
        };

        // Enhanced Database Management for Real-time Connection
        class DatabaseManager {
            constructor() {
                this.isInitialized = false;
            }

            // Initialize database tables for real-time features
            async initializeDatabase() {
                if (this.isInitialized) return;

                try {
                    await this.createUserPresenceTable();
                    await this.createAdminActionsTable();
                    await this.createUserStatsTable();
                    this.isInitialized = true;
                    console.log('✅ Database tables initialized for real-time features');
                } catch (error) {
                    console.error('❌ Failed to initialize database:', error);
                }
            }

            // Create user presence tracking table
            async createUserPresenceTable() {
                const { error } = await supabase.rpc('create_user_presence_table');
                if (error && !error.message.includes('already exists')) {
                    throw error;
                }
            }

            // Create admin actions table
            async createAdminActionsTable() {
                const { error } = await supabase.rpc('create_admin_actions_table');
                if (error && !error.message.includes('already exists')) {
                    throw error;
                }
            }

            // Create user stats table
            async createUserStatsTable() {
                const { error } = await supabase.rpc('create_user_stats_table');
                if (error && !error.message.includes('already exists')) {
                    throw error;
                }
            }

            // Initialize user in database
            async initializeUser(userId, userName, userEmail) {
                try {
                    // Create user presence record
                    await supabase
                        .from('user_presence')
                        .upsert({
                            user_id: userId,
                            user_name: userName,
                            user_email: userEmail,
                            current_module: 'dashboard',
                            last_seen: new Date().toISOString(),
                            is_online: true
                        });

                    // Create user stats record
                    await supabase
                        .from('user_stats')
                        .upsert({
                            user_id: userId,
                            reward_points: 0,
                            saved_places: 0,
                            total_bookings: 0,
                            average_rating: 0.0,
                            last_activity: new Date().toISOString()
                        });

                    console.log('✅ User initialized in database');
                } catch (error) {
                    console.warn('Failed to initialize user in database:', error);
                }
            }
        }

        // Global database manager instance
        const databaseManager = new DatabaseManager();

        // ============== UNIFIED DATA SERVICE ==============
        class DataService {
            constructor() {
                this.cache = new Map();
                this.subscriptions = new Map();
                this.isInitialized = false;
            }

            async initialize() {
                if (this.isInitialized) return;
                
                try {
                    // Test Supabase connection
                    const { data, error } = await supabase.from('profiles').select('count').limit(1);
                    if (error) throw error;
                    
                    this.isInitialized = true;
                    console.log('✅ DataService initialized successfully');
                } catch (error) {
                    console.error('❌ DataService initialization failed:', error);
                    throw error;
                }
            }

            async getModuleData(moduleType) {
                await this.initialize();
                
                try {
                    // Map module types to Supabase tables
                    const tableMap = {
                        'booking': 'hotels',
                        'shopping': 'shopping_products',
                        'health': 'health_facilities',
                        'education': 'education_institutions',
                        'transport': 'transport_services',
                        'culture': 'cultural_sites',
                        'maps': 'map_locations',
                        'gallery': 'gallery_items',
                        'smartgro': 'agricultural_products',
                        'streaming': 'videos',
                        'realestate': 'real_estate_listings',
                        'services': 'service_providers',
                        'finance': 'financial_services',
                        'jobs': 'job_postings',
                        'events': 'events',
                        'callcenter': 'support_tickets'
                    };

                    const tableName = tableMap[moduleType] || `${moduleType}_items`;
                    
                    const { data, error } = await supabase
                        .from(tableName)
                        .select('*')
                        .order('created_at', { ascending: false });
                    
                    if (error) {
                        console.warn(`⚠️ Table ${tableName} not found, using fallback data`);
                        return this.getFallbackData(moduleType);
                    }
                    
                    this.cache.set(moduleType, data);
                    this.setupRealtimeSubscription(moduleType, tableName);
                    return data || [];
                    
                } catch (error) {
                    console.error(`Error fetching ${moduleType} data:`, error);
                    return this.getFallbackData(moduleType);
                }
            }

            getFallbackData(moduleType) {
                // Provide sample data for development
                const fallbackData = {
                    booking: [
                        { id: 1, name: 'Limbe Beach Hotel', description: 'Beachfront hotel with stunning views', price: '50000', rating: 4.5, image_url: 'assets/images/hotel1.jpg' },
                        { id: 2, name: 'Mount Cameroon Resort', description: 'Mountain resort near hiking trails', price: '75000', rating: 4.8, image_url: 'assets/images/hotel2.jpg' }
                    ],
                    shopping: [
                        { id: 1, name: 'Limbe Craft Market', description: 'Local handicrafts and souvenirs', price: '5000', category: 'Crafts', image_url: 'assets/images/craft1.jpg' },
                        { id: 2, name: 'Cameroon Coffee Beans', description: 'Premium Arabica coffee from local farms', price: '12000', category: 'Food', image_url: 'assets/images/coffee.jpg' }
                    ],
                    jobs: [
                        { id: 1, title: 'Tourism Guide', company: 'Limbe Tourism Board', location: 'Limbe', salary: '150000', type: 'Full-time' },
                        { id: 2, title: 'Hotel Manager', company: 'Seaside Resort', location: 'Limbe', salary: '300000', type: 'Full-time' }
                    ],
                    events: [
                        { id: 1, name: 'Limbe Festival of Arts', date: '2025-09-15', location: 'Limbe Town Square', description: 'Annual cultural celebration' },
                        { id: 2, name: 'Mount Cameroon Hiking Tour', date: '2025-09-20', location: 'Mount Cameroon', description: 'Guided hiking experience' }
                    ]
                };
                
                return fallbackData[moduleType] || [];
            }

            setupRealtimeSubscription(moduleType, tableName) {
                if (this.subscriptions.has(moduleType)) return;
                
                const subscription = supabase
                    .channel(`${moduleType}_changes`)
                    .on('postgres_changes', {
                        event: '*',
                        schema: 'public',
                        table: tableName
                    }, (payload) => {
                        this.handleDataChange(moduleType, payload);
                    })
                    .subscribe();
                    
                this.subscriptions.set(moduleType, subscription);
                console.log(`🔔 Real-time subscription setup for ${moduleType}`);
            }

            handleDataChange(moduleType, payload) {
                console.log(`📡 Real-time update for ${moduleType}:`, payload);
                
                // Invalidate cache
                this.cache.delete(moduleType);
                
                // Emit custom event for UI updates
                window.dispatchEvent(new CustomEvent(`${moduleType}DataChanged`, {
                    detail: { payload, moduleType }
                }));
                
                // Refresh current module if it's being viewed
                if (window.currentModule === moduleType) {
                    this.refreshModuleUI(moduleType);
                }
            }

            async refreshModuleUI(moduleType) {
                try {
                    const freshData = await this.getModuleData(moduleType);
                    
                    // Call module-specific refresh function
                    const refreshFunction = window[`refresh${moduleType.charAt(0).toUpperCase() + moduleType.slice(1)}UI`];
                    if (typeof refreshFunction === 'function') {
                        refreshFunction(freshData);
                    } else {
                        // Generic refresh
                        console.log(`🔄 Refreshing ${moduleType} with fresh data`);
                        if (typeof loadModuleContent === 'function') {
                            loadModuleContent(moduleType);
                        }
                    }
                } catch (error) {
                    console.error(`Error refreshing ${moduleType} UI:`, error);
                }
            }

            async createItem(moduleType, itemData) {
                await this.initialize();
                
                const tableMap = {
                    'booking': 'hotels',
                    'shopping': 'shopping_products',
                    'jobs': 'job_postings',
                    'events': 'events'
                };
                
                const tableName = tableMap[moduleType] || `${moduleType}_items`;
                
                try {
                    const { data, error } = await supabase
                        .from(tableName)
                        .insert([{ ...itemData, created_at: new Date().toISOString() }])
                        .select();
                    
                    if (error) throw error;
                    
                    console.log(`✅ Created ${moduleType} item:`, data);
                    return { success: true, data };
                } catch (error) {
                    console.error(`❌ Error creating ${moduleType} item:`, error);
                    return { success: false, error: error.message };
                }
            }

            async updateItem(moduleType, itemId, updateData) {
                await this.initialize();
                
                const tableMap = {
                    'booking': 'hotels',
                    'shopping': 'shopping_products',
                    'jobs': 'job_postings',
                    'events': 'events'
                };
                
                const tableName = tableMap[moduleType] || `${moduleType}_items`;
                
                try {
                    const { data, error } = await supabase
                        .from(tableName)
                        .update({ ...updateData, updated_at: new Date().toISOString() })
                        .eq('id', itemId)
                        .select();
                    
                    if (error) throw error;
                    
                    console.log(`✅ Updated ${moduleType} item:`, data);
                    return { success: true, data };
                } catch (error) {
                    console.error(`❌ Error updating ${moduleType} item:`, error);
                    return { success: false, error: error.message };
                }
            }

            async deleteItem(moduleType, itemId) {
                await this.initialize();
                
                const tableMap = {
                    'booking': 'hotels',
                    'shopping': 'shopping_products',
                    'jobs': 'job_postings',
                    'events': 'events'
                };
                
                const tableName = tableMap[moduleType] || `${moduleType}_items`;
                
                try {
                    const { error } = await supabase
                        .from(tableName)
                        .delete()
                        .eq('id', itemId);
                    
                    if (error) throw error;
                    
                    console.log(`✅ Deleted ${moduleType} item ID:`, itemId);
                    return { success: true };
                } catch (error) {
                    console.error(`❌ Error deleting ${moduleType} item:`, error);
                    return { success: false, error: error.message };
                }
            }
        }

        // Initialize global data service
        const dataService = new DataService();

        // Enhanced Dashboard Manager with Bidirectional Admin Connection
        class DashboardManager {
            constructor() {
                this.isSubscribed = false;
                this.updateHandlers = new Map();
                this.lastUpdateTime = null;
                this.adminConnection = null;
                this.userPresence = new Map();
                this.isAdmin = false;
                this.liveUserCount = 0;
                this.moduleUserCounts = new Map();
                this.dataService = dataService;
            }

            // Initialize real-time connection to admin dashboard
            async initializeAdminConnection() {
                try {
                    // Initialize data service first
                    await this.dataService.initialize();
                    
                    // Check if current user is admin
                    this.isAdmin = this.checkAdminStatus();
                    
                    // Subscribe to real-time changes from admin dashboard
                    this.adminConnection = supabase
                        .channel('admin_updates')
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'hotels'
                        }, (payload) => this.handleHotelUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'shopping_products'
                        }, (payload) => this.handleShoppingUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'job_postings'
                        }, (payload) => this.handleJobsUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'events'
                        }, (payload) => this.handleEventUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'real_estate_listings'
                        }, (payload) => this.handleRealEstateUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'service_providers'
                        }, (payload) => this.handleServicesUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'financial_services'
                        }, (payload) => this.handleFinanceUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'health_facilities'
                        }, (payload) => this.handleHealthUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'education_institutions'
                        }, (payload) => this.handleEducationUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'transport_services'
                        }, (payload) => this.handleTransportUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'cultural_sites'
                        }, (payload) => this.handleCultureUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'map_locations'
                        }, (payload) => this.handleMapsUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'gallery_items'
                        }, (payload) => this.handleGalleryUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'agricultural_products'
                        }, (payload) => this.handleSmartgroUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'videos'
                        }, (payload) => this.handleStreamingUpdate(payload))
                        .on('postgres_changes', {
                            event: '*',
                            schema: 'public',
                            table: 'support_tickets'
                        }, (payload) => this.handleCallCenterUpdate(payload))
                        .on('broadcast', {
                            event: 'user_module_change'
                        }, (payload) => this.handleUserModuleChange(payload))
                        .on('broadcast', {
                            event: 'admin_action'
                        }, (payload) => this.handleAdminAction(payload))
                        .subscribe();

                    // Set up user presence tracking
                    await this.initializeUserPresence();

                    this.isSubscribed = true;
                    console.log('✅ Dashboard connected to admin updates');
                    this.showConnectionStatus(true);
                    
                    // If admin, initialize admin dashboard enhancements
                    if (this.isAdmin) {
                        await this.initializeAdminDashboard();
                    }
                } catch (error) {
                    console.error('❌ Failed to connect to admin dashboard:', error);
                    this.showConnectionStatus(false);
                }
            }

            // Real-time update handlers for all modules
            async handleHotelUpdate(payload) {
                console.log('🏨 Hotel update received:', payload);
                await this.refreshModuleIfActive('booking');
                this.showAdminNotificationToUsers('booking', payload);
            }

            async handleShoppingUpdate(payload) {
                console.log('🛍️ Shopping update received:', payload);
                await this.refreshModuleIfActive('shopping');
                this.showAdminNotificationToUsers('shopping', payload);
            }

            async handleJobsUpdate(payload) {
                console.log('💼 Jobs update received:', payload);
                await this.refreshModuleIfActive('jobs');
                this.showAdminNotificationToUsers('jobs', payload);
            }

            async handleEventUpdate(payload) {
                console.log('🎉 Event update received:', payload);
                await this.refreshModuleIfActive('events');
                this.showAdminNotificationToUsers('events', payload);
            }

            async handleRealEstateUpdate(payload) {
                console.log('🏠 Real Estate update received:', payload);
                await this.refreshModuleIfActive('realestate');
                this.showAdminNotificationToUsers('realestate', payload);
            }

            async handleServicesUpdate(payload) {
                console.log('🔧 Services update received:', payload);
                await this.refreshModuleIfActive('services');
                this.showAdminNotificationToUsers('services', payload);
            }

            async handleFinanceUpdate(payload) {
                console.log('💰 Finance update received:', payload);
                await this.refreshModuleIfActive('finance');
                this.showAdminNotificationToUsers('finance', payload);
            }

            async handleHealthUpdate(payload) {
                console.log('🏥 Health update received:', payload);
                await this.refreshModuleIfActive('health');
                this.showAdminNotificationToUsers('health', payload);
            }

            async handleEducationUpdate(payload) {
                console.log('🎓 Education update received:', payload);
                await this.refreshModuleIfActive('education');
                this.showAdminNotificationToUsers('education', payload);
            }

            async handleTransportUpdate(payload) {
                console.log('🚗 Transport update received:', payload);
                await this.refreshModuleIfActive('transport');
                this.showAdminNotificationToUsers('transport', payload);
            }

            async handleCultureUpdate(payload) {
                console.log('🏛️ Culture update received:', payload);
                await this.refreshModuleIfActive('culture');
                this.showAdminNotificationToUsers('culture', payload);
            }

            async handleMapsUpdate(payload) {
                console.log('🗺️ Maps update received:', payload);
                await this.refreshModuleIfActive('maps');
                this.showAdminNotificationToUsers('maps', payload);
            }

            async handleGalleryUpdate(payload) {
                console.log('📸 Gallery update received:', payload);
                await this.refreshModuleIfActive('gallery');
                this.showAdminNotificationToUsers('gallery', payload);
            }

            async handleSmartgroUpdate(payload) {
                console.log('🌱 SmartGro update received:', payload);
                await this.refreshModuleIfActive('smartgro');
                this.showAdminNotificationToUsers('smartgro', payload);
            }

            async handleStreamingUpdate(payload) {
                console.log('📺 Streaming update received:', payload);
                await this.refreshModuleIfActive('streaming');
                this.showAdminNotificationToUsers('streaming', payload);
            }

            async handleCallCenterUpdate(payload) {
                console.log('📞 Call Center update received:', payload);
                await this.refreshModuleIfActive('callcenter');
                this.showAdminNotificationToUsers('callcenter', payload);
            }

            async refreshModuleIfActive(moduleType) {
                if (window.currentModule === moduleType) {
                    console.log(`🔄 Refreshing active module: ${moduleType}`);
                    try {
                        // Get fresh data from DataService
                        const freshData = await this.dataService.getModuleData(moduleType);
                        
                        // Call module-specific refresh function
                        const refreshFunction = window[`refresh${moduleType.charAt(0).toUpperCase() + moduleType.slice(1)}UI`];
                        if (typeof refreshFunction === 'function') {
                            refreshFunction(freshData);
                        } else {
                            // Generic refresh - reload the module
                            if (typeof loadModuleContent === 'function') {
                                loadModuleContent(moduleType);
                            }
                        }
                        
                        // Show notification to user
                        this.showRealTimeUpdateNotification(moduleType);
                    } catch (error) {
                        console.error(`Error refreshing ${moduleType}:`, error);
                    }
                }
            }

            showAdminNotificationToUsers(moduleType, payload) {
                if (!this.isAdmin) {
                    const actionText = {
                        INSERT: 'added',
                        UPDATE: 'updated',
                        DELETE: 'removed'
                    }[payload.eventType] || 'modified';
                    
                    const moduleNames = {
                        booking: 'Hotels & Booking',
                        shopping: 'Shopping',
                        jobs: 'Jobs',
                        events: 'Events',
                        realestate: 'Real Estate',
                        services: 'Services',
                        finance: 'Finance',
                        health: 'Health',
                        education: 'Education',
                        transport: 'Transport',
                        culture: 'Culture',
                        maps: 'Maps',
                        gallery: 'Gallery',
                        smartgro: 'SmartGro',
                        streaming: 'Streaming',
                        callcenter: 'Support'
                    };
                    
                    this.showNotification(`${moduleNames[moduleType] || moduleType} content ${actionText}`, 'info');
                }
            }

            showRealTimeUpdateNotification(moduleType) {
                const notification = document.createElement('div');
                notification.className = 'real-time-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <i class="material-icons">sync</i>
                        <span>Content updated in real-time</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            // Check if current user is admin
            checkAdminStatus() {
                const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
                return currentUser.role === 'admin' || currentUser.email === 'admin@visitlimbe.com';
            }

            // Initialize user presence tracking
            async initializeUserPresence() {
                const userId = getCurrentUserId();
                const userName = this.getCurrentUserName();
                
                if (!userId) return;

                try {
                    // Update user presence in database
                    await supabase
                        .from('user_presence')
                        .upsert({
                            user_id: userId,
                            user_name: userName,
                            current_module: 'dashboard',
                            last_seen: new Date().toISOString(),
                            is_online: true
                        });

                    // Send presence broadcast
                    this.adminConnection.send({
                        type: 'broadcast',
                        event: 'user_presence_update',
                        payload: {
                            user_id: userId,
                            user_name: userName,
                            module: 'dashboard',
                            action: 'online'
                        }
                    });

                    // Set up periodic presence updates
                    setInterval(() => {
                        this.updateUserPresence();
                    }, 30000); // Update every 30 seconds

                } catch (error) {
                    console.warn('Failed to initialize user presence:', error);
                }
            }

            // Update user presence periodically
            async updateUserPresence() {
                const userId = getCurrentUserId();
                if (!userId) return;

                try {
                    await supabase
                        .from('user_presence')
                        .update({
                            last_seen: new Date().toISOString(),
                            is_online: true
                        })
                        .eq('user_id', userId);
                } catch (error) {
                    console.warn('Failed to update presence:', error);
                }
            }

            // Track when user changes modules
            async trackModuleChange(moduleType) {
                const userId = getCurrentUserId();
                const userName = this.getCurrentUserName();
                
                if (!userId) return;

                try {
                    // Update database
                    await supabase
                        .from('user_presence')
                        .update({
                            current_module: moduleType,
                            last_seen: new Date().toISOString()
                        })
                        .eq('user_id', userId);

                    // Broadcast to admin
                    this.adminConnection.send({
                        type: 'broadcast',
                        event: 'user_module_change',
                        payload: {
                            user_id: userId,
                            user_name: userName,
                            module: moduleType,
                            timestamp: new Date().toISOString()
                        }
                    });

                    console.log(`📍 User moved to ${moduleType} module`);
                } catch (error) {
                    console.warn('Failed to track module change:', error);
                }
            }

            // Initialize admin dashboard enhancements
            async initializeAdminDashboard() {
                console.log('🛠️ Initializing admin dashboard enhancements...');
                
                // Add live user tracking panel to admin dashboard
                this.addLiveUserPanel();
                
                // Add admin action tracking
                this.initializeAdminActionTracking();
                
                // Load initial user presence data
                await this.loadUserPresenceData();
                
                console.log('✅ Admin dashboard enhancements ready');
            }

            // Add live user tracking panel to admin dashboard
            addLiveUserPanel() {
                // Check if admin dashboard exists
                const adminDashboard = document.getElementById('adminDashboard');
                if (!adminDashboard) return;

                // Add live users panel
                const liveUsersPanel = `
                    <div class="admin-live-panel" id="liveUsersPanel">
                        <div class="panel-header">
                            <h6>📊 Live User Activity</h6>
                            <div class="live-indicator">
                                <div class="pulse-dot"></div>
                                <span id="totalOnlineUsers">0</span> users online
                            </div>
                        </div>
                        
                        <div class="module-activity" id="moduleActivity">
                            <div class="loading-placeholder">Loading user activity...</div>
                        </div>
                        
                        <div class="recent-actions" id="recentAdminActions">
                            <h6>Recent Admin Actions</h6>
                            <div class="actions-list" id="actionsList">
                                <div class="loading-placeholder">Loading recent actions...</div>
                            </div>
                        </div>
                    </div>
                `;

                // Insert after admin header
                const adminHeader = adminDashboard.querySelector('.admin-header');
                if (adminHeader) {
                    adminHeader.insertAdjacentHTML('afterend', liveUsersPanel);
                }

                // Add styles for live panel
                this.addLivePanelStyles();
            }

            // Add styles for live user panel
            addLivePanelStyles() {
                if (document.querySelector('#live-panel-styles')) return;

                const styles = document.createElement('style');
                styles.id = 'live-panel-styles';
                styles.textContent = `
                    .admin-live-panel {
                        background: white;
                        border-radius: 12px;
                        margin: 16px;
                        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                        overflow: hidden;
                    }
                    
                    .panel-header {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 16px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    }
                    
                    .panel-header h6 {
                        margin: 0;
                        font-size: 16px;
                        font-weight: 600;
                    }
                    
                    .live-indicator {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        font-size: 14px;
                    }
                    
                    .pulse-dot {
                        width: 8px;
                        height: 8px;
                        background: #2ed573;
                        border-radius: 50%;
                        animation: pulse 2s infinite;
                    }
                    
                    .module-activity {
                        padding: 16px;
                        border-bottom: 1px solid #e0e0e0;
                    }
                    
                    .module-stats {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                        gap: 12px;
                        margin-bottom: 16px;
                    }
                    
                    .module-stat {
                        background: #f8f9fa;
                        padding: 12px;
                        border-radius: 8px;
                        text-align: center;
                    }
                    
                    .module-stat .count {
                        font-size: 20px;
                        font-weight: bold;
                        color: var(--primary);
                        display: block;
                    }
                    
                    .module-stat .label {
                        font-size: 12px;
                        color: var(--text-secondary);
                        margin-top: 4px;
                    }
                    
                    .active-users-list {
                        max-height: 200px;
                        overflow-y: auto;
                    }
                    
                    .user-item {
                        display: flex;
                        align-items: center;
                        gap: 12px;
                        padding: 8px;
                        border-radius: 8px;
                        margin-bottom: 4px;
                        background: #f8f9fa;
                    }
                    
                    .user-avatar {
                        width: 32px;
                        height: 32px;
                        border-radius: 50%;
                        background: var(--primary);
                        color: white;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 12px;
                        font-weight: bold;
                    }
                    
                    .user-info {
                        flex: 1;
                    }
                    
                    .user-name {
                        font-size: 14px;
                        font-weight: 500;
                        margin: 0;
                    }
                    
                    .user-module {
                        font-size: 12px;
                        color: var(--text-secondary);
                    }
                    
                    .recent-actions {
                        padding: 16px;
                    }
                    
                    .recent-actions h6 {
                        margin: 0 0 12px 0;
                        font-size: 14px;
                        font-weight: 600;
                    }
                    
                    .action-item {
                        display: flex;
                        align-items: center;
                        gap: 12px;
                        padding: 8px;
                        border-radius: 8px;
                        margin-bottom: 4px;
                        background: #f8f9fa;
                    }
                    
                    .action-icon {
                        width: 32px;
                        height: 32px;
                        border-radius: 50%;
                        background: var(--success);
                        color: white;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 14px;
                    }
                    
                    .action-details {
                        flex: 1;
                    }
                    
                    .action-title {
                        font-size: 13px;
                        font-weight: 500;
                        margin: 0;
                    }
                    
                    .action-impact {
                        font-size: 11px;
                        color: var(--text-secondary);
                    }
                    
                    .action-time {
                        font-size: 11px;
                        color: var(--text-secondary);
                    }
                `;
                document.head.appendChild(styles);
            }

            // Load user presence data
            async loadUserPresenceData() {
                try {
                    const { data: users, error } = await supabase
                        .from('user_presence')
                        .select('*')
                        .eq('is_online', true)
                        .order('last_seen', { ascending: false });

                    if (error) throw error;

                    this.updateLiveUserDisplay(users || []);
                } catch (error) {
                    console.error('Failed to load user presence:', error);
                }
            }

            // Update live user display in admin panel
            updateLiveUserDisplay(users) {
                const totalOnlineUsers = document.getElementById('totalOnlineUsers');
                const moduleActivity = document.getElementById('moduleActivity');
                
                if (!totalOnlineUsers || !moduleActivity) return;

                // Update total count
                totalOnlineUsers.textContent = users.length;

                // Count users per module
                const moduleCounts = new Map();
                users.forEach(user => {
                    const module = user.current_module || 'unknown';
                    moduleCounts.set(module, (moduleCounts.get(module) || 0) + 1);
                });

                // Render module stats
                const moduleStats = Array.from(moduleCounts.entries())
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 6) // Show top 6 modules
                    .map(([module, count]) => `
                        <div class="module-stat">
                            <span class="count">${count}</span>
                            <div class="label">${this.formatModuleName(module)}</div>
                        </div>
                    `).join('');

                // Render active users list
                const usersList = users.slice(0, 10).map(user => `
                    <div class="user-item">
                        <div class="user-avatar">${this.getUserInitials(user.user_name)}</div>
                        <div class="user-info">
                            <div class="user-name">${user.user_name || 'Anonymous'}</div>
                            <div class="user-module">📍 ${this.formatModuleName(user.current_module)}</div>
                        </div>
                        <div class="action-time">${this.getTimeAgo(user.last_seen)}</div>
                    </div>
                `).join('');

                moduleActivity.innerHTML = `
                    <div class="module-stats">${moduleStats}</div>
                    <h6 style="margin: 16px 0 8px 0; font-size: 14px;">Active Users</h6>
                    <div class="active-users-list">${usersList}</div>
                `;
            }

            // Handle user presence updates
            handlePresenceUpdate(payload) {
                if (this.isAdmin) {
                    console.log('👥 User presence update:', payload);
                    this.loadUserPresenceData(); // Refresh the display
                }
            }

            // Handle user module changes
            handleUserModuleChange(payload) {
                if (this.isAdmin) {
                    const { user_name, module, user_id } = payload.payload;
                    console.log(`📍 ${user_name} moved to ${module} module`);
                    
                    // Show admin notification
                    this.showAdminNotification(
                        `User Activity`,
                        `${user_name} is now viewing ${this.formatModuleName(module)}`
                    );
                    
                    // Refresh user display
                    this.loadUserPresenceData();
                }
            }

            // Initialize admin action tracking
            initializeAdminActionTracking() {
                // Override admin functions to track actions
                this.trackAdminActions();
            }

            // Track admin actions and their impact
            trackAdminActions() {
                const originalFunctions = [
                    'addHotel', 'updateHotel', 'deleteHotel',
                    'addRestaurant', 'updateRestaurant', 'deleteRestaurant',
                    'addEvent', 'updateEvent', 'deleteEvent',
                    'addOffer', 'updateOffer', 'deleteOffer'
                ];

                originalFunctions.forEach(funcName => {
                    if (window[funcName]) {
                        const originalFunc = window[funcName];
                        window[funcName] = async (...args) => {
                            // Execute original function
                            const result = await originalFunc.apply(this, args);
                            
                            // Track the action
                            await this.logAdminAction(funcName, args, result);
                            
                            return result;
                        };
                    }
                });
            }

            // Log admin actions with user impact
            async logAdminAction(action, args, result) {
                try {
                    const userId = getCurrentUserId();
                    const userName = this.getCurrentUserName();
                    
                    // Count affected users
                    const affectedUsers = await this.countAffectedUsers(action, args);
                    
                    // Log to database
                    await supabase
                        .from('admin_actions')
                        .insert({
                            admin_id: userId,
                            admin_name: userName,
                            action_type: action,
                            affected_users: affectedUsers.count,
                            user_details: affectedUsers.details,
                            created_at: new Date().toISOString()
                        });

                    // Broadcast to all users
                    this.adminConnection.send({
                        type: 'broadcast',
                        event: 'admin_action',
                        payload: {
                            action,
                            admin_name: userName,
                            affected_users: affectedUsers.count,
                            timestamp: new Date().toISOString()
                        }
                    });

                    // Show admin feedback
                    this.showAdminActionFeedback(action, affectedUsers.count);

                    // Update recent actions display
                    this.updateRecentActionsDisplay();

                } catch (error) {
                    console.error('Failed to log admin action:', error);
                }
            }

            // Count users that will be affected by admin action
            async countAffectedUsers(action, args) {
                try {
                    // Get all online users
                    const { data: onlineUsers, error } = await supabase
                        .from('user_presence')
                        .select('*')
                        .eq('is_online', true);

                    if (error) throw error;

                    // Determine which users are affected based on action type
                    let affectedUsers = [];
                    const relevantModule = this.getModuleFromAction(action);
                    
                    if (relevantModule) {
                        affectedUsers = onlineUsers.filter(user => 
                            user.current_module === relevantModule || 
                            user.current_module === 'dashboard'
                        );
                    } else {
                        affectedUsers = onlineUsers; // Affects all users
                    }

                    return {
                        count: affectedUsers.length,
                        details: affectedUsers.map(u => ({
                            user_id: u.user_id,
                            user_name: u.user_name,
                            current_module: u.current_module
                        }))
                    };
                } catch (error) {
                    console.error('Failed to count affected users:', error);
                    return { count: 0, details: [] };
                }
            }

            // Get module name from admin action
            getModuleFromAction(action) {
                const moduleMap = {
                    'addHotel': 'hotels',
                    'updateHotel': 'hotels',
                    'deleteHotel': 'hotels',
                    'addRestaurant': 'restaurants',
                    'updateRestaurant': 'restaurants',
                    'deleteRestaurant': 'restaurants',
                    'addEvent': 'events',
                    'updateEvent': 'events',
                    'deleteEvent': 'events'
                };
                return moduleMap[action] || null;
            }

            // Show admin action feedback
            showAdminActionFeedback(action, affectedUsers) {
                const actionName = this.formatActionName(action);
                const message = affectedUsers > 0 
                    ? `${actionName} completed! ✅ Notified ${affectedUsers} active users`
                    : `${actionName} completed! ✅ No users currently affected`;
                
                this.showAdminNotification('Action Complete', message);
            }

            // Show admin-specific notifications
            showAdminNotification(title, message) {
                if (!this.isAdmin) return;

                const notification = document.createElement('div');
                notification.className = 'admin-notification';
                notification.innerHTML = `
                    <div class="admin-notification-content">
                        <div class="notification-icon">👨‍💼</div>
                        <div class="notification-text">
                            <strong>${title}</strong>
                            <div class="notification-message">${message}</div>
                        </div>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">×</button>
                    </div>
                `;
                
                // Add admin notification styles
                if (!document.querySelector('#admin-notification-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'admin-notification-styles';
                    styles.textContent = `
                        .admin-notification {
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border-radius: 12px;
                            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                            z-index: 10001;
                            max-width: 350px;
                            animation: slideInRight 0.3s ease-out;
                        }
                        
                        .admin-notification-content {
                            display: flex;
                            align-items: flex-start;
                            padding: 16px;
                            gap: 12px;
                        }
                        
                        .admin-notification .notification-icon {
                            font-size: 20px;
                            flex-shrink: 0;
                        }
                        
                        .admin-notification .notification-text {
                            flex: 1;
                            font-size: 14px;
                        }
                        
                        .admin-notification .notification-message {
                            font-size: 13px;
                            opacity: 0.9;
                            margin-top: 4px;
                        }
                        
                        .admin-notification .notification-close {
                            background: rgba(255,255,255,0.2);
                            border: none;
                            border-radius: 50%;
                            color: white;
                            cursor: pointer;
                            padding: 4px;
                            width: 24px;
                            height: 24px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 16px;
                        }
                    `;
                    document.head.appendChild(styles);
                }
                
                document.body.appendChild(notification);
                
                // Auto-remove after 7 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 7000);
            }

            // Update recent actions display
            async updateRecentActionsDisplay() {
                if (!this.isAdmin) return;

                try {
                    const { data: actions, error } = await supabase
                        .from('admin_actions')
                        .select('*')
                        .order('created_at', { ascending: false })
                        .limit(5);

                    if (error) throw error;

                    const actionsList = document.getElementById('actionsList');
                    if (!actionsList) return;

                    if (actions.length === 0) {
                        actionsList.innerHTML = '<div class="no-data">No recent actions</div>';
                        return;
                    }

                    actionsList.innerHTML = actions.map(action => `
                        <div class="action-item">
                            <div class="action-icon">${this.getActionIcon(action.action_type)}</div>
                            <div class="action-details">
                                <div class="action-title">${this.formatActionName(action.action_type)}</div>
                                <div class="action-impact">Affected ${action.affected_users} users</div>
                            </div>
                            <div class="action-time">${this.getTimeAgo(action.created_at)}</div>
                        </div>
                    `).join('');

                } catch (error) {
                    console.error('Failed to load recent actions:', error);
                }
            }

            // Helper functions
            getCurrentUserName() {
                const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
                return currentUser.name || currentUser.email || 'Unknown User';
            }

            getUserInitials(name) {
                if (!name) return 'U';
                return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
            }

            formatModuleName(module) {
                const moduleNames = {
                    'dashboard': 'Dashboard',
                    'hotels': 'Hotels',
                    'restaurants': 'Restaurants',
                    'tourism': 'Tourism',
                    'events': 'Events',
                    'healthcare': 'Healthcare',
                    'education': 'Education',
                    'transportation': 'Transportation',
                    'shopping': 'Shopping',
                    'finance': 'Finance',
                    'real-estate': 'Real Estate',
                    'streaming': 'Streaming',
                    'smartgro': 'SmartGro'
                };
                return moduleNames[module] || module;
            }

            formatActionName(action) {
                const actionNames = {
                    'addHotel': 'Added Hotel',
                    'updateHotel': 'Updated Hotel',
                    'deleteHotel': 'Removed Hotel',
                    'addRestaurant': 'Added Restaurant',
                    'updateRestaurant': 'Updated Restaurant',
                    'deleteRestaurant': 'Removed Restaurant',
                    'addEvent': 'Created Event',
                    'updateEvent': 'Updated Event',
                    'deleteEvent': 'Cancelled Event'
                };
                return actionNames[action] || action;
            }

            getActionIcon(action) {
                if (action.includes('add') || action.includes('create')) return '➕';
                if (action.includes('update')) return '✏️';
                if (action.includes('delete') || action.includes('remove')) return '🗑️';
                return '⚡';
            }

            // Handle real-time hotel updates from admin
            handleHotelUpdate(payload) {
                console.log('🏨 Hotel update received:', payload);
                
                if (payload.eventType === 'INSERT') {
                    this.showUpdateNotification('New hotel added!', payload.new.name);
                    this.updateModuleBadge('hotels', '+1');
                } else if (payload.eventType === 'UPDATE') {
                    this.showUpdateNotification('Hotel updated!', payload.new.name);
                    this.refreshModuleData('hotels');
                } else if (payload.eventType === 'DELETE') {
                    this.showUpdateNotification('Hotel removed', payload.old.name);
                    this.updateModuleBadge('hotels', '-1');
                }
                
                this.updateLastRefreshTime();
            }

            // Handle real-time restaurant updates from admin
            handleRestaurantUpdate(payload) {
                console.log('🍽️ Restaurant update received:', payload);
                
                if (payload.eventType === 'INSERT') {
                    this.showUpdateNotification('New restaurant added!', payload.new.name);
                    this.updateModuleBadge('restaurants', '+1');
                } else if (payload.eventType === 'UPDATE') {
                    this.showUpdateNotification('Restaurant updated!', payload.new.name);
                    this.refreshModuleData('restaurants');
                } else if (payload.eventType === 'DELETE') {
                    this.showUpdateNotification('Restaurant removed', payload.old.name);
                    this.updateModuleBadge('restaurants', '-1');
                }
                
                this.updateLastRefreshTime();
            }

            // Handle real-time tourism updates from admin
            handleTourismUpdate(payload) {
                console.log('🏔️ Tourism update received:', payload);
                
                if (payload.eventType === 'INSERT') {
                    this.showUpdateNotification('New attraction added!', payload.new.name);
                    this.updateModuleBadge('tourism', '+1');
                } else if (payload.eventType === 'UPDATE') {
                    this.showUpdateNotification('Attraction updated!', payload.new.name);
                    this.refreshModuleData('tourism');
                } else if (payload.eventType === 'DELETE') {
                    this.showUpdateNotification('Attraction removed', payload.old.name);
                    this.updateModuleBadge('tourism', '-1');
                }
                
                this.updateLastRefreshTime();
            }

            // Handle real-time event updates from admin
            handleEventUpdate(payload) {
                console.log('🎭 Event update received:', payload);
                
                if (payload.eventType === 'INSERT') {
                    this.showUpdateNotification('New event added!', payload.new.title);
                    this.updateModuleBadge('events', '+1');
                } else if (payload.eventType === 'UPDATE') {
                    this.showUpdateNotification('Event updated!', payload.new.title);
                    this.refreshModuleData('events');
                } else if (payload.eventType === 'DELETE') {
                    this.showUpdateNotification('Event cancelled', payload.old.title);
                    this.updateModuleBadge('events', '-1');
                }
                
                this.updateLastRefreshTime();
            }

            // Handle real-time offer updates from admin
            handleOfferUpdate(payload) {
                console.log('💎 Offer update received:', payload);
                
                if (payload.eventType === 'INSERT') {
                    this.showUpdateNotification('New special offer!', payload.new.title);
                    this.refreshOffersSection();
                } else if (payload.eventType === 'UPDATE') {
                    this.showUpdateNotification('Offer updated!', payload.new.title);
                    this.refreshOffersSection();
                } else if (payload.eventType === 'DELETE') {
                    this.showUpdateNotification('Offer expired', payload.old.title);
                    this.refreshOffersSection();
                }
                
                this.updateLastRefreshTime();
            }

            // Handle user activity updates
            handleActivityUpdate(payload) {
                if (payload.new && payload.new.user_id === getCurrentUserId()) {
                    this.refreshUserStats();
                    this.refreshRecentActivity();
                }
            }

            // Show real-time update notification
            showUpdateNotification(title, subtitle = '') {
                const notification = document.createElement('div');
                notification.className = 'update-notification';
                notification.innerHTML = `
                    <div class="notification-content">
                        <div class="notification-icon">🔔</div>
                        <div class="notification-text">
                            <strong>${title}</strong>
                            ${subtitle ? `<div class="notification-subtitle">${subtitle}</div>` : ''}
                        </div>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">×</button>
                    </div>
                `;
                
                // Add notification styles if not already added
                if (!document.querySelector('#notification-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'notification-styles';
                    styles.textContent = `
                        .update-notification {
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: white;
                            border-radius: 12px;
                            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                            z-index: 10000;
                            max-width: 300px;
                            animation: slideInRight 0.3s ease-out;
                        }
                        
                        .notification-content {
                            display: flex;
                            align-items: flex-start;
                            padding: 16px;
                            gap: 12px;
                        }
                        
                        .notification-icon {
                            font-size: 20px;
                            flex-shrink: 0;
                        }
                        
                        .notification-text {
                            flex: 1;
                            font-size: 14px;
                        }
                        
                        .notification-subtitle {
                            color: #666;
                            font-size: 12px;
                            margin-top: 2px;
                        }
                        
                        .notification-close {
                            background: none;
                            border: none;
                            font-size: 18px;
                            cursor: pointer;
                            color: #999;
                            padding: 0;
                            width: 20px;
                            height: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        }
                        
                        @keyframes slideInRight {
                            from { transform: translateX(100%); opacity: 0; }
                            to { transform: translateX(0); opacity: 1; }
                        }
                    `;
                    document.head.appendChild(styles);
                }
                
                document.body.appendChild(notification);
                
                // Auto-remove after 5 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 5000);
            }

            // Update module badge counts
            updateModuleBadge(moduleType, change) {
                const moduleCard = document.querySelector(`[onclick="showModule('${moduleType}')"] .module-badge`);
                if (moduleCard) {
                    const currentText = moduleCard.textContent;
                    const currentNumber = parseInt(currentText.match(/\d+/)?.[0] || '0');
                    const newNumber = change.startsWith('+') ? 
                        currentNumber + parseInt(change.substring(1)) : 
                        currentNumber - parseInt(change.substring(1));
                    
                    moduleCard.textContent = currentText.replace(/\d+/, newNumber.toString());
                    
                    // Add visual feedback
                    moduleCard.style.animation = 'pulse 0.5s ease-in-out';
                    setTimeout(() => {
                        moduleCard.style.animation = '';
                    }, 500);
                }
            }

            // Refresh specific module data
            async refreshModuleData(moduleType) {
                try {
                    const moduleCard = document.querySelector(`[onclick="showModule('${moduleType}')"]`);
                    if (moduleCard) {
                        moduleCard.style.opacity = '0.7';
                        
                        // Simulate data refresh
                        await new Promise(resolve => setTimeout(resolve, 500));
                        
                        moduleCard.style.opacity = '1';
                        moduleCard.style.transform = 'scale(1.02)';
                        setTimeout(() => {
                            moduleCard.style.transform = 'scale(1)';
                        }, 200);
                    }
                } catch (error) {
                    console.error(`Failed to refresh ${moduleType} data:`, error);
                }
            }

            // Refresh offers section
            async refreshOffersSection() {
                try {
                    const offersSection = document.getElementById('offersList');
                    if (!offersSection) return;

                    // Get latest offers from admin
                    const { data: offers, error } = await supabase
                        .from('offers')
                        .select('*')
                        .eq('active', true)
                        .order('created_at', { ascending: false })
                        .limit(3);

                    if (error) throw error;

                    if (offers && offers.length > 0) {
                        this.renderOffers(offers);
                    }
                } catch (error) {
                    console.error('Failed to refresh offers:', error);
                }
            }

            // Render offers in the UI
            renderOffers(offers) {
                const offersContainer = document.querySelector('.offers-section .offer-card') || 
                                      document.querySelector('#offersList');
                
                if (!offersContainer) return;

                const offer = offers[0]; // Show first offer
                offersContainer.innerHTML = `
                    <div class="offer-content">
                        <div class="offer-badge">${offer.discount_percentage || 'Special'}% OFF</div>
                        <h6>${offer.title}</h6>
                        <p>${offer.description}</p>
                        <div class="offer-price">
                            <span class="current-price">${offer.discounted_price || offer.price} FCFA</span>
                            ${offer.original_price ? `<span class="original-price">${offer.original_price} FCFA</span>` : ''}
                        </div>
                    </div>
                    <div class="offer-image">${this.getOfferIcon(offer.category)}</div>
                `;

                // Add animation
                offersContainer.style.animation = 'fadeInUp 0.5s ease-out';
            }

            // Get appropriate icon for offer category
            getOfferIcon(category) {
                const icons = {
                    'hotel': '🏨',
                    'restaurant': '🍽️',
                    'tourism': '🏔️',
                    'event': '🎭',
                    'transportation': '🚗',
                    'shopping': '🛍️'
                };
                return icons[category] || '💎';
            }

            // Refresh user statistics
            async refreshUserStats() {
                try {
                    const userId = getCurrentUserId();
                    if (!userId) return;

                    // Get updated user stats
                    const { data: stats, error } = await supabase
                        .from('user_stats')
                        .select('*')
                        .eq('user_id', userId)
                        .single();

                    if (error && error.code !== 'PGRST116') throw error;

                    if (stats) {
                        // Update points
                        const pointsElement = document.getElementById('rewardPoints');
                        if (pointsElement) {
                            pointsElement.textContent = stats.reward_points || '0';
                            pointsElement.style.animation = 'countUp 0.5s ease-out';
                        }

                        // Update saved places count
                        const savedElement = document.getElementById('savedPlacesCount');
                        if (savedElement) {
                            savedElement.textContent = stats.saved_places || '0';
                        }

                        // Update rating
                        const ratingElement = document.getElementById('userRating');
                        if (ratingElement) {
                            ratingElement.textContent = stats.average_rating || '0.0';
                        }
                    }
                } catch (error) {
                    console.error('Failed to refresh user stats:', error);
                }
            }

            // Refresh recent activity
            async refreshRecentActivity() {
                try {
                    const userId = getCurrentUserId();
                    if (!userId) return;

                    const { data: activities, error } = await supabase
                        .from('user_activity')
                        .select('*')
                        .eq('user_id', userId)
                        .order('created_at', { ascending: false })
                        .limit(3);

                    if (error) throw error;

                    if (activities && activities.length > 0) {
                        this.renderRecentActivity(activities);
                    }
                } catch (error) {
                    console.error('Failed to refresh recent activity:', error);
                }
            }

            // Render recent activity
            renderRecentActivity(activities) {
                const activityContainer = document.querySelector('.activity-list');
                if (!activityContainer) return;

                activityContainer.innerHTML = activities.map(activity => `
                    <div class="activity-item">
                        <div class="activity-icon">${this.getActivityIcon(activity.activity_type)}</div>
                        <div class="activity-content">
                            <h6>${activity.title}</h6>
                            <p>${activity.description}</p>
                        </div>
                        <span class="activity-time">${this.getTimeAgo(activity.created_at)}</span>
                    </div>
                `).join('');
            }

            // Get activity icon
            getActivityIcon(type) {
                const icons = {
                    'visit': '📍',
                    'booking': '🏨',
                    'review': '⭐',
                    'save': '💾',
                    'event': '🎭'
                };
                return icons[type] || '📱';
            }

            // Get human readable time ago
            getTimeAgo(timestamp) {
                const now = new Date();
                const past = new Date(timestamp);
                const diffInHours = Math.floor((now - past) / (1000 * 60 * 60));
                
                if (diffInHours < 1) return 'now';
                if (diffInHours < 24) return `${diffInHours}h`;
                if (diffInHours < 168) return `${Math.floor(diffInHours / 24)}d`;
                return `${Math.floor(diffInHours / 168)}w`;
            }

            // Update last refresh time
            updateLastRefreshTime() {
                this.lastUpdateTime = new Date();
                const statusElement = document.getElementById('lastUpdateTime');
                if (statusElement) {
                    statusElement.textContent = `Last update: ${this.lastUpdateTime.toLocaleTimeString()}`;
                }
            }

            // Show connection status
            showConnectionStatus(connected) {
                const statusIndicator = document.getElementById('connectionStatus') || this.createConnectionStatus();
                statusIndicator.className = `connection-status ${connected ? 'connected' : 'disconnected'}`;
                statusIndicator.innerHTML = `
                    <div class="status-indicator ${connected ? 'online' : 'offline'}"></div>
                    <span>${connected ? 'Live' : 'Offline'}</span>
                `;
            }

            // Create connection status indicator
            createConnectionStatus() {
                const status = document.createElement('div');
                status.id = 'connectionStatus';
                status.className = 'connection-status';
                
                // Add to dashboard header
                const dashboardHeader = document.querySelector('.dashboard-header');
                if (dashboardHeader) {
                    dashboardHeader.appendChild(status);
                }

                // Add styles
                if (!document.querySelector('#connection-status-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'connection-status-styles';
                    styles.textContent = `
                        .connection-status {
                            position: absolute;
                            top: 16px;
                            right: 16px;
                            display: flex;
                            align-items: center;
                            gap: 6px;
                            font-size: 12px;
                            color: rgba(255,255,255,0.9);
                            background: rgba(255,255,255,0.1);
                            padding: 4px 8px;
                            border-radius: 12px;
                            backdrop-filter: blur(10px);
                        }
                        
                        .status-indicator {
                            width: 6px;
                            height: 6px;
                            border-radius: 50%;
                            background: #ff4757;
                        }
                        
                        .status-indicator.online {
                            background: #2ed573;
                            animation: pulse 2s infinite;
                        }
                        
                        @keyframes pulse {
                            0% { opacity: 1; }
                            50% { opacity: 0.5; }
                            100% { opacity: 1; }
                        }
                        
                        @keyframes countUp {
                            from { transform: scale(1.2); }
                            to { transform: scale(1); }
                        }
                        
                        @keyframes fadeInUp {
                            from { 
                                opacity: 0; 
                                transform: translateY(20px); 
                            }
                            to { 
                                opacity: 1; 
                                transform: translateY(0); 
                            }
                        }
                    `;
                    document.head.appendChild(styles);
                }

                return status;
            }

            // Disconnect from admin updates
            disconnect() {
                if (this.adminConnection) {
                    supabase.removeChannel(this.adminConnection);
                    this.isSubscribed = false;
                    this.showConnectionStatus(false);
                    console.log('🔌 Disconnected from admin dashboard');
                }
            }

            // Track module access for analytics
            async trackModuleAccess(moduleType) {
                try {
                    const userId = getCurrentUserId();
                    if (!userId) return;

                    // Track in database
                    const { error } = await supabase
                        .from('user_activity')
                        .insert({
                            user_id: userId,
                            activity_type: 'module_access',
                            title: `Accessed ${moduleType} module`,
                            description: `User opened the ${moduleType} module`,
                            module_type: moduleType,
                            created_at: new Date().toISOString()
                        });

                    if (error) throw error;

                    // Track module change for admin visibility
                    await this.trackModuleChange(moduleType);

                    console.log(`📊 Tracked access to ${moduleType} module`);
                } catch (error) {
                    console.warn('Failed to track module access:', error);
                }
            }

            // Get time ago helper
            getTimeAgo(timestamp) {
                const now = new Date();
                const time = new Date(timestamp);
                const diffMs = now - time;
                const diffSecs = Math.floor(diffMs / 1000);
                const diffMins = Math.floor(diffSecs / 60);
                const diffHours = Math.floor(diffMins / 60);
                const diffDays = Math.floor(diffHours / 24);

                if (diffSecs < 60) return 'Just now';
                if (diffMins < 60) return `${diffMins}m ago`;
                if (diffHours < 24) return `${diffHours}h ago`;
                return `${diffDays}d ago`;
            }

            // Handle admin actions (for user dashboard)
            handleAdminAction(payload) {
                if (this.isAdmin) return; // Don't show to admin

                const { action, admin_name, affected_users, timestamp } = payload.payload;
                
                // Show notification to user about admin changes
                this.showUserNotification(
                    'Live Update',
                    `Admin ${admin_name} made changes that may affect your experience. ${this.formatActionName(action)} completed.`
                );

                // Refresh current module if it's affected
                const currentModule = this.getCurrentModule();
                const affectedModule = this.getModuleFromAction(action);
                
                if (currentModule === affectedModule) {
                    console.log(`🔄 Refreshing ${currentModule} due to admin changes`);
                    setTimeout(() => {
                        this.refreshCurrentModule();
                    }, 2000); // Delay to allow database update to propagate
                }
            }

            // Get current module user is viewing
            getCurrentModule() {
                const currentContent = document.querySelector('.dashboard-content .current-section');
                if (!currentContent) return 'dashboard';
                
                const sectionId = currentContent.id;
                if (sectionId.includes('hotel')) return 'hotels';
                if (sectionId.includes('restaurant')) return 'restaurants';
                if (sectionId.includes('tourism')) return 'tourism';
                if (sectionId.includes('event')) return 'events';
                if (sectionId.includes('healthcare')) return 'healthcare';
                if (sectionId.includes('education')) return 'education';
                if (sectionId.includes('transportation')) return 'transportation';
                if (sectionId.includes('shopping')) return 'shopping';
                if (sectionId.includes('finance')) return 'finance';
                if (sectionId.includes('real-estate')) return 'real-estate';
                if (sectionId.includes('streaming')) return 'streaming';
                if (sectionId.includes('smartgro')) return 'smartgro';
                return 'dashboard';
            }

            // Refresh current module content
            refreshCurrentModule() {
                const currentModule = this.getCurrentModule();
                
                switch (currentModule) {
                    case 'hotels':
                        showEnhancedHotelsModule();
                        break;
                    case 'restaurants':
                        showEnhancedRestaurantsModule();
                        break;
                    case 'tourism':
                        showEnhancedTourismModule();
                        break;
                    case 'events':
                        showEnhancedEventsModule();
                        break;
                    case 'healthcare':
                        showEnhancedHealthcareModule();
                        break;
                    case 'education':
                        showEnhancedEducationModule();
                        break;
                    case 'transportation':
                        showEnhancedTransportationModule();
                        break;
                    case 'shopping':
                        showEnhancedShoppingModule();
                        break;
                    case 'finance':
                        showEnhancedFinanceModule();
                        break;
                    case 'real-estate':
                        showEnhancedRealEstateModule();
                        break;
                    case 'streaming':
                        showEnhancedStreamingModule();
                        break;
                    case 'smartgro':
                        showEnhancedSmartGroModule();
                        break;
                    default:
                        console.log('Module refresh not needed for:', currentModule);
                }
            }

            // Show user notification
            showUserNotification(title, message) {
                if (this.isAdmin) return; // Don't show user notifications to admin

                const notification = document.createElement('div');
                notification.className = 'user-notification';
                notification.innerHTML = `
                    <div class="user-notification-content">
                        <div class="notification-icon">🔔</div>
                        <div class="notification-text">
                            <strong>${title}</strong>
                            <div class="notification-message">${message}</div>
                        </div>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">×</button>
                    </div>
                `;
                
                // Add user notification styles
                if (!document.querySelector('#user-notification-styles')) {
                    const styles = document.createElement('style');
                    styles.id = 'user-notification-styles';
                    styles.textContent = `
                        .user-notification {
                            position: fixed;
                            top: 20px;
                            right: 20px;
                            background: linear-gradient(135deg, #2ed573 0%, #17a2b8 100%);
                            color: white;
                            border-radius: 12px;
                            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                            z-index: 10000;
                            max-width: 350px;
                            animation: slideInRight 0.3s ease-out;
                        }
                        
                        .user-notification-content {
                            display: flex;
                            align-items: flex-start;
                            padding: 16px;
                            gap: 12px;
                        }
                        
                        .user-notification .notification-icon {
                            font-size: 18px;
                            flex-shrink: 0;
                        }
                        
                        .user-notification .notification-text {
                            flex: 1;
                            font-size: 14px;
                        }
                        
                        .user-notification .notification-message {
                            font-size: 13px;
                            opacity: 0.9;
                            margin-top: 4px;
                        }
                        
                        .user-notification .notification-close {
                            background: rgba(255,255,255,0.2);
                            border: none;
                            border-radius: 50%;
                            color: white;
                            cursor: pointer;
                            padding: 4px;
                            width: 24px;
                            height: 24px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 16px;
                        }
                        
                        @keyframes slideInRight {
                            from {
                                transform: translateX(100%);
                                opacity: 0;
                            }
                            to {
                                transform: translateX(0);
                                opacity: 1;
                            }
                        }
                    `;
                    document.head.appendChild(styles);
                }
                
                document.body.appendChild(notification);
                
                // Auto-remove after 6 seconds
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.style.animation = 'slideInRight 0.3s ease-out reverse';
                        setTimeout(() => notification.remove(), 300);
                    }
                }, 6000);
            }
        }

        // Enhanced Admin Functions with User Impact Tracking
        
        // Enhanced addHotel function with real-time impact tracking
        async function addHotel(hotelData) {
            try {
                console.log('🏨 Adding hotel with real-time tracking...');
                
                // Show admin pre-action feedback
                if (dashboardManager && dashboardManager.isAdmin) {
                    const affectedUsers = await dashboardManager.countAffectedUsers('addHotel', [hotelData]);
                    dashboardManager.showAdminNotification(
                        'Action Preview',
                        `Adding "${hotelData.name}" will notify ${affectedUsers.count} active users`
                    );
                }
                
                // Add hotel to database
                const { data, error } = await supabase
                    .from('hotels')
                    .insert([{
                        name: hotelData.name,
                        location: hotelData.location,
                        price_range: hotelData.priceRange,
                        rating: hotelData.rating || 0,
                        description: hotelData.description || '',
                        amenities: hotelData.amenities || [],
                        image_url: hotelData.imageUrl || '',
                        contact_phone: hotelData.phone || '',
                        contact_email: hotelData.email || '',
                        room_types: hotelData.roomTypes || [],
                        available: true,
                        created_at: new Date().toISOString()
                    }])
                    .select();

                if (error) throw error;
                
                console.log('✅ Hotel added successfully:', data[0]);
                
                // Show success notification with impact
                if (dashboardManager && dashboardManager.isAdmin) {
                    dashboardManager.showAdminActionFeedback('addHotel', 
                        (await dashboardManager.countAffectedUsers('addHotel', [hotelData])).count
                    );
                }
                
                return data[0];
            } catch (error) {
                console.error('❌ Failed to add hotel:', error);
                throw error;
            }
        }

        // Enhanced updateHotel function with real-time impact tracking
        async function updateHotel(hotelId, updateData) {
            try {
                console.log('🏨 Updating hotel with real-time tracking...');
                
                // Show admin pre-action feedback
                if (dashboardManager && dashboardManager.isAdmin) {
                    const affectedUsers = await dashboardManager.countAffectedUsers('updateHotel', [updateData]);
                    dashboardManager.showAdminNotification(
                        'Action Preview',
                        `Updating hotel will notify ${affectedUsers.count} active users`
                    );
                }
                
                // Update hotel in database
                const { data, error } = await supabase
                    .from('hotels')
                    .update({
                        ...updateData,
                        updated_at: new Date().toISOString()
                    })
                    .eq('id', hotelId)
                    .select();

                if (error) throw error;
                
                console.log('✅ Hotel updated successfully:', data[0]);
                
                // Show success notification with impact
                if (dashboardManager && dashboardManager.isAdmin) {
                    dashboardManager.showAdminActionFeedback('updateHotel', 
                        (await dashboardManager.countAffectedUsers('updateHotel', [updateData])).count
                    );
                }
                
                return data[0];
            } catch (error) {
                console.error('❌ Failed to update hotel:', error);
                throw error;
            }
        }

        // Enhanced deleteHotel function with real-time impact tracking
        async function deleteHotel(hotelId) {
            try {
                console.log('🏨 Deleting hotel with real-time tracking...');
                
                // Get hotel data for notification
                const { data: hotelData } = await supabase
                    .from('hotels')
                    .select('*')
                    .eq('id', hotelId)
                    .single();
                
                // Show admin pre-action feedback
                if (dashboardManager && dashboardManager.isAdmin && hotelData) {
                    const affectedUsers = await dashboardManager.countAffectedUsers('deleteHotel', [hotelData]);
                    dashboardManager.showAdminNotification(
                        'Action Preview',
                        `Removing "${hotelData.name}" will notify ${affectedUsers.count} active users`
                    );
                }
                
                // Delete hotel from database
                const { error } = await supabase
                    .from('hotels')
                    .delete()
                    .eq('id', hotelId);

                if (error) throw error;
                
                console.log('✅ Hotel deleted successfully');
                
                // Show success notification with impact
                if (dashboardManager && dashboardManager.isAdmin) {
                    dashboardManager.showAdminActionFeedback('deleteHotel', 
                        (await dashboardManager.countAffectedUsers('deleteHotel', [hotelData])).count
                    );
                }
                
                return true;
            } catch (error) {
                console.error('❌ Failed to delete hotel:', error);
                throw error;
            }
        }

        // Enhanced restaurant functions with real-time impact tracking
        async function addRestaurant(restaurantData) {
            try {
                console.log('🍽️ Adding restaurant with real-time tracking...');
                
                // Show admin pre-action feedback
                if (dashboardManager && dashboardManager.isAdmin) {
                    const affectedUsers = await dashboardManager.countAffectedUsers('addRestaurant', [restaurantData]);
                    dashboardManager.showAdminNotification(
                        'Action Preview',
                        `Adding "${restaurantData.name}" will notify ${affectedUsers.count} active users`
                    );
                }
                
                // Add restaurant to database
                const { data, error } = await supabase
                    .from('restaurants')
                    .insert([{
                        name: restaurantData.name,
                        location: restaurantData.location,
                        cuisine_type: restaurantData.cuisineType,
                        price_range: restaurantData.priceRange,
                        rating: restaurantData.rating || 0,
                        description: restaurantData.description || '',
                        menu_items: restaurantData.menuItems || [],
                        image_url: restaurantData.imageUrl || '',
                        contact_phone: restaurantData.phone || '',
                        opening_hours: restaurantData.openingHours || {},
                        delivery_available: restaurantData.deliveryAvailable || false,
                        available: true,
                        created_at: new Date().toISOString()
                    }])
                    .select();

                if (error) throw error;
                
                console.log('✅ Restaurant added successfully:', data[0]);
                
                // Show success notification with impact
                if (dashboardManager && dashboardManager.isAdmin) {
                    dashboardManager.showAdminActionFeedback('addRestaurant', 
                        (await dashboardManager.countAffectedUsers('addRestaurant', [restaurantData])).count
                    );
                }
                
                return data[0];
            } catch (error) {
                console.error('❌ Failed to add restaurant:', error);
                throw error;
            }
        }

        // Enhanced event functions with real-time impact tracking
        async function addEvent(eventData) {
            try {
                console.log('🎉 Adding event with real-time tracking...');
                
                // Show admin pre-action feedback
                if (dashboardManager && dashboardManager.isAdmin) {
                    const affectedUsers = await dashboardManager.countAffectedUsers('addEvent', [eventData]);
                    dashboardManager.showAdminNotification(
                        'Action Preview',
                        `Adding "${eventData.name}" will notify ${affectedUsers.count} active users`
                    );
                }
                
                // Add event to database
                const { data, error } = await supabase
                    .from('events')
                    .insert([{
                        name: eventData.name,
                        description: eventData.description || '',
                        date: eventData.date,
                        time: eventData.time || '',
                        location: eventData.location,
                        category: eventData.category || 'general',
                        price: eventData.price || 0,
                        image_url: eventData.imageUrl || '',
                        organizer: eventData.organizer || '',
                        max_attendees: eventData.maxAttendees || null,
                        available: true,
                        created_at: new Date().toISOString()
                    }])
                    .select();

                if (error) throw error;
                
                console.log('✅ Event added successfully:', data[0]);
                
                // Show success notification with impact
                if (dashboardManager && dashboardManager.isAdmin) {
                    dashboardManager.showAdminActionFeedback('addEvent', 
                        (await dashboardManager.countAffectedUsers('addEvent', [eventData])).count
                    );
                }
                
                return data[0];
            } catch (error) {
                console.error('❌ Failed to add event:', error);
                throw error;
            }
        }

        // Global dashboard manager instance
        let dashboardManager = null;

        // Initialize dashboard with admin connection
        async function initializeDashboard() {
            try {
                // Initialize database first
                await databaseManager.initializeDatabase();

                // Initialize dashboard manager
                dashboardManager = new DashboardManager();
                await dashboardManager.initializeAdminConnection();
                
                // Initialize current user in database
                const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
                const userId = getCurrentUserId();
                
                if (userId && currentUser.name) {
                    await databaseManager.initializeUser(
                        userId, 
                        currentUser.name, 
                        currentUser.email || ''
                    );
                }
                
                // Initial data load
                await dashboardManager.refreshUserStats();
                await dashboardManager.refreshRecentActivity();
                await dashboardManager.refreshOffersSection();
                
                console.log('✅ Dashboard fully initialized with admin connection');
            } catch (error) {
                console.error('❌ Dashboard initialization failed:', error);
                // Continue without real-time features if failed
                console.log('⚠️ Continuing without real-time admin connection');
            }
        }

        // Enhanced module navigation with real-time data
        function showModuleScreen(moduleType) {
            // Show loading state
            showLoadingOverlay();
            
            // Navigate to module with latest data
            setTimeout(() => {
                showModule(moduleType);
                hideLoadingOverlay();
            }, 500);
        }

        // Quick action functions
        function searchNearby() {
            showSearchPage();
        }

        function showEmergency() {
            showCallCenter();
        }

        function showMap() {
            // Enhanced map functionality
            if (typeof showMapPage === 'function') {
                showMapPage();
            } else {
                alert('Map feature coming soon!');
            }
        }

        function showOffers() {
            // Navigate to offers page
            if (dashboardManager) {
                dashboardManager.refreshOffersSection();
            }
            // Show offers page logic here
        }

        function showExplorePage() {
            showPage('explore');
        }

        function showSavedPage() {
            showPage('saved');
        }

        function showProfilePage() {
            showPage('profile');
        }

        // Enhanced user dashboard navigation
        function showUserDashboard() {
            showPage('userDashboard');
            
            // Refresh dashboard data when shown
            if (dashboardManager) {
                dashboardManager.refreshUserStats();
                dashboardManager.refreshRecentActivity();
            }
        }

        // Get current user ID helper
        function getCurrentUserId() {
            return localStorage.getItem('currentUserId') || localStorage.getItem('userId') || null;
        }

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Visit Limbe App Loading...');
            initializeApp();
        });

        function initializeApp() {
            console.log('Initializing Visit Limbe App...');
            
            // Show loading screen
            const loading = document.getElementById('appLoading');
            
            // Initialize app after a short delay
            setTimeout(() => {
                // Hide all pages first
                hideAllPages();
                
                // Show welcome page by default
                showWelcomePage();
                
                // Initialize contact widget
                createContactWidget();
                
                // Initialize admin modal system
                createModuleModals();
                
                // Initialize admin-user synchronization system
                initializeSyncSystem();
                
                // Hide loading screen
                if (loading) {
                    loading.style.opacity = '0';
                    setTimeout(() => {
                        loading.style.display = 'none';
                    }, 500);
                }
                
                console.log('Visit Limbe App Initialized Successfully');
                console.log('✅ Admin-User synchronization system active');
                console.log('✅ Real-time updates enabled for all users');
                
                // Add smooth entrance animation to welcome page
                const welcomePage = document.getElementById('welcomePage');
                if (welcomePage) {
                    welcomePage.style.opacity = '0';
                    welcomePage.style.transform = 'translateY(20px)';
                    welcomePage.style.transition = 'all 0.8s ease';
                    
                    setTimeout(() => {
                        welcomePage.style.opacity = '1';
                        welcomePage.style.transform = 'translateY(0)';
                    }, 100);
                }
            }, 1500); // Show loading for 1.5 seconds
        }

    function showWelcomePageAlt() {
            hideAllPages();
            hideLoadingScreen(); // Hide loading screen when showing welcome page
            const welcomePage = document.getElementById('welcomePage');
            if (welcomePage) {
                welcomePage.classList.add('active');
                welcomePage.style.display = 'block';
                console.log('Welcome page displayed');
            } else {
                console.error('Welcome page not found');
                // Fallback to dashboard if welcome page missing
                showUserDashboard();
            }
        }

        function createContactWidget() {
            // Create floating contact widget
            const existingWidget = document.getElementById('contactWidget');
            if (existingWidget) {
                existingWidget.remove();
            }

            const contactWidget = document.createElement('div');
            contactWidget.id = 'contactWidget';
            contactWidget.className = 'contact-widget';
            contactWidget.innerHTML = `
                <button onclick="whatsappVisitLimbe('Hello, I need assistance with Visit Limbe app')" class="contact-btn whatsapp-float" title="WhatsApp Support">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="currentColor">
                        <path d="M16.004 0C7.176 0 0 7.176 0 16c0 2.856.752 5.536 2.072 7.832L.148 31.392l7.744-2.032C10.464 31.248 13.152 32 16.004 32c8.828 0 16-7.176 16-16S24.832 0 16.004 0zm8.288 22.464c-.352.88-2.064 1.728-2.416 1.824-.352.096-2.496.496-2.912.624-.416.128-1.184.192-1.76-.096-.576-.288-2.464-1.088-4.704-2.912-1.744-1.552-2.912-3.456-3.264-4.032-.352-.576-.032-1.024.224-1.344.224-.288.496-.672.752-1.024.256-.352.352-.576.528-.96.176-.384.096-.736-.048-.96-.144-.224-1.312-3.168-1.792-4.32-.48-1.152-1.024-1.024-1.408-1.024-.352 0-1.024-.096-1.568-.288-.544-.192-1.184-.672-1.568-1.152-.384-.48-1.632-1.568-2.368-2.144-.736-.576-1.536-.48-2.336-.288-1.184.288-2.112.96-2.816 1.696-.704.736-2.912 2.496-3.584 5.376-.672 2.88-.224 4.224.672 5.568.896 1.344 2.016 2.224 2.752 2.816.736.592 1.632 1.024 2.624.96.992-.064 1.568-.32 2.112-.64.544-.32 1.104-.736 1.584-1.184.48-.448.96-.96 1.376-1.632.416-.672.672-1.408.768-2.144.096-.736-.064-1.408-.352-2.016-.288-.608-.672-1.152-1.152-1.632-.48-.48-1.056-.864-1.632-1.152-.576-.288-1.184-.48-1.824-.576-.64-.096-1.312-.064-1.952.096-.64.16-1.248.448-1.824.832-.576.384-1.104.864-1.568 1.408-.464.544-.896 1.152-1.248 1.824-.352.672-.576 1.408-.672 2.144 0 .736.192 1.44.576 2.112.384.672 1.056 1.248 1.824 1.696.768.448 1.632.832 2.528.96.896.128 1.792.064 2.656-.192.864-.256 1.664-.672 2.336-1.184.672-.512 1.248-1.152 1.696-1.888.448-.736.768-1.568.96-2.432.192-.864.224-1.76.096-2.624-.128-.864-.448-1.696-.96-2.464-.512-.768-1.152-1.44-1.888-1.984-.736-.544-1.568-.96-2.464-1.248-.896-.288-1.856-.384-2.816-.288-1.184.128-2.336.448-3.392.96-1.056.512-2.016 1.248-2.816 2.112-.8.864-1.44 1.888-1.92 3.072-.48 1.184-.704 2.496-.672 3.84.032 1.344.352 2.656.96 3.84.608 1.184 1.472 2.208 2.592 2.976 1.12.768 2.368 1.312 3.744 1.568 1.376.256 2.816.224 4.224-.096 1.408-.32 2.752-.896 4.032-1.632 1.28-.736 2.432-1.696 3.456-2.88 1.024-1.184 1.856-2.528 2.496-4.032.64-1.504.96-3.168.96-4.896 0-1.728-.32-3.392-.96-4.896-.64-1.504-1.472-2.848-2.496-4.032-1.024-1.184-2.176-2.144-3.456-2.88-1.28-.736-2.592-1.312-3.936-1.568-1.344-.256-2.688-.224-4.032.096-1.344.32-2.624.896-3.84 1.632-1.216.736-2.304 1.696-3.264 2.88-.96 1.184-1.728 2.528-2.304 4.032-.576 1.504-.864 3.168-.864 4.896 0 1.728.288 3.392.864 4.896.576 1.504 1.344 2.848 2.304 4.032.96 1.184 2.048 2.144 3.264 2.88 1.216.736 2.496 1.312 3.84 1.568 1.344.256 2.688.224 4.032-.096 1.344-.32 2.592-.896 3.84-1.632 1.248-.736 2.336-1.696 3.264-2.88.928-1.184 1.664-2.528 2.208-4.032.544-1.504.8-3.168.8-4.896z"/>
                    </svg>
                </button>
                <button onclick="callVisitLimbe()" class="contact-btn call-float" title="Call Support">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                    </svg>
                </button>
                <button onclick="emailVisitLimbe('Support Request')" class="contact-btn email-float" title="Email Support">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                    </svg>
                </button>
            `;
            
            document.body.appendChild(contactWidget);
        }

        // Universal Contact Functions
        function callVisitLimbe() {
            window.open(`tel:${VISIT_LIMBE_CONTACT.phone}`, '_self');
        }

        function whatsappVisitLimbe(message = 'Hello Visit Limbe, I need assistance') {
            const encodedMessage = encodeURIComponent(message);
            window.open(`${VISIT_LIMBE_CONTACT.whatsappLink}?text=${encodedMessage}`, '_blank');
        }

        function emailVisitLimbe(subject = 'Visit Limbe Inquiry') {
            window.open(`mailto:${VISIT_LIMBE_CONTACT.email}?subject=${encodeURIComponent(subject)}`, '_self');
        }

        function momoPayment(amount, description = 'Visit Limbe Service') {
            showAlert(`Send ${amount} XAF to MTN MoMo: ${VISIT_LIMBE_CONTACT.momo} for ${description}`, 'info');
        }

        // Hotel Booking Functions with Contact Integration
        function bookHotelWithContact(hotelId, roomType, price) {
            const message = `I want to book ${roomType} at Hotel #${hotelId} for ${price} XAF. Please assist with reservation.`;
            whatsappVisitLimbe(message);
        }

        function callForReservation(hotelId) {
            showAlert(`Calling Visit Limbe for Hotel #${hotelId} reservation...`, 'info');
            callVisitLimbe();
        }

        // Global Search and Filters
        function searchModuleItems() {
            const query = document.getElementById('searchItems').value;
            showAlert(`Searching for: "${query}" - Advanced search with filters!`, 'info');
        }

        function filterItemsByStatus() {
            const status = document.getElementById('statusFilter').value;
            showAlert(`Filtering items by status: ${status}`, 'info');
        }

        function filterItemsByCategory() {
            const category = document.getElementById('categoryFilter').value;
            showAlert(`Filtering items by category: ${category}`, 'info');
        }

        // Bulk Operations
        function selectAllItems() {
            const checkboxes = document.querySelectorAll('#itemsListSection input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = true);
            showAlert('All items selected for bulk operations!', 'info');
        }

        function bulkDeleteItems() {
            if (confirm('Are you sure you want to delete selected items?')) {
                showAlert('Selected items deleted successfully!', 'success');
                loadModuleItems(window.currentModule);
            }
        }

        function bulkUpdateStatus() {
            showAlert('Bulk Status Update - Change status for multiple items!', 'info');
        }

        function bulkExportItems() {
            showAlert('Bulk Export - Download selected items data!', 'info');
        }

        // ============ SPECIALIZED MODULE MANAGEMENT FUNCTIONS ============
        
        // Booking & Accommodation Specific Functions
        function manageRoomAvailability(hotelId) {
            showAlert('Room Availability Manager - Real-time booking calendar and occupancy!', 'info');
        }
        
        function handleCheckIn(bookingId) {
            showAlert(`Check-in processing for booking ${bookingId} - Guest registration complete!`, 'success');
        }
        
        function generateOccupancyReport() {
            showAlert('Occupancy Report Generated - Daily, weekly, monthly analytics!', 'info');
        }
        
        // Shopping & E-Commerce Specific Functions
        function manageInventory(productId) {
            showAlert('Inventory Management - Stock levels, suppliers, reorder points!', 'info');
        }
        
        function processOrder(orderId) {
            showAlert(`Order ${orderId} processed - Payment confirmed, shipping scheduled!`, 'success');
        }
        
        function manageVendors() {
            showAlert('Vendor Management Portal - Applications, contracts, performance!', 'info');
        }
        
        function generateSalesReport() {
            showAlert('Sales Analytics - Revenue, top products, customer trends!', 'info');
        }
        
        // Health & Medical Specific Functions
        function scheduleAppointment(patientId) {
            showAlert('Appointment Scheduler - Doctor availability, patient history!', 'info');
        }
        
        function managePatientRecords(patientId) {
            showAlert(`Patient Records ${patientId} - Medical history, prescriptions, tests!`, 'info');
        }
        
        function emergencyDispatch() {
            showAlert('Emergency Dispatch System - Ambulance, nearest hospital, critical care!', 'warning');
        }
        
        function pharmacyInventory() {
            showAlert('Pharmacy Inventory - Medications, expiry dates, prescriptions!', 'info');
        }
        
        // Education Specific Functions
        function manageEnrollment(courseId) {
            showAlert('Student Enrollment System - Applications, requirements, payments!', 'info');
        }
        
        function gradeManagement(studentId) {
            showAlert(`Grade Management ${studentId} - Assignments, exams, transcripts!`, 'info');
        }
        
        function onlineLearning() {
            showAlert('Online Learning Platform - Video lectures, assignments, discussions!', 'info');
        }
        
        function generateAcademicReport() {
            showAlert('Academic Reports - Student progress, course completion, analytics!', 'info');
        }
        
        // Transport & Logistics Specific Functions
        function fleetManagement() {
            showAlert('Fleet Management - Vehicle tracking, maintenance, fuel consumption!', 'info');
        }
        
        function routeOptimization() {
            showAlert('Route Optimization - Traffic analysis, fuel efficiency, time savings!', 'info');
        }
        
        function driverManagement(driverId) {
            showAlert(`Driver ${driverId} Management - Performance, schedules, training!`, 'info');
        }
        
        function maintenanceSchedule() {
            showAlert('Maintenance Schedule - Service reminders, repair history, costs!', 'info');
        }
        
        // Events & Entertainment Specific Functions
        function eventPlanning(eventId) {
            showAlert('Event Planning Suite - Venue, catering, entertainment, logistics!', 'info');
        }
        
        function ticketManagement() {
            showAlert('Ticket Management - Sales, scanning, seating, refunds!', 'info');
        }
        
        function artistBooking() {
            showAlert('Artist Booking System - Contracts, riders, payment schedules!', 'info');
        }
        
        function equipmentRental() {
            showAlert('Equipment Rental - Sound, lighting, staging, technical support!', 'info');
        }
        
        // Jobs & Employment Specific Functions
        function jobPosting() {
            showAlert('Job Posting Portal - Requirements, descriptions, application process!', 'info');
        }
        
        function applicantTracking(jobId) {
            showAlert(`Applicant Tracking ${jobId} - Resumes, interviews, hiring process!`, 'info');
        }
        
        function salaryAnalysis() {
            showAlert('Salary Analysis - Market rates, compensation packages, benefits!', 'info');
        }
        
        function interviewScheduling() {
            showAlert('Interview Scheduling - Calendar integration, reminders, feedback!', 'info');
        }
        
        // Real Estate Specific Functions
        function propertyValuation(propertyId) {
            showAlert(`Property Valuation ${propertyId} - Market analysis, comparables, pricing!`, 'info');
        }
        
        function virtualTours() {
            showAlert('Virtual Tours - 360° photos, video walkthroughs, floor plans!', 'info');
        }
        
        function legalDocumentation() {
            showAlert('Legal Documentation - Contracts, titles, permits, compliance!', 'info');
        }
        
        function investmentAnalysis() {
            showAlert('Investment Analysis - ROI calculations, market trends, projections!', 'info');
        }
        
        // Streaming & Media Specific Functions
        function contentUpload() {
            showAlert('Content Upload Studio - Video processing, thumbnails, metadata!', 'info');
        }
        
        function liveStreaming() {
            showAlert('Live Streaming Dashboard - Real-time broadcasting, chat, analytics!', 'info');
        }
        
        function monetizationSettings() {
            showAlert('Monetization Settings - Ad placement, subscriptions, donations!', 'info');
        }
        
        function audienceAnalytics() {
            showAlert('Audience Analytics - Views, engagement, demographics, retention!', 'info');
        }
        
        // SmartGro Agriculture Specific Functions
        function cropManagement() {
            showAlert('Crop Management - Planting schedules, growth tracking, harvest!', 'info');
        }
        
        function weatherMonitoring() {
            showAlert('Weather Monitoring - Forecasts, alerts, irrigation planning!', 'info');
        }
        
        function marketPrices() {
            showAlert('Market Prices - Real-time commodity prices, trends, predictions!', 'info');
        }
        
        function expertConsultation() {
            showAlert('Expert Consultation - Agronomist advice, pest control, soil analysis!', 'info');
        }
        
        // Call Center Specific Functions
        function emergencyResponse() {
            showAlert('Emergency Response Center - 911 calls, dispatch, coordination!', 'warning');
        }
        
        function callAnalytics() {
            showAlert('Call Analytics - Volume, response times, satisfaction scores!', 'info');
        }
        
        function agentManagement() {
            showAlert('Agent Management - Schedules, performance, training programs!', 'info');
        }
        
        function multilingualSupport() {
            showAlert('Multilingual Support - English, French, local languages, translation!', 'info');
        }
        
        // Culture & Heritage Specific Functions
        function heritagePreservation() {
            showAlert('Heritage Preservation - Documentation, restoration, conservation!', 'info');
        }
        
        function tourGuideManagement() {
            showAlert('Tour Guide Management - Certification, schedules, languages!', 'info');
        }
        
        function culturalEvents() {
            showAlert('Cultural Events Calendar - Festivals, ceremonies, exhibitions!', 'info');
        }
        
        function visitorStatistics() {
            showAlert('Visitor Statistics - Demographics, peak times, popular sites!', 'info');
        }
        
        // Maps & Navigation Specific Functions
        function poiManagement() {
            showAlert('POI Management - Add locations, categories, descriptions, photos!', 'info');
        }
        
        function routeOptimization() {
            showAlert('Route Optimization - Traffic analysis, shortest paths, alternatives!', 'info');
        }
        
        function offlineMapSync() {
            showAlert('Offline Map Sync - Download areas, updates, storage management!', 'info');
        }
        
        function gpsTracking() {
            showAlert('GPS Tracking - Real-time location, geofencing, alerts!', 'info');
        }
        
        // Gallery & Photography Specific Functions
        function photoOrganization() {
            showAlert('Photo Organization - Albums, tags, metadata, search!', 'info');
        }
        
        function printServices() {
            showAlert('Print Services - Photo books, canvases, custom sizes, delivery!', 'info');
        }
        
        function photographerNetwork() {
            showAlert('Photographer Network - Professional booking, portfolios, rates!', 'info');
        }
        
        function digitalRights() {
            showAlert('Digital Rights Management - Licensing, watermarks, usage tracking!', 'info');
        }
        
        // Services Directory Specific Functions
        function serviceProviderVerification() {
            showAlert('Service Provider Verification - Background checks, certifications, insurance!', 'info');
        }
        
        function qualityAssurance() {
            showAlert('Quality Assurance - Customer reviews, ratings, dispute resolution!', 'info');
        }
        
        function serviceBooking() {
            showAlert('Service Booking System - Availability, scheduling, payments!', 'info');
        }
        
        function emergencyServices() {
            showAlert('Emergency Services - 24/7 availability, rapid response, priorities!', 'warning');
        }
        
        // Finance & Banking Specific Functions
        function accountManagement() {
            showAlert('Account Management - Banking services, statements, transfers!', 'info');
        }
        
        function loanProcessing() {
            showAlert('Loan Processing - Applications, credit checks, approvals!', 'info');
        }
        
        function investmentPortfolio() {
            showAlert('Investment Portfolio - Stock tracking, mutual funds, advisory!', 'info');
        }
        
        function fraudDetection() {
            showAlert('Fraud Detection - Transaction monitoring, alerts, security!', 'warning');
        }
        
        // Enhanced Module Action Buttons
        function showModuleSpecialFeatures(moduleType) {
            const config = getModuleConfig(moduleType);
            let featuresHtml = '<div class="special-features-panel"><h5>Special Features</h5>';
            
            config.features.forEach(feature => {
                featuresHtml += `<button class="btn btn-outline-info btn-sm me-2 mb-2" onclick="executeSpecialFeature('${moduleType}', '${feature}')">${feature}</button>`;
            });
            
            featuresHtml += '</div>';
            showAlert(featuresHtml, 'info');
        }
        
        function executeSpecialFeature(moduleType, feature) {
            showAlert(`${feature} activated for ${moduleType} module - Full functionality available!`, 'success');
        }
        
        // Export Module Data
        function exportModuleData(moduleType) {
            const config = getModuleConfig(moduleType);
            const stats = getModuleStats(moduleType);
            const items = getModuleItems(moduleType);
            
            const exportData = {
                module: moduleType,
                title: config.title,
                description: config.description,
                statistics: stats,
                items: items,
                exportDate: new Date().toISOString(),
                features: config.features,
                categories: config.categories,
                paymentMethods: config.paymentMethods
            };
            
            // Create download link
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${moduleType}-module-data-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showAlert(`${config.title} data exported successfully!`, 'success');
        }
        
        // Advanced Module Analytics
        function showModuleAnalytics(moduleType) {
            const stats = getModuleStats(moduleType);
            const config = getModuleConfig(moduleType);
            const analyticsHtml = `
                <div class="analytics-dashboard">
                    <h5>${config.title} - Advanced Analytics</h5>
                    <div class="row">
                        <div class="col-6">
                            <div class="metric">
                                <span class="metric-label">Total Items:</span>
                                <span class="metric-value">${stats.totalItems}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Active Items:</span>
                                <span class="metric-value">${stats.activeItems}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Categories:</span>
                                <span class="metric-value">${config.categories.length}</span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="metric">
                                <span class="metric-label">Revenue:</span>
                                <span class="metric-value">$${stats.revenue.toLocaleString()}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Growth:</span>
                                <span class="metric-value text-success">${stats.growth}</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Payment Methods:</span>
                                <span class="metric-value">${config.paymentMethods.length}</span>
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">Features Available: ${config.features.join(', ')}</small>
                    </div>
                </div>
            `;
            showAlert(analyticsHtml, 'info');
        }
        
        // ============ END SPECIALIZED MODULE MANAGEMENT FUNCTIONS ============

        // ============ ADMIN-USER SYNCHRONIZATION SYSTEM ============
        
        // Real-time synchronization between admin changes and user interface
        function syncAdminChangesToUsers() {
            // Auto-refresh user data when admin makes changes
            setInterval(() => {
                if (window.currentUser && !window.isAdmin) {
                    refreshUserInterface();
                }
            }, 2000); // Check every 2 seconds for changes
        }
        
        // Refresh all user interface data
        function refreshUserInterface() {
            try {
                // Reload all dynamic content for users
                loadUserDashboardData();
                refreshHotelsAndRestaurants();
                refreshJobsAndEvents();
                refreshShoppingProducts();
                refreshAllModuleContent();
                updateUserCategoryImages();
                
                console.log('User interface refreshed with latest admin changes');
            } catch (error) {
                console.log('Background refresh in progress...');
            }
        }
        
        // Load fresh user dashboard data
        function loadUserDashboardData() {
            if (!window.currentUser) return;
            
            // Refresh user profile
            const userProfile = JSON.parse(localStorage.getItem(`user_${window.currentUser.email}`)) || window.currentUser;
            
            // Update user info display
            const userNameElements = document.querySelectorAll('.user-name, .profile-name');
            userNameElements.forEach(el => {
                if (el) el.textContent = userProfile.fullName || userProfile.name || 'User';
            });
            
            const userEmailElements = document.querySelectorAll('.user-email, .profile-email');
            userEmailElements.forEach(el => {
                if (el) el.textContent = userProfile.email || '';
            });
            
            // Refresh user bookings, orders, etc.
            refreshUserActivity();
        }
        
        // Refresh hotels and restaurants with latest admin updates
        function refreshHotelsAndRestaurants() {
            // Get latest hotels data
            const hotelsData = JSON.parse(localStorage.getItem('hotels_data')) || [];
            const restaurantsData = JSON.parse(localStorage.getItem('restaurants_data')) || [];
            
            // Update hotels display in booking module
            const hotelsList = document.querySelector('.hotels-list');
            if (hotelsList) {
                updateHotelsDisplay(hotelsData);
            }
            
            // Update restaurants display
            const restaurantsList = document.querySelector('.restaurants-list');
            if (restaurantsList) {
                updateRestaurantsDisplay(restaurantsData);
            }
        }
        
        // Refresh jobs and events with admin updates
        function refreshJobsAndEvents() {
            const jobsData = JSON.parse(localStorage.getItem('jobs_data')) || [];
            const eventsData = JSON.parse(localStorage.getItem('events_data')) || [];
            
            // Update jobs display
            const jobsList = document.querySelector('.jobs-list');
            if (jobsList) {
                updateJobsDisplay(jobsData);
            }
            
            // Update events display
            const eventsList = document.querySelector('.events-list');
            if (eventsList) {
                updateEventsDisplay(eventsData);
            }
        }
        
        // Refresh shopping products
        function refreshShoppingProducts() {
            const productsData = JSON.parse(localStorage.getItem('products_data')) || [];
            
            const productsList = document.querySelector('.products-list');
            if (productsList) {
                updateProductsDisplay(productsData);
            }
        }
        
        // Refresh all module content
        function refreshAllModuleContent() {
            const modules = ['booking', 'shopping', 'health', 'education', 'transport', 'culture', 
                           'maps', 'gallery', 'services', 'finance', 'events', 'jobs', 'realestate', 
                           'streaming', 'ticketing', 'callcenter'];
            
            modules.forEach(module => {
                const moduleData = JSON.parse(localStorage.getItem(`${module}_data`)) || [];
                updateModuleDisplay(module, moduleData);
            });
        }
        
        // Update user category images when admin uploads new ones
        function updateUserCategoryImages() {
            const categoryImages = JSON.parse(localStorage.getItem('category_images')) || {};
            
            // Update all category image displays
            Object.keys(categoryImages).forEach(category => {
                const imageElements = document.querySelectorAll(`[data-category="${category}"] img, .${category}-icon`);
                imageElements.forEach(img => {
                    if (img && categoryImages[category]) {
                        img.src = categoryImages[category];
                    }
                });
            });
        }
        
        // Enhanced submitModal function to trigger user updates
        const originalSubmitModal = window.submitModal;
        window.submitModal = function(moduleType) {
            const result = originalSubmitModal ? originalSubmitModal(moduleType) : submitModalData(moduleType);
            
            // Trigger immediate refresh for all users
            setTimeout(() => {
                if (window.currentUser && window.isAdmin) {
                    // Admin made changes, update user interfaces
                    triggerUserInterfaceUpdate(moduleType);
                }
            }, 500);
            
            return result;
        };
        
        // Submit modal data and save to storage
        function submitModalData(moduleType) {
            const modal = document.getElementById(`${moduleType}Modal`);
            if (!modal) return;
            
            const formData = new FormData(modal.querySelector('form'));
            const data = {};
            
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Add timestamp and admin info
            data.id = Date.now();
            data.createdAt = new Date().toISOString();
            data.createdBy = window.currentUser?.email || 'admin';
            data.module = moduleType;
            
            // Save to localStorage
            const existingData = JSON.parse(localStorage.getItem(`${moduleType}_data`)) || [];
            existingData.push(data);
            localStorage.setItem(`${moduleType}_data`, JSON.stringify(existingData));
            
            // Close modal
            const bootstrapModal = bootstrap.Modal.getInstance(modal);
            if (bootstrapModal) {
                bootstrapModal.hide();
            }
            
            showAlert(`${moduleType} data saved successfully! Users will see updates immediately.`, 'success');
            return true;
        }
        
        // Trigger user interface update for specific module
        function triggerUserInterfaceUpdate(moduleType) {
            // Set flag for user interface refresh
            localStorage.setItem('admin_update_flag', JSON.stringify({
                module: moduleType,
                timestamp: Date.now(),
                adminEmail: window.currentUser?.email
            }));
            
            console.log(`Admin update triggered for ${moduleType} module - Users will see changes`);
        }
        
        // Check for admin updates (for users)
        function checkForAdminUpdates() {
            const updateFlag = localStorage.getItem('admin_update_flag');
            if (updateFlag) {
                const update = JSON.parse(updateFlag);
                const timeDiff = Date.now() - update.timestamp;
                
                // If update is less than 10 seconds old and user is not admin
                if (timeDiff < 10000 && !window.isAdmin) {
                    showRealtimeNotification(update.module, update.adminEmail);
                    
                    // Clear the flag after processing
                    localStorage.removeItem('admin_update_flag');
                }
            }
        }
        
        // Show real-time notification for admin updates
        function showRealtimeNotification(moduleType, adminEmail) {
            const notification = document.getElementById('realtimeNotification');
            const message = document.getElementById('notificationMessage');
            
            if (notification && message) {
                // Set custom message based on module
                const moduleNames = {
                    booking: 'Hotels & Restaurants',
                    shopping: 'Shopping Products',
                    health: 'Health Services',
                    education: 'Education Content',
                    transport: 'Transport Options',
                    events: 'Events & Entertainment',
                    jobs: 'Job Listings',
                    realestate: 'Real Estate Properties',
                    streaming: 'Videos & Media',
                    ticketing: 'Tickets & Tours',
                    smartgro: 'Agricultural Products',
                    callcenter: 'Support Services'
                };
                
                const moduleName = moduleNames[moduleType] || moduleType;
                message.textContent = `New ${moduleName} content has been added by admin. Click to see the latest updates!`;
                
                // Store the update info for applying changes
                window.pendingUpdate = { module: moduleType, adminEmail };
                
                // Show notification with animation
                notification.style.display = 'block';
                setTimeout(() => {
                    notification.classList.add('notification-pulse');
                }, 100);
                
                // Auto-hide after 10 seconds if user doesn't interact
                setTimeout(() => {
                    if (notification.style.display !== 'none') {
                        hideRealtimeNotification();
                    }
                }, 10000);
                
                console.log(`Real-time notification shown for ${moduleType} update`);
            }
        }
        
        // Apply real-time update when user clicks the notification
        function applyRealtimeUpdate() {
            if (window.pendingUpdate) {
                const { module, adminEmail } = window.pendingUpdate;
                
                // Refresh interface immediately
                refreshUserInterface();
                
                // Show success message
                showAlert(`✅ Your ${module} content has been updated with the latest changes!`, 'success');
                
                // Hide notification
                hideRealtimeNotification();
                
                // Clear pending update
                window.pendingUpdate = null;
                
                console.log(`Applied real-time update for ${module} module`);
            }
        }
        
        // Hide real-time notification
        function hideRealtimeNotification() {
            const notification = document.getElementById('realtimeNotification');
            if (notification) {
                notification.classList.remove('notification-pulse');
                notification.style.display = 'none';
                window.pendingUpdate = null;
                console.log('Real-time notification hidden');
            }
        }
        
        // Enhanced user activity refresh
        function refreshUserActivity() {
            if (!window.currentUser) return;
            
            const userEmail = window.currentUser.email;
            
            // Refresh user bookings
            const userBookings = JSON.parse(localStorage.getItem(`user_bookings_${userEmail}`)) || [];
            updateUserBookingsDisplay(userBookings);
            
            // Refresh user orders
            const userOrders = JSON.parse(localStorage.getItem(`user_orders_${userEmail}`)) || [];
            updateUserOrdersDisplay(userOrders);
            
            // Refresh user points
            const userPoints = JSON.parse(localStorage.getItem(`user_points_${userEmail}`)) || { total: 0 };
            updateUserPointsDisplay(userPoints);
            
            // Refresh notifications
            const userNotifications = JSON.parse(localStorage.getItem(`user_notifications_${userEmail}`)) || [];
            updateUserNotificationsDisplay(userNotifications);
        }
        
        // Display update functions
        function updateHotelsDisplay(hotels) {
            // Update hotels in booking module
            console.log(`Updated ${hotels.length} hotels in user interface`);
        }
        
        function updateRestaurantsDisplay(restaurants) {
            // Update restaurants display
            console.log(`Updated ${restaurants.length} restaurants in user interface`);
        }
        
        function updateJobsDisplay(jobs) {
            // Update jobs display
            console.log(`Updated ${jobs.length} jobs in user interface`);
        }
        
        function updateEventsDisplay(events) {
            // Update events display
            console.log(`Updated ${events.length} events in user interface`);
        }
        
        function updateProductsDisplay(products) {
            // Update products display
            console.log(`Updated ${products.length} products in user interface`);
        }
        
        function updateModuleDisplay(module, data) {
            // Update specific module display
            console.log(`Updated ${module} module with ${data.length} items in user interface`);
        }
        
        function updateUserBookingsDisplay(bookings) {
            const bookingsContainer = document.querySelector('.user-bookings');
            if (bookingsContainer) {
                bookingsContainer.innerHTML = bookings.map(booking => `
                    <div class="booking-item">
                        <h6>${booking.hotelName || booking.serviceName}</h6>
                        <p class="text-muted">${booking.checkIn || booking.date} - ${booking.checkOut || 'Single day'}</p>
                        <span class="badge bg-primary">${booking.status || 'Confirmed'}</span>
                    </div>
                `).join('');
            }
        }
        
        function updateUserOrdersDisplay(orders) {
            const ordersContainer = document.querySelector('.user-orders');
            if (ordersContainer) {
                ordersContainer.innerHTML = orders.map(order => `
                    <div class="order-item">
                        <h6>Order #${order.id}</h6>
                        <p class="text-muted">${order.total} XAF - ${order.date}</p>
                        <span class="badge bg-success">${order.status || 'Completed'}</span>
                    </div>
                `).join('');
            }
        }
        
        function updateUserPointsDisplay(points) {
            const pointsElements = document.querySelectorAll('.user-points-total');
            pointsElements.forEach(el => {
                if (el) el.textContent = points.total || 0;
            });
        }
        
        function updateUserNotificationsDisplay(notifications) {
            const notificationsContainer = document.querySelector('.user-notifications');
            if (notificationsContainer) {
                notificationsContainer.innerHTML = notifications.slice(0, 5).map(notification => `
                    <div class="notification-item">
                        <div class="notification-content">
                            <h6>${notification.title}</h6>
                            <p class="text-muted">${notification.message}</p>
                        </div>
                        <small class="text-muted">${new Date(notification.date).toLocaleDateString()}</small>
                    </div>
                `).join('');
            }
        }
        
        // Enhanced showUserDashboard function with auto-refresh
        const originalShowUserDashboard = window.showUserDashboard;
        window.showUserDashboard = function() {
            const result = originalShowUserDashboard ? originalShowUserDashboard() : showUserDashboardDefault();
            
            // Start auto-refresh for this user session
            if (!window.userRefreshInterval) {
                window.userRefreshInterval = setInterval(() => {
                    if (document.getElementById('userDashboardPage').style.display !== 'none') {
                        checkForAdminUpdates();
                        refreshUserInterface();
                    }
                }, 3000); // Check every 3 seconds when on user dashboard
            }
            
            return result;
        };
        
        // Default user dashboard display
        function showUserDashboardDefault() {
            hideAllPages();
            document.getElementById('userDashboardPage').style.display = 'block';
            loadUserDashboardData();
        }
        
        // Initialize synchronization system
        function initializeSyncSystem() {
            // Start admin-user sync system
            syncAdminChangesToUsers();
            
            // Check for updates on page load
            checkForAdminUpdates();
            
            console.log('Admin-User synchronization system initialized');
        }
        
        // ============ LANGUAGE CENTERS FUNCTIONALITY ============
        
        // Language Centers Functions
        function viewLanguageCenter(centerId) {
            const centers = {
                1: {
                    name: "British Council Limbe",
                    location: "Down Beach, Limbe",
                    description: "Premier British language center offering English courses with international certifications",
                    languages: ["English", "IELTS", "TOEFL", "Business English"],
                    instructors: 15,
                    students: 500,
                    successRate: "98%",
                    schedule: "Monday - Saturday: 8:00 AM - 6:00 PM",
                    contact: "+237 233 332 456"
                },
                2: {
                    name: "Alliance Française Limbe", 
                    location: "Motowo, Limbe",
                    description: "Official French cultural center providing comprehensive French learning programs",
                    languages: ["French A1-C2", "DELF", "DALF", "Cultural Classes"],
                    instructors: 12,
                    students: 350,
                    successRate: "92%",
                    schedule: "Monday - Friday: 9:00 AM - 5:00 PM",
                    contact: "+237 233 332 789"
                },
                3: {
                    name: "Limbe Language Institute",
                    location: "Mile 2, Limbe", 
                    description: "Local multilingual institute with flexible schedules and affordable rates",
                    languages: ["English", "French", "German", "Spanish", "Mandarin"],
                    instructors: 20,
                    students: 800,
                    successRate: "88%",
                    schedule: "Monday - Sunday: 7:00 AM - 9:00 PM",
                    contact: "+237 233 332 101"
                }
            };
            
            const center = centers[centerId];
            showModal('Language Center Details', `
                <div class="center-detail-view">
                    <div class="center-header">
                        <h3>${center.name}</h3>
                        <div class="center-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>${center.location}</span>
                        </div>
                    </div>
                    
                    <div class="center-description">
                        <p>${center.description}</p>
                    </div>
                    
                    <div class="center-languages">
                        <h4>Available Languages & Courses:</h4>
                        <div class="language-tags">
                            ${center.languages.map(lang => `<span class="language-tag">${lang}</span>`).join('')}
                        </div>
                    </div>
                    
                    <div class="center-info-grid">
                        <div class="info-item">
                            <strong>Instructors:</strong>
                            <span>${center.instructors} certified teachers</span>
                        </div>
                        <div class="info-item">
                            <strong>Students:</strong>
                            <span>${center.students}+ enrolled students</span>
                        </div>
                        <div class="info-item">
                            <strong>Success Rate:</strong>
                            <span>${center.successRate}</span>
                        </div>
                        <div class="info-item">
                            <strong>Schedule:</strong>
                            <span>${center.schedule}</span>
                        </div>
                        <div class="info-item">
                            <strong>Contact:</strong>
                            <span>${center.contact}</span>
                        </div>
                    </div>
                    
                    <div class="center-actions">
                        <button onclick="viewCourses(${centerId})" class="btn-primary">View Courses</button>
                        <button onclick="enrollLanguageCenter(${centerId})" class="btn-success">Enroll Now</button>
                        <button onclick="contactCenter(${centerId})" class="btn-secondary">Contact Center</button>
                    </div>
                </div>
            `);
        }

        function viewCourses(centerId) {
            const courses = {
                1: [
                    {name: "General English", level: "A1-C2", duration: "3 months", price: "45,000 XAF"},
                    {name: "IELTS Preparation", level: "Intermediate", duration: "6 weeks", price: "65,000 XAF"},
                    {name: "Business English", level: "B1-C1", duration: "2 months", price: "55,000 XAF"},
                    {name: "TOEFL Preparation", level: "Advanced", duration: "8 weeks", price: "70,000 XAF"}
                ],
                2: [
                    {name: "French A1 (Beginner)", level: "A1", duration: "4 months", price: "40,000 XAF"},
                    {name: "French B2 (Independent)", level: "B2", duration: "3 months", price: "50,000 XAF"},
                    {name: "DELF Preparation", level: "B1-B2", duration: "6 weeks", price: "55,000 XAF"},
                    {name: "French Culture & Conversation", level: "B1+", duration: "2 months", price: "35,000 XAF"}
                ],
                3: [
                    {name: "English Conversation", level: "All levels", duration: "2 months", price: "25,000 XAF"},
                    {name: "French Basics", level: "A1-A2", duration: "3 months", price: "30,000 XAF"},
                    {name: "German Introduction", level: "A1", duration: "4 months", price: "35,000 XAF"},
                    {name: "Spanish for Beginners", level: "A1", duration: "3 months", price: "32,000 XAF"}
                ]
            };
            
            const centerNames = {1: "British Council", 2: "Alliance Française", 3: "Limbe Language Institute"};
            const centerCourses = courses[centerId];
            
            showModal(`${centerNames[centerId]} - Available Courses`, `
                <div class="courses-list">
                    ${centerCourses.map(course => `
                        <div class="course-item">
                            <div class="course-info">
                                <h4>${course.name}</h4>
                                <div class="course-details">
                                    <span class="course-level">${course.level}</span>
                                    <span class="course-duration">${course.duration}</span>
                                    <span class="course-price">${course.price}</span>
                                </div>
                            </div>
                            <button onclick="enrollInCourse('${course.name}', ${centerId})" class="enroll-course-btn">
                                Enroll
                            </button>
                        </div>
                    `).join('')}
                </div>
                
                <div class="courses-footer">
                    <p><strong>Note:</strong> All courses include certificates upon completion</p>
                    <button onclick="contactCenter(${centerId})" class="btn-secondary">Contact for More Info</button>
                </div>
            `);
        }

        function enrollLanguageCenter(centerId) {
            const centerNames = {1: "British Council Limbe", 2: "Alliance Française Limbe", 3: "Limbe Language Institute"};
            
            showModal(`Enroll at ${centerNames[centerId]}`, `
                <form onsubmit="submitLanguageEnrollment(event, ${centerId})">
                    <div class="form-group">
                        <label>Full Name:</label>
                        <input type="text" id="enrollName" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="enrollEmail" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Phone Number:</label>
                        <input type="tel" id="enrollPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Preferred Language/Course:</label>
                        <select id="enrollCourse" required>
                            <option value="">Select course...</option>
                            ${getCenterCourseOptions(centerId)}
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Current Language Level:</label>
                        <select id="enrollLevel" required>
                            <option value="">Select level...</option>
                            <option value="beginner">Beginner (A1)</option>
                            <option value="elementary">Elementary (A2)</option>
                            <option value="intermediate">Intermediate (B1)</option>
                            <option value="upper-intermediate">Upper Intermediate (B2)</option>
                            <option value="advanced">Advanced (C1)</option>
                            <option value="proficient">Proficient (C2)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Preferred Schedule:</label>
                        <select id="enrollSchedule" required>
                            <option value="">Select schedule...</option>
                            <option value="morning">Morning Classes (8:00 AM - 12:00 PM)</option>
                            <option value="afternoon">Afternoon Classes (2:00 PM - 6:00 PM)</option>
                            <option value="evening">Evening Classes (6:00 PM - 8:00 PM)</option>
                            <option value="weekend">Weekend Classes</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Goals/Objectives (Optional):</label>
                        <textarea id="enrollGoals" rows="3" placeholder="What do you hope to achieve?"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Submit Enrollment</button>
                        <button type="button" onclick="hideAllModals()" class="btn-secondary">Cancel</button>
                    </div>
                </form>
            `);
        }

        function getCenterCourseOptions(centerId) {
            const courseOptions = {
                1: [
                    "General English",
                    "IELTS Preparation", 
                    "Business English",
                    "TOEFL Preparation"
                ],
                2: [
                    "French A1 (Beginner)",
                    "French B2 (Independent)",
                    "DELF Preparation",
                    "French Culture & Conversation"
                ],
                3: [
                    "English Conversation",
                    "French Basics",
                    "German Introduction", 
                    "Spanish for Beginners"
                ]
            };
            
            return courseOptions[centerId].map(course => 
                `<option value="${course}">${course}</option>`
            ).join('');
        }

        function submitLanguageEnrollment(event, centerId) {
            event.preventDefault();
            
            const formData = {
                name: document.getElementById('enrollName').value,
                email: document.getElementById('enrollEmail').value,
                phone: document.getElementById('enrollPhone').value,
                course: document.getElementById('enrollCourse').value,
                level: document.getElementById('enrollLevel').value,
                schedule: document.getElementById('enrollSchedule').value,
                goals: document.getElementById('enrollGoals').value,
                centerId: centerId
            };
            
            // Simulate enrollment submission
            hideAllModals();
            showNotification(`✅ Enrollment submitted successfully! The language center will contact you within 24 hours.`, 'success');
            
            // Log enrollment (in real app, send to server)
            console.log('Language Center Enrollment:', formData);
        }

        function contactCenter(centerId) {
            const centerContacts = {
                1: {
                    phone: "+237 233 332 456",
                    email: "info@britishcouncil-limbe.org",
                    address: "Down Beach, Limbe"
                },
                2: {
                    phone: "+237 233 332 789", 
                    email: "contact@alliancefrancaise-limbe.org",
                    address: "Motowo, Limbe"
                },
                3: {
                    phone: "+237 233 332 101",
                    email: "info@limbelanguage.edu",
                    address: "Mile 2, Limbe"
                }
            };
            
            const contact = centerContacts[centerId];
            showNotification(`📞 ${contact.phone} | ✉️ ${contact.email} | 📍 ${contact.address}`, 'info');
        }

        function enrollInCourse(courseName, centerId) {
            hideAllModals();
            enrollLanguageCenter(centerId);
            // Pre-select the course
            setTimeout(() => {
                const courseSelect = document.getElementById('enrollCourse');
                if (courseSelect) {
                    courseSelect.value = courseName;
                }
            }, 100);
        }
        
        // ============ END LANGUAGE CENTERS FUNCTIONALITY ============
        
        // ============ END ADMIN-USER SYNCHRONIZATION SYSTEM ============

        // ============ END COMPREHENSIVE MODULE MANAGEMENT SYSTEM ============
        
        // ============ SOCIAL AUTHENTICATION FUNCTIONS ============
        
        // Google Login
        async function loginWithGoogle() {
            const googleBtn = document.querySelector('.google-btn');
            const originalText = googleBtn.innerHTML;
            
            try {
                // Show loading state
                googleBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connexion...';
                googleBtn.disabled = true;
                
                // Check if supabase is available
                if (typeof supabase === 'undefined') {
                    throw new Error('Service Supabase non disponible. Veuillez rafraîchir la page.');
                }
                
                // Check if Google OAuth is configured
                if (!supabase.auth) {
                    throw new Error('Service d\'authentification non disponible.');
                }
                
                console.log('Tentative de connexion Google...');
                
                // Try Google OAuth with timeout
                const timeoutPromise = new Promise((_, reject) => 
                    setTimeout(() => reject(new Error('Timeout - La connexion prend trop de temps.')), 15000)
                );
                
                const authPromise = supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo: window.location.origin + window.location.pathname + '?auth=google',
                        queryParams: {
                            access_type: 'offline',
                            prompt: 'consent',
                        },
                    }
                });
                
                const { data, error } = await Promise.race([authPromise, timeoutPromise]);
                
                if (error) {
                    console.error('Erreur Google OAuth:', error);
                    throw new Error(`Erreur de connexion Google: ${error.message}`);
                }
                
                // OAuth redirect should happen automatically
                console.log('Redirection OAuth Google initiée');
                
            } catch (error) {
                console.error('Erreur lors de la connexion Google:', error);
                
                // Reset button state
                googleBtn.innerHTML = originalText;
                googleBtn.disabled = false;
                
                // Show user-friendly error message
                alert(`Erreur de connexion Google:\n${error.message}\n\nVérifiez que:\n- Vous êtes connecté à Internet\n- Les cookies sont activés\n- Votre navigateur n'est pas en mode privé/incognito`);
                
                // Try to provide helpful suggestions
                if (error.message.includes('popup')) {
                    alert('Astuce: Autorisez les popups pour ce site dans votre navigateur.');
                } else if (error.message.includes('network')) {
                    alert('Astuce: Vérifiez votre connexion Internet.');
                }
            }
        }
        
        // Facebook Login
        async function loginWithFacebook() {
            const facebookBtn = document.querySelector('.facebook-btn');
            const originalText = facebookBtn.innerHTML;
            
            try {
                // Show loading state
                facebookBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connexion...';
                facebookBtn.disabled = true;
                
                // Check if supabase is available
                if (typeof supabase === 'undefined') {
                    throw new Error('Service Supabase non disponible. Veuillez rafraîchir la page.');
                }
                
                // Check if Facebook OAuth is configured
                if (!supabase.auth) {
                    throw new Error('Service d\'authentification non disponible.');
                }
                
                console.log('Tentative de connexion Facebook...');
                
                // Try Facebook OAuth with timeout
                const timeoutPromise = new Promise((_, reject) => 
                    setTimeout(() => reject(new Error('Timeout - La connexion prend trop de temps.')), 15000)
                );
                
                const authPromise = supabase.auth.signInWithOAuth({
                    provider: 'facebook',
                    options: {
                        redirectTo: window.location.origin + window.location.pathname + '?auth=facebook',
                        queryParams: {
                            access_type: 'offline',
                        },
                    }
                });
                
                const { data, error } = await Promise.race([authPromise, timeoutPromise]);
                
                if (error) {
                    console.error('Erreur Facebook OAuth:', error);
                    throw new Error(`Erreur de connexion Facebook: ${error.message}`);
                }
                
                // OAuth redirect should happen automatically
                console.log('Redirection OAuth Facebook initiée');
                
            } catch (error) {
                console.error('Erreur lors de la connexion Facebook:', error);
                
                // Reset button state
                facebookBtn.innerHTML = originalText;
                facebookBtn.disabled = false;
                
                // Show user-friendly error message
                alert(`Erreur de connexion Facebook:\n${error.message}\n\nVérifiez que:\n- Vous êtes connecté à Internet\n- Les cookies sont activés\n- Votre navigateur n'est pas en mode privé/incognito`);
                
                // Try to provide helpful suggestions
                if (error.message.includes('popup')) {
                    alert('Astuce: Autorisez les popups pour ce site dans votre navigateur.');
                } else if (error.message.includes('network')) {
                    alert('Astuce: Vérifiez votre connexion Internet.');
                }
            }
        }
        
        // Handle social login callback
        async function handleSocialLoginCallback() {
            try {
                // Get current user from Supabase directly
                const { data: { user }, error } = await supabase.auth.getUser();
                
                if (error) {
                    console.error('Error getting user:', error);
                    return;
                }
                
                if (user) {
                    console.log('Social login successful:', user);
                    
                    // Check if user profile exists in our database
                    const { data: profile, error: profileError } = await supabase
                        .from('user_profiles')
                        .select('*')
                        .eq('user_id', user.id)
                        .single();
                    
                    if (profileError && profileError.code !== 'PGRST116') {
                        console.error('Error checking profile:', profileError);
                    }
                    
                    if (!profile) {
                        // Create user profile for social login
                        const profileData = {
                            user_id: user.id,
                            full_name: user.user_metadata?.full_name || 
                                     user.user_metadata?.name || 
                                     user.email?.split('@')[0] || 'Utilisateur',
                            email: user.email,
                            avatar_url: user.user_metadata?.avatar_url || 
                                       user.user_metadata?.picture || null,
                            created_at: new Date().toISOString()
                        };
                        
                        const { error: createError } = await supabase
                            .from('user_profiles')
                            .insert([profileData]);
                        
                        if (createError) {
                            console.error('Error creating profile:', createError);
                        } else {
                            console.log('Profile created successfully for social user');
                        }
                    }
                    
                    // Store user data in localStorage
                    localStorage.setItem('currentUser', JSON.stringify({
                        id: user.id,
                        email: user.email,
                        full_name: profile?.full_name || user.user_metadata?.full_name || user.user_metadata?.name || 'Utilisateur',
                        avatar_url: profile?.avatar_url || user.user_metadata?.avatar_url || user.user_metadata?.picture
                    }));
                    
                    // Show success message
                    alert('✅ Connexion réussie!\n\nBienvenue dans Visit Limbe !');
                    
                    // Redirect to dashboard
                    showUserDashboard();
                } else {
                    console.log('No user found after social login');
                }
                
            } catch (error) {
                console.error('Social login callback error:', error);
                alert('Erreur lors de la finalisation de la connexion. Veuillez réessayer.');
            }
        }
        
        // Initialize social auth listener
        function initializeSocialAuthListener() {
            // Check if we have the main supabase variable available
            if (typeof window.supabase === 'undefined') {
                // Try to get from the services file
                try {
                    import('./js/advanced-supabase-services.js').then(module => {
                        if (module.supabase) {
                            window.supabase = module.supabase;
                            setupAuthListener();
                        }
                    });
                } catch (error) {
                    console.error('Could not load Supabase services:', error);
                }
            } else {
                setupAuthListener();
            }
        }
        
        function setupAuthListener() {
            // Listen for auth state changes
            const { createClient } = window.supabase || {};
            
            if (!createClient && typeof supabase !== 'undefined') {
                supabase.auth.onAuthStateChange(async (event, session) => {
                    console.log('Auth state changed:', event, session);
                    
                    if (event === 'SIGNED_IN' && session?.user) {
                        console.log('User signed in:', session.user);
                        
                        // Check if this is a social login
                        if (session.user.app_metadata?.provider && 
                            ['google', 'facebook'].includes(session.user.app_metadata.provider)) {
                            
                            setTimeout(async () => {
                                await handleSocialLoginCallback();
                            }, 1000);
                        }
                    }
                    
                    if (event === 'SIGNED_OUT') {
                        console.log('User signed out');
                        localStorage.removeItem('currentUser');
                    }
                });
            }
        }
        
        // Auto-configure OAuth providers (development helper)
        async function configureOAuthProviders() {
            try {
                console.log('🔧 Configuration automatique des providers OAuth...');
                
                // This would typically be done in the Supabase dashboard
                // For now, we just show the configuration guide
                console.log('📋 Providers OAuth disponibles:');
                console.log('- Google: Nécessite Google Cloud Console');
                console.log('- Facebook: Nécessite Facebook Developers');
                console.log('- GitHub: Disponible par défaut (peut être activé)');
                
                return {
                    google: false, // Needs manual config
                    facebook: false, // Needs manual config
                    github: true // Often available by default
                };
                
            } catch (error) {
                console.error('Erreur configuration OAuth:', error);
                return {};
            }
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeSocialAuthListener();
            
            // Check for OAuth return
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('auth') === 'google' || urlParams.get('auth') === 'facebook') {
                console.log('OAuth return detected');
                setTimeout(() => {
                    handleSocialLoginCallback();
                }, 1500);
            }
            
            // Configure OAuth providers status
            configureOAuthProviders().then(providers => {
                console.log('OAuth providers status:', providers);
            });
            
            // Add fallback functionality to social buttons
            setupSocialButtonsFallback();
        });
        
        // Setup fallback for social buttons
        function setupSocialButtonsFallback() {
            // Add click handlers that offer email signup as alternative
            const socialButtons = document.querySelectorAll('.social-btn');
            
            socialButtons.forEach(button => {
                const originalOnClick = button.onclick;
                
                button.addEventListener('click', function(e) {
                    // Add a fallback timer
                    setTimeout(() => {
                        if (button.disabled) {
                            // If button is still disabled after 8 seconds, offer alternative
                            if (confirm('⏱️ La connexion sociale prend du temps.\n\nVoulez-vous utiliser l\'inscription par email à la place ?')) {
                                // Reset button
                                button.disabled = false;
                                button.innerHTML = button.innerHTML.includes('google') ? 
                                    '<i class="fab fa-google"></i> Continuer avec Google' :
                                    '<i class="fab fa-facebook-f"></i> Continuer avec Facebook';
                                
                                // Go to register page
                                showRegisterPage();
                            }
                        }
                    }, 8000);
                });
            });
        }
        
        // Test function for development (can be removed in production)
        function testSocialLogin() {
            if (confirm('🧪 Mode Test: Simuler une connexion sociale réussie ?')) {
                // Simulate successful social login
                const testUser = {
                    id: 'test-social-' + Date.now(),
                    email: 'test.social@example.com',
                    full_name: 'Utilisateur Test Social',
                    avatar_url: null
                };
                
                localStorage.setItem('currentUser', JSON.stringify(testUser));
                alert('✅ Connexion sociale test réussie !');
                showUserDashboard();
            }
        }
        
        // Quick email signup alternative
        function showQuickEmailSignup() {
            if (confirm('📧 Inscription rapide par email\n\nVoulez-vous créer un compte avec votre email à la place ?')) {
                showRegisterPage();
            }
        }
        
        // ============ END SOCIAL AUTHENTICATION FUNCTIONS ============
        
        // Hide loading screen function
        function hideLoadingScreen() {
            const loadingElement = document.getElementById('appLoading');
            if (loadingElement) {
                loadingElement.style.display = 'none';
            }
        }
        
        // Initialize authentication on page load
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Register Service Worker for PWA
                if ('serviceWorker' in navigator) {
                    try {
                        const registration = await navigator.serviceWorker.register('/sw.js');
                        console.log('Service Worker registered:', registration);
                        
                        // Écouter les mises à jour
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            if (newWorker) {
                                newWorker.addEventListener('statechange', () => {
                                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                        showNotification('🔄 Nouvelle version disponible! Rechargez la page.', 'info');
                                    }
                                });
                            }
                        });
                    } catch (error) {
                        console.log('Service Worker registration failed:', error);
                    }
                }
                
                // Initialize language first (default to French for Cameroon)
                const savedLanguage = localStorage.getItem('visitLimbeLanguage') || 'fr';
                currentLanguage = savedLanguage;
                
                // Update language button display
                updateLanguageButton();
                
                // Set language selector (if exists)
                const langSelect = document.getElementById('languageSelect');
                if (langSelect) {
                    langSelect.value = savedLanguage;
                }
                
                // Apply translations immediately
                switchLanguage(savedLanguage);
                
                // Update language button display
                updateLanguageButton();
                
                // Initialize authentication system
                await initializeAuth();
                
                // Initialize dashboard with admin connection
                await initializeDashboard();
                
                // Initialize Supabase real-time subscriptions for admin updates
                try {
                    if (window.VisitLimbeServices && window.supabase) {
                        console.log('✅ Supabase services available - real-time updates enabled');
                        // Set up real-time subscriptions for offers/ads table
                        window.supabase
                            .channel('offers-updates')
                            .on('postgres_changes', 
                                { event: '*', schema: 'public', table: 'ads' }, 
                                (payload) => {
                                    console.log('Real-time update from Supabase:', payload);
                                    // Refresh offers list if visible
                                    const listEl = document.getElementById('offersList');
                                    if (listEl) {
                                        refreshOffersList();
                                    }
                                }
                            )
                            .subscribe();
                    }
                } catch(e) { console.warn('Failed to setup Supabase real-time', e); }
                
                // Hide loading screen after initialization
                setTimeout(hideLoadingScreen, 1000);
            } catch (error) {
                console.error('Failed to initialize app:', error);
                // Fallback to welcome page if auth fails
                showWelcomePage();
                // Hide loading screen even if error
                setTimeout(hideLoadingScreen, 500);
            }
        });
        
        // Test function to debug buttons
        function testButtons() {
            console.log('=== BUTTON TEST ===');
            console.log('Current language:', currentLanguage);
            console.log('Language button exists:', document.getElementById('languageToggle') ? 'YES' : 'NO');
            console.log('Get Started button exists:', document.querySelector('.btn-primary-cta') ? 'YES' : 'NO');
            console.log('Discover More button exists:', document.querySelector('.btn-secondary-cta') ? 'YES' : 'NO');
            console.log('User login page exists:', document.getElementById('userLoginPage') ? 'YES' : 'NO');
            console.log('Features section exists:', document.getElementById('featuresSection') ? 'YES' : 'NO');
            console.log('===================');
        }
        
        // Call test on page load
        setTimeout(testButtons, 2000);
        
    </script>
    
    <!-- Visit Limbe Services -->
    <!-- Visit Limbe Services -->
    <script src="js/supabase-services.js"></script>
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
